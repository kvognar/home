"swf2js"in window||function(t){var e=t.document,i=Math,o=i.min,r=i.max,a=i.floor,n=i.ceil,s=i.pow,c=i.random,l=i.atan2,h=i.sqrt,p=i.cos,g=i.sin,u=i.log,f=i.abs,d=i.SQRT2,v=i.LN2/2,y=.29756328478758615,b=i.PI,m=Number,S=String.fromCharCode,A=isNaN,I=setTimeout,C=clearTimeout,x=setInterval,k=clearInterval,T=Function,M=t.alert,F=t.console,B="btoa"in t;!t.WebGLRenderingContext||e.createElement("canvas").getContext("webgl");var U,w=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.setTimeout,_=0,Y=0,P=[],O=[],D=0,X=new Date,L=t.navigator,E=L.userAgent,R=E.indexOf("Android")>0,H=E.indexOf("Android 4.")>0,N=E.indexOf("iPhone")>0||E.indexOf("iPod")>0,j=E.indexOf("Chrome")>0,G=R||N,Z=void 0!==(new XMLHttpRequest).responseType,V=t.ArrayBuffer,W=t.devicePixelRatio||1,z=.8*W,K=null,q=null,J="mousedown",Q="mousemove",$="mouseup";G&&(J="touchstart",Q="touchmove",$="touchend");var tt=R,et=e.createElement("canvas");if(et.width=1,et.height=1,U=et.getContext("2d"),R){var it=U.createImageData(1,1),ot=it.data;ot[0]=128,ot[3]=128,U.putImageData(it,0,0),ot=(it=U.getImageData(0,0,1,1)).data,tt=255===ot[0],it=null,ot=null}"function"!=typeof Object.defineProperty&&(Object.defineProperty=function(t,e,i){return"value"in i&&(t[e]=i.value),"get"in i&&t.__defineGetter__(e,i.get),"set"in i&&t.__defineSetter__(e,i.set),t}),"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(t,e){for(var i in e)e.hasOwnProperty(i)&&Object.defineProperty(t,i,e[i]);return t}),"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf=function(t){return t.__proto__}),"function"!=typeof Object.setPrototypeOf&&(Object.setPrototypeOf=function(t,e){return t.__proto__=e,t});var rt=new T('var a="zKV33~jZ4zN=~ji36XazM93y!{~k2y!o~k0ZlW6zN?3Wz3W?{EKzK[33[`y|;-~j^YOTz$!~kNy|L1$353~jV3zKk3~k-4P4zK_2+~jY4y!xYHR~jlz$_~jk4z$e3X5He<0y!wy|X3[:~l|VU[F3VZ056Hy!nz/m1XD61+1XY1E1=1y|bzKiz!H034zKj~mEz#c5ZA3-3X$1~mBz$$3~lyz#,4YN5~mEz#{ZKZ3V%7Y}!J3X-YEX_J(3~mAz =V;kE0/y|F3y!}~m>z/U~mI~j_2+~mA~jp2;~m@~k32;~m>V}2u~mEX#2x~mBy+x2242(~mBy,;2242(~may->2&XkG2;~mIy-_2&NXd2;~mGz,{4<6:.:B*B:XC4>6:.>B*BBXSA+A:X]E&E<~r#z+625z s2+zN=`HXI@YMXIAXZYUM8X4K/:Q!Z&33 3YWX[~mB`{zKt4z (zV/z 3zRw2%Wd39]S11z$PAXH5Xb;ZQWU1ZgWP%3~o@{Dgl#gd}T){Uo{y5_d{e@}C(} WU9|cB{w}bzvV|)[} H|zT}d||0~{]Q|(l{|x{iv{dw}(5}[Z|kuZ }cq{{y|ij}.I{idbof%cu^d}Rj^y|-M{ESYGYfYsZslS`?ZdYO__gLYRZ&fvb4oKfhSf^d<Yeasc1f&a=hnYG{QY{D`Bsa|u,}Dl|_Q{C%xK|Aq}C>|c#ryW=}eY{L+`)][YF_Ub^h4}[X|?r|u_ex}TL@YR]j{SrXgo*|Gv|rK}B#mu{R1}hs|dP{C7|^Qt3|@P{YVV |8&}#D}ef{e/{Rl|>Hni}R1{Z#{D[}CQlQ||E}[s{SG_+i8eplY[=[|ec[$YXn#`hcm}YR|{Ci(_[ql|?8p3]-}^t{wy}4la&pc|3e{Rp{LqiJ],] `kc(]@chYnrM`O^,ZLYhZB]ywyfGY~aex!_Qww{a!|)*lHrM{N+n&YYj~Z b c#e_[hZSon|rOt`}hBXa^i{lh|<0||r{KJ{kni)|x,|0auY{D!^Sce{w;|@S|cA}Xn{C1h${E]Z-XgZ*XPbp]^_qbH^e[`YM|a||+=]!Lc}]vdBc=j-YSZD]YmyYLYKZ9Z>Xcczc2{Yh}9Fc#Z.l{}(D{G{{mRhC|L3b#|xK[Bepj#ut`H[,{E9Yr}1b{[e]{ZFk7[ZYbZ0XL]}Ye[(`d}c!|*y`Dg=b;gR]Hm=hJho}R-[n}9;{N![7k_{UbmN]rf#pTe[x8}!Qcs_rs[m`|>N}^V})7{^r|/E}),}HH{OYe2{Skx)e<_.cj.cjoMhc^d}0uYZd!^J_@g,[[[?{i@][|3S}Yl3|!1|eZ|5IYw|1D}e7|Cv{OHbnx-`wvb[6[4} =g+k:{C:}ed{S]|2M]-}WZ|/q{LF|dYu^}Gs^c{Z=}h>|/i|{W]:|ip{N:|zt|S<{DH[p_tvD{N<[8Axo{X4a.^o^X>Yfa59`#ZBYgY~_t^9`jZHZn`>G[oajZ;X,i)Z.^~YJe ZiZF^{][[#Zt^|]Fjx]&_5dddW]P0C[-]}]d|y {C_jUql] |OpaA[Z{lp|rz}:Mu#]_Yf6{Ep?f5`$[6^D][^u[$[6^.Z8]]ePc2U/=]K^_+^M{q*|9tYuZ,s(dS{i=|bNbB{uG}0jZOa:[-]dYtu3]:]<{DJ_SZIqr_`l=Yt`gkTnXb3d@kiq0a`Z{|!B|}e}Ww{Sp,^Z|0>_Z}36|]A|-t}lt{R6pi|v8hPu#{C>YOZHYmg/Z4nicK[}hF_Bg|YRZ7c|crkzYZY}_iXcZ.|)U|L5{R~qi^Uga@Y[xb}&qdbd6h5|Btw[}c<{Ds53[Y7]?Z<|e0{L[ZK]mXKZ#Z2^tavf0`PE[OSOaP`4gi`qjdYMgys/?[nc,}EEb,eL]g[n{E_b/vcvgb.{kcwi`~v%|0:|iK{Jh_vf5lb}KL|(oi=LrzhhY_^@`zgf[~g)[J_0fk_V{T)}I_{D&_/d9W/|MU[)f$xW}?$xr4<{Lb{y4}&u{XJ|cm{Iu{jQ}CMkD{CX|7A}G~{kt)nB|d5|<-}WJ}@||d@|Iy}Ts|iL|/^|no|0;}L6{Pm]7}$zf:|r2}?C_k{R(}-w|`G{Gy[g]bVje=_0|PT{^Y^yjtT[[[l!Ye_`ZN]@[n_)j3nEgMa]YtYpZy].d-Y_cjb~Y~[nc~sCi3|zg}B0}do{O^{|$`_|D{}U&|0+{J3|8*]iayx{a{xJ_9|,c{Ee]QXlYb]$[%YMc*]w[aafe]aVYi[fZEii[xq2YQZHg]Y~h#|Y:thre^@^|_F^CbTbG_1^qf7{L-`VFx Zr|@EZ;gkZ@slgko`[e}T:{Cu^pddZ_`yav^Ea+[#ZBbSbO`elQfLui}.F|txYcbQ`XehcGe~fc^RlV{D_0ZAej[l&jShxG[ipB_=u:eU}3e8[=j|{D(}dO{Do[BYUZ0/]AYE]ALYhZcYlYP/^-^{Yt_1_-;YT`P4BZG=IOZ&]H[e]YYd[9^F[1YdZxZ?Z{Z<]Ba2[5Yb[0Z4l?]d_;_)a?YGEYiYv`_XmZs4ZjY^Zb]6gqGaX^9Y}dXZr[g|]Y}K aFZp^k^F]M`^{O1Ys]ZCgCv4|E>}8eb7}l`{L5[Z_faQ|c2}Fj}hw^#|Ng|B||w2|Sh{v+[G}aB|MY}A{|8o}X~{E8paZ:]i^Njq]new)`-Z>haounWhN}c#{DfZ|fK]KqGZ=:u|fqoqcv}2ssm}.r{]{nIfV{JW)[K|,Z{Uxc|]l_KdCb%]cfobya3`p}G^|LZiSC]U|(X|kBlVg[kNo({O:g:|-N|qT}9?{MBiL}Sq{`P|3a|u.{Uaq:{_o|^S}jX{Fob0`;|#y_@[V[K|cw[<_ }KU|0F}d3|et{Q7{LuZttsmf^kYZ`Af`}$x}U`|Ww}d]| >}K,r&|XI|*e{C/a-bmr1fId4[;b>tQ_:]hk{b-pMge]gfpo.|(w[jgV{EC1Z,YhaY^q,_G[c_g[J0YX]`[h^hYK^_Yib,` {i6vf@YM^hdOKZZn(jgZ>bzSDc^Z%[[o9[2=/YHZ(_/Gu_`*|8z{DUZxYt^vuvZjhi^lc&gUd4|<UiA`z]$b/Z?l}YI^jaHxe|;F}l${sQ}5g}hA|e4}?o{ih}Uz{C)jPe4]H^J[Eg[|AMZMlc}:,{iz}#*|gc{Iq|/:|zK{l&}#u|myd{{M&v~nV};L|(g|I]ogddb0xsd7^V})$uQ{HzazsgxtsO^l}F>ZB]r|{7{j@cU^{{CbiYoHlng]f+nQ[bkTn/}<-d9q {KXadZYo+n|l[|lc}V2{[a{S4Zam~Za^`{HH{xx_SvF|ak=c^[v^7_rYT`ld@]:_ub%[$[m](Shu}G2{E.ZU_L_R{tz`vj(f?^}hswz}GdZ}{S:h`aD|?W|`dgG|if{a8|J1{N,}-Ao3{H#{mfsP|[ bzn+}_Q{MT{u4kHcj_q`eZj[8o0jy{p7}C|[}l){MuYY{|Ff!Ykn3{rT|m,^R|,R}$~Ykgx{P!]>iXh6[l[/}Jgcg{JYZ.^qYfYIZl[gZ#Xj[Pc7YyZD^+Yt;4;`e8YyZVbQ7YzZxXja.7SYl[s]2^/Ha$[6ZGYrb%XiYdf2]H]kZkZ*ZQ[ZYS^HZXcCc%Z|[(bVZ]]:OJQ_DZCg<[,]%Zaa [g{C00HY[c%[ChyZ,Z_`PbXa+eh`^&jPi0a[ggvhlekL]w{Yp^v}[e{~;k%a&k^|nR_z_Qng}[E}*Wq:{k^{FJZpXRhmh3^p>de^=_7`|ZbaAZtdhZ?n4ZL]u`9ZNc3g%[6b=e.ZVfC[ZZ^^^hD{E(9c(kyZ=bb|Sq{k`|vmr>izlH[u|e`}49}Y%}FT{[z{Rk}Bz{TCc/lMiAqkf(m$hDc;qooi[}^o:c^|Qm}a_{mrZ(pA`,}<2sY| adf_%|}`}Y5U;}/4|D>|$X{jw{C<|F.hK|*A{MRZ8Zsm?imZm_?brYWZrYx`yVZc3a@f?aK^ojEd {bN}/3ZH]/$YZhm^&j 9|(S|b]mF}UI{q&aM]LcrZ5^.|[j`T_V_Gak}9J[ ZCZD|^h{N9{~&[6Zd{}B}2O|cv]K}3s}Uy|l,fihW{EG`j_QOp~Z$F^zexS`dcISfhZBXP|.vn|_HYQ|)9|cr]<`&Z6]m_(ZhPcSg>`Z]5`~1`0Xcb4k1{O!bz|CN_T{LR|a/gFcD|j<{Z._[f)mPc:1`WtIaT1cgYkZOaVZOYFrEe[}T$}Ch}mk{K-^@]fH{Hdi`c*Z&|Kt{if[C{Q;{xYB`dYIX:ZB[}]*[{{p9|4GYRh2ao{DS|V+[zd$`F[ZXKadb*A] Ys]Maif~a/Z2bmclb8{Jro_rz|x9cHojbZ{GzZx_)]:{wAayeDlx}<=`g{H1{l#}9i|)=|lP{Qq}.({La|!Y{i2EZfp=c*}Cc{EDvVB|;g}2t{W4av^Bn=]ri,|y?|3+}T*ckZ*{Ffr5e%|sB{lx^0]eZb]9[SgAjS_D|uHZx]dive[c.YPkcq/}db{EQh&hQ|eg}G!ljil|BO]X{Qr_GkGl~YiYWu=c3eb}29v3|D|}4i||.{Mv})V{SP1{FX}CZW6{cm|vO{pS|e#}A~|1i}81|Mw}es|5[}3w{C`h9aL]o{}p[G`>i%a1Z@`Ln2bD[$_h`}ZOjhdTrH{[j_:k~kv[Sdu]CtL}41{I |[[{]Zp$]XjxjHt_eThoa#h>sSt8|gK|TVi[Y{t=}Bs|b7Zpr%{gt|Yo{CS[/{iteva|cf^hgn}($_c^wmb^Wm+|55jrbF|{9^ q6{C&c+ZKdJkq_xOYqZYSYXYl`8]-cxZAq/b%b*_Vsa[/Ybjac/OaGZ4fza|a)gY{P?| I|Y |,pi1n7}9bm9ad|=d{aV|2@[(}B`d&|Uz}B}{`q|/H|!JkM{FU|CB|.{}Az}#P|lk}K{|2rk7{^8^?`/|k>|Ka{Sq}Gz}io{DxZh[yK_#}9<{TRdgc]`~Z>JYmYJ]|`!ZKZ]gUcx|^E[rZCd`f9oQ[NcD_$ZlZ;Zr}mX|=!|$6ZPZYtIo%fj}CpcN|B,{VDw~gb}@hZg`Q{LcmA[(bo`<|@$|o1|Ss}9Z_}tC|G`{F/|9nd}i=}V-{L8aaeST]daRbujh^xlpq8|}zs4bj[S`J|]?G{P#{rD{]I`OlH{Hm]VYuSYUbRc*6[j`8]pZ[bt_/^Jc*[<Z?YE|Xb|?_Z^Vcas]h{t9|Uwd)_(=0^6Zb{Nc} E[qZAeX[a]P^|_J>e8`W^j_Y}R{{Jp__]Ee#e:iWb9q_wKbujrbR}CY`,{mJ}gz{Q^{t~N|? gSga`V_||:#mi}3t|/I`X{N*|ct|2g{km}gi|{={jC}F;|E}{ZZjYf*frmu}8Tdroi{T[|+~}HG{cJ}DM{Lp{Ctd&}$hi3|FZ| m}Kr|38}^c|m_|Tr{Qv|36}?Up>|;S{DV{k_as}BK{P}}9p|t`jR{sAm4{D=b4pWa[}Xi{EjwEkI}3S|E?u=X0{jf} S|NM|JC{qo^3cm]-|JUx/{Cj{s>{Crt[UXuv|D~|j|d{YXZR}Aq}0r}(_{pJfi_z}0b|-vi)Z mFe,{f4|q`b{}^Z{HM{rbeHZ|^x_o|XM|L%|uFXm}@C_{{Hhp%a7|0p[Xp+^K}9U{bP}: tT}B|}+$|b2|[^|~h{FAby[`{}xgygrt~h1[li`c4vz|,7p~b(|mviN}^pg[{N/|g3|^0c,gE|f%|7N{q[|tc|TKA{LU}I@|AZp(}G-sz{F |qZ{}F|f-}RGn6{Z]_5})B}UJ{FFb2]4ZI@v=k,]t_Dg5Bj]Z-]L]vrpdvdGlk|gF}G]|IW}Y0[G| /bo|Te^,_B}#n^^{QHYI[?hxg{[`]D^IYRYTb&kJ[cri[g_9]Ud~^_]<p@_e_XdNm-^/|5)|h_{J;{kacVopf!q;asqd}n)|.m|bf{QW|U)}b+{tL|w``N|to{t ZO|T]jF}CB|0Q{e5Zw|k |We}5:{HO{tPwf_uajjBfX}-V_C_{{r~gg|Ude;s+}KNXH}! `K}eW{Upwbk%ogaW}9EYN}YY|&v|SL{C3[5s.]Y]I]u{M6{pYZ`^,`ZbCYR[1mNg>rsk0Ym[jrE]RYiZTr*YJ{Ge|%-lf|y(`=[t}E6{k!|3)}Zk} ][G{E~cF{u3U.rJ|a9p#o#ZE|?|{sYc#vv{E=|LC}cu{N8`/`3`9rt[4|He{cq|iSYxY`}V |(Q|t4{C?]k_Vlvk)BZ^r<{CL}#h}R+[<|i=}X|{KAo]|W<`K{NW|Zx}#;|fe{IMr<|K~tJ_x}AyLZ?{GvbLnRgN}X&{H7|x~}Jm{]-| GpNu0}.ok>|c4{PYisrDZ|fwh9|hfo@{H~XSbO]Odv]%`N]b1Y]]|eIZ}_-ZA]aj,>eFn+j[aQ_+]h[J_m_g]%_wf.`%k1e#Z?{CvYu_B^|gk`Xfh^M3`afGZ-Z|[m{L}|k3cp[it ^>YUi~d>{T*}YJ{Q5{Jxa$hg|%4`}|LAgvb }G}{P=|<;Ux{_skR{cV|-*|s-{Mp|XP|$G|_J}c6cM{_=_D|*9^$ec{V;|4S{qO|w_|.7}d0|/D}e}|0G{Dq]Kdp{}dfDi>}B%{Gd|nl}lf{C-{y}|ANZr}#={T~|-(}c&{pI|ft{lsVP}){|@u}!W|bcmB{d?|iW|:dxj{PSkO|Hl]Li:}VYk@|2={fnWt{M3`cZ6|)}|Xj}BYa?vo{e4|L7|B7{L7|1W|lvYO}W8nJ|$Vih|{T{d*_1|:-n2dblk``fT{Ky|-%}m!|Xy|-a{Pz}[l{kFjz|iH}9N{WE{x,|jz}R {P|{D)c=nX|Kq|si}Ge{sh|[X{RF{t`|jsr*fYf,rK|/9}$}}Nf{y!1|<Std}4Wez{W${Fd_/^O[ooqaw_z[L`Nbv[;l7V[ii3_PeM}.h^viqYjZ*j1}+3{bt{DR[;UG}3Og,rS{JO{qw{d<_zbAh<R[1_r`iZTbv^^a}c{iEgQZ<exZFg.^Rb+`Uj{a+{z<[~r!]`[[|rZYR|?F|qppp]L|-d|}K}YZUM|=Y|ktm*}F]{D;g{uI|7kg^}%?Z%ca{N[_<q4xC]i|PqZC]n}.bDrnh0Wq{tr|OMn6tM|!6|T`{O`|>!]ji+]_bTeU}Tq|ds}n|{Gm{z,f)}&s{DPYJ`%{CGd5v4tvb*hUh~bf]z`jajiFqAii]bfy^U{Or|m+{I)cS|.9k:e3`^|xN}@Dnlis`B|Qo{`W|>||kA}Y}{ERYuYx`%[exd`]|OyiHtb}HofUYbFo![5|+]gD{NIZR|Go}.T{rh^4]S|C9_}xO^i`vfQ}C)bK{TL}cQ|79iu}9a];sj{P.o!f[Y]pM``Jda^Wc9ZarteBZClxtM{LW}l9|a.mU}KX}4@{I+f1}37|8u}9c|v${xGlz}jP{Dd1}e:}31}%3X$|22i<v+r@~mf{sN{C67G97855F4YL5}8f{DT|xy{sO{DXB334@55J1)4.G9A#JDYtXTYM4, YQD9;XbXm9SX]IB^4UN=Xn<5(;(F3YW@XkH-X_VM[DYM:5XP!T&Y`6|,^{IS-*D.H>:LXjYQ0I3XhAF:9:(==.F*3F1189K/7163D,:@|e2{LS36D4hq{Lw/84443@4.933:0307::6D7}&l{Mx657;89;,K5678H&93D(H<&<>0B90X^I;}Ag1{P%3A+>><975}[S{PZE453?4|T2{Q+5187;>447:81{C=hL6{Me^:=7ii{R=.=F<81;48?|h8}Uh{SE|,VxL{ST,7?9Y_5Xk3A#:$%YSYdXeKXOD8+TXh7(@>(YdXYHXl9J6X_5IXaL0N?3YK7Xh!1?XgYz9YEXhXaYPXhC3X`-YLY_XfVf[EGXZ5L8BXL9YHX]SYTXjLXdJ: YcXbQXg1PX]Yx4|Jr{Ys4.8YU+XIY`0N,<H%-H;:0@,74/:8546I=9177154870UC]d<C3HXl7ALYzXFXWP<<?E!88E5@03YYXJ?YJ@6YxX-YdXhYG|9o{`iXjY_>YVXe>AYFX[/(I@0841?):-B=14337:8=|14{c&93788|di{cW-0>0<097/A;N{FqYpugAFT%X/Yo3Yn,#=XlCYHYNX[Xk3YN:YRT4?)-YH%A5XlYF3C1=NWyY}>:74-C673<69545v {iT85YED=64=.F4..9878/D4378?48B3:7:7/1VX[f4{D,{l<5E75{dAbRB-8-@+;DBF/$ZfW8S<4YhXA.(5@*11YV8./S95C/0R-A4AXQYI7?68167B95HA1*<M3?1/@;/=54XbYP36}lc{qzSS38:19?,/39193574/66878Yw1X-87E6=;964X`T734:>86>1/=0;(I-1::7ALYGXhF+Xk[@W%TYbX7)KXdYEXi,H-XhYMRXfYK?XgXj.9HX_SX]YL1XmYJ>Y}WwIXiI-3-GXcYyXUYJ$X`Vs[7;XnYEZ;XF! 3;%8;PXX(N3Y[)Xi1YE&/ :;74YQ6X`33C;-(>Xm0(TYF/!YGXg8 9L5P01YPXO-5%C|qd{{/K/E6,=0144:361:955;6443@?B7*7:F89&F35YaX-CYf,XiFYRXE_e{}sF 0*7XRYPYfXa5YXXY8Xf8Y~XmA[9VjYj*#YMXIYOXk,HHX40YxYMXU8OXe;YFXLYuPXP?EB[QV0CXfY{:9XV[FWE0D6X^YVP*$4%OXiYQ(|xp|%c3{}V`1>Y`XH00:8/M6XhQ1:;3414|TE|&o@1*=81G8<3}6<|(f6>>>5-5:8;093B^3U*+*^*UT30XgYU&7*O1953)5@E78--F7YF*B&0:%P68W9Zn5974J9::3}Vk|-,C)=)1AJ4+<3YGXfY[XQXmT1M-XcYTYZXCYZXEYXXMYN,17>XIG*SaS|/eYJXbI?XdNZ+WRYP<F:R PXf;0Xg`$|1GX9YdXjLYxWX!ZIXGYaXNYm6X9YMX?9EXmZ&XZ#XQ>YeXRXfAY[4 ;0X!Zz0XdN$XhYL XIY^XGNXUYS/1YFXhYk.TXn4DXjB{jg|4DEX]:XcZMW=A.+QYL<LKXc[vV$+&PX*Z3XMYIXUQ:ZvW< YSXFZ,XBYeXMM)?Xa XiZ4/EXcP3%}&-|6~:1(-+YT$@XIYRBC<}&,|7aJ6}bp|8)K1|Xg|8C}[T|8Q.89;-964I38361<=/;883651467<7:>?1:.}le|:Z=39;1Y^)?:J=?XfLXbXi=Q0YVYOXaXiLXmJXO5?.SFXiCYW}-;|=u&D-X`N0X^,YzYRXO(QX_YW9`I|>hZ:N&X)DQXP@YH#XmNXi$YWX^=!G6YbYdX>XjY|XlX^XdYkX>YnXUXPYF)FXT[EVTMYmYJXmYSXmNXi#GXmT3X8HOX[ZiXN]IU2>8YdX1YbX<YfWuZ8XSXcZU%0;1XnXkZ_WTG,XZYX5YSX Yp 05G?XcYW(IXg6K/XlYP4XnI @XnO1W4Zp-9C@%QDYX+OYeX9>--YSXkD.YR%Q/Yo YUX].Xi<HYEZ2WdCE6YMXa7F)=,D>-@9/8@5=?7164;35387?N<618=6>7D+C50<6B03J0{Hj|N9$D,9I-,.KB3}m |NzE0::/81YqXjMXl7YG; [.W=Z0X4XQY]:MXiR,XgM?9$9>:?E;YE77VS[Y564760391?14941:0=:8B:;/1DXjFA-564=0B3XlH1+D85:0Q!B#:-6&N/:9<-R3/7Xn<*3J4.H:+334B.=>30H.;3833/76464665755:/83H6633:=;.>5645}&E|Y)?1/YG-,93&N3AE@5 <L1-G/8A0D858/30>8<549=@B8] V0[uVQYlXeD(P#ID&7T&7;Xi0;7T-$YE)E=1:E1GR):--0YI7=E<}n9|aT6783A>D7&4YG7=391W;Zx<5+>F#J39}o/|cc;6=A050EQXg8A1-}D-|d^5548083563695D?-.YOXd37I$@LYLWeYlX<Yd+YR A$;3-4YQ-9XmA0!9/XLY_YT(=5XdDI>YJ5XP1ZAW{9>X_6R(XhYO65&J%DA)C-!B:97#A9;@?F;&;(9=11/=657/H,<8}bz|j^5446>.L+&Y^8Xb6?(CYOXb*YF(8X`FYR(XPYVXmPQ%&DD(XmZXW??YOXZXfCYJ79,O)XnYF7K0!QXmXi4IYFRXS,6<%-:YO(+:-3Q!1E1:W,Zo}Am|n~;3580534*?3Zc4=9334361693:30C<6/717:<1/;>59&:4}6!|rS36=1?75<8}[B|s809983579I.A.>84758=108564741H*9E{L{|u%YQ<%6XfH.YUXe4YL@,>N}Tv|ve*G0X)Z;/)3@A74(4P&A1X:YVH97;,754*A66:1 D739E3553545558E4?-?K17/770843XAYf838A7K%N!YW4.$T19Z`WJ*0XdYJXTYOXNZ 1XaN1A+I&Xi.Xk3Z3GB&5%WhZ1+5#Y[X<4YMXhQYoQXVXbYQ8XSYUX4YXBXWDMG0WxZA[8V+Z8X;D],Va$%YeX?FXfX[XeYf<X:Z[WsYz8X_Y]%XmQ(!7BXIZFX]&YE3F$(1XgYgYE& +[+W!<YMYFXc;+PXCYI9YrWxGXY9DY[!GXiI7::)OC;*$.>N*HA@{C|}&k=:<TB83X`3YL+G4XiK]i}(fYK<=5$.FYE%4*5*H*6XkCYL=*6Xi6!Yi1KXR4YHXbC8Xj,B9ZbWx/XbYON#5B}Ue}+QKXnF1&YV5XmYQ0!*3IXBYb71?1B75XmF;0B976;H/RXU:YZX;BG-NXj;XjI>A#D3B636N;,*%<D:0;YRXY973H5)-4FXOYf0:0;/7759774;7;:/855:543L43<?6=E,.A4:C=L)%4YV!1(YE/4YF+ F3%;S;&JC:%/?YEXJ4GXf/YS-EXEYW,9;E}X$}547EXiK=51-?71C%?57;5>463553Zg90;6447?<>4:9.7538XgN{|!}9K/E&3-:D+YE1)YE/3;37/:05}n<}:UX8Yj4Yt864@JYK..G=.(A Q3%6K>3(P3#AYE$-6H/456*C=.XHY[#S.<780191;057C)=6HXj?955B:K1 E>-B/9,;5.!L?:0>/.@//:;7833YZ56<4:YE=/:7Z_WGC%3I6>XkC*&NA16X=Yz2$X:Y^&J48<99k8}CyB-61<18K946YO4{|N}E)YIB9K0L>4=46<1K0+R;6-=1883:478;4,S+3YJX`GJXh.Yp+Xm6MXcYpX(>7Yo,/:X=Z;Xi0YTYHXjYmXiXj;*;I-8S6N#XgY}.3XfYGO3C/$XjL$*NYX,1 6;YH&<XkK9C#I74.>}Hd`A748X[T450[n75<4439:18A107>|ET}Rf<1;14876/Yb983E<5.YNXd4149>,S=/4E/<306443G/06}0&}UkYSXFYF=44=-5095=88;63844,9E6644{PL}WA8:>)7+>763>>0/B3A545CCnT}Xm|dv}Xq1L/YNXk/H8;;.R63351YY747@15YE4J8;46;.38.>4A369.=-83,;Ye3?:3@YE.4-+N353;/;@(X[YYD>@/05-I*@.:551741Yf5>6A443<3535;.58/86=D4753442$635D1>0359NQ @73:3:>><Xn?;43C14 ?Y|X611YG1&<+,4<*,YLXl<1/AIXjF*N89A4Z576K1XbJ5YF.ZOWN.YGXO/YQ01:4G38Xl1;KI0YFXB=R<7;D/,/4>;$I,YGXm94@O35Yz66695385.>:6A#5}W7n^4336:4157597434433<3|XA}m`>=D>:4A.337370?-6Q96{`E|4A}C`|Qs{Mk|J+~r>|o,wHv>Vw}!c{H!|Gb|*Ca5}J||,U{t+{CN[!M65YXOY_*B,Y[Z9XaX[QYJYLXPYuZ%XcZ8LY[SYPYKZM<LMYG9OYqSQYM~[e{UJXmQYyZM_)>YjN1~[f3{aXFY|Yk:48YdH^NZ0|T){jVFYTZNFY^YTYN~[h{nPYMYn3I]`EYUYsYIZEYJ7Yw)YnXPQYH+Z.ZAZY]^Z1Y`YSZFZyGYHXLYG 8Yd#4~[i|+)YH9D?Y^F~Y7|-eYxZ^WHYdYfZQ~[j|3>~[k|3oYmYqY^XYYO=Z*4[]Z/OYLXhZ1YLZIXgYIHYEYK,<Y`YEXIGZI[3YOYcB4SZ!YHZ*&Y{Xi3~[l|JSY`Zz?Z,~[m|O=Yi>??XnYWXmYS617YVYIHZ(Z4[~L4/=~[n|Yu{P)|];YOHHZ}~[o33|a>~[r|aE]DH~[s|e$Zz~[t|kZFY~XhYXZB[`Y}~[u|{SZ&OYkYQYuZ2Zf8D~[v}% ~[w3},Q[X]+YGYeYPIS~[y}4aZ!YN^!6PZ*~[z}?E~[{3}CnZ=~[}}EdDZz/9A3(3S<,YR8.D=*XgYPYcXN3Z5 4)~[~}JW=$Yu.XX~] }KDX`PXdZ4XfYpTJLY[F5]X~[2Yp}U+DZJ::<446[m@~]#3}]1~]%}^LZwZQ5Z`/OT<Yh^ -~]&}jx[ ~m<z!%2+~ly4VY-~o>}p62yz!%2+Xf2+~ly4VY-zQ`z (=] 2z~o2",C={" ":0,"!":1},c=34,i=2,p,s="",u=String.fromCharCode,t=u(12539);for(;++c<127;)C[u(c)]=c^39&&c^92?i++:0;i=0;for(;0<=(c=C[a.charAt(i++)]);)if(16===c)if((c=C[a.charAt(i++)])<87){if(86===c)c=1879;for(;c--;)s+=u(++p)}else s+=s.substr(8272,360);else if(c<86)s+=u(p+=c<51?c-16:(c-55)*92+C[a.charAt(i++)]);else if((c=((c-86)*92+C[a.charAt(i++)])*92+C[a.charAt(i++)])<49152)s+=u(p=c<40960?c:c|57344);else{c&=511;for(;c--;)s+=t;p=12539}return s')();function at(){for(var t in P)if(P.hasOwnProperty(t)){var e=P[t];e.isLoad&&e.resize()}}function nt(t,e){if(e.SyncStop)t.pause();else{if(e.HasLoops){t.loopCount=e.LoopCount;var i=function(){t.loopCount--,this.loopCount?(t.currentTime=0,e.HasInPoint&&(t.currentTime=e.InPoint),t.play()):t.removeEventListener("ended",i)};t.addEventListener("ended",i)}e.HasInPoint&&t.addEventListener("canplay",function(){this.currentTime=e.InPoint}),t.play()}}t.addEventListener("resize",function(){C(_),_=I(at,300)}),t.addEventListener("unload",function(){P=void 0,O=void 0});var st=function(){};st.prototype.FUNCTION=Function,st.prototype.clone=function(t){var e=function(t,i){var o;for(o in t)if(t.hasOwnProperty(o)){var r=t[o];r instanceof Array?(i[o]=[],e(r,i[o])):r instanceof Object?(i[o]={},e(r,i[o])):i[o]=r}},i={};return e(t,i),i},st.prototype.convert=function(t,e){for(var i=t.lineStyles.lineStyles,o=t.fillStyles.fillStyles,r=t.ShapeRecords,a=0,n={},s=[],c=0,l=0,h=0,p=0,g=0,u=0,f=0,d=0,v=0,y=[],b=[],m=[],S=[],A=0,I=r.length,C=0;C<I;C++){var x=r[C];if(!x){S=this.setStack(S,this.fillMerge(y,b,e)),S=this.setStack(S,m);break}if(x.isChange)A++,x.StateNewStyles&&(c=0,l=0,S=this.setStack(S,this.fillMerge(y,b,e)),S=this.setStack(S,m),y=[],b=[],m=[],x.NumFillBits&&(o=x.FillStyles.fillStyles),x.NumLineBits&&(i=x.LineStyles.lineStyles)),h=c,p=l,x.StateMoveTo&&(h=x.MoveX,p=x.MoveY),g=h,u=p,x.StateFillStyle0&&(f=x.FillStyle0),x.StateFillStyle1&&(d=x.FillStyle1),x.StateLineStyle&&(v=x.LineStyle);else{c=x.AnchorX,l=x.AnchorY;var k=x.ControlX,T=x.ControlY,M=x.isCurved;if(f&&((a=f-1)in y||(y[a]=[]),A in y[a]||(y[a][A]={obj:o[a],startX:h,startY:p,endX:0,endY:0,cache:[]}),(s=(n=y[a][A]).cache)[s.length]=this.clone(x),n.endX=c,n.endY=l),d&&((a=d-1)in b||(b[a]=[]),A in b[a]||(b[a][A]={obj:o[a],startX:h,startY:p,endX:0,endY:0,cache:[]}),(s=(n=b[a][A]).cache)[s.length]=this.clone(x),n.endX=c,n.endY=l),v){(a=v-1)in m||(m[a]={obj:i[a],cache:[]}),(s=(n=m[a]).cache)[s.length]=[0,g,u];var F=[2,c,l];M&&(F=[1,k,T,c,l]),s[s.length]=F}g=c,u=l}}return S},st.prototype.fillMerge=function(t,e,i){if((t=this.fillReverse(t)).length)for(var o in t)if(t.hasOwnProperty(o)){var r=t[o];if(o in e){var a=e[o];for(var n in r)r.hasOwnProperty(n)&&(a[a.length]=r[n])}else e[o]=r}return this.coordinateAdjustment(e,i)},st.prototype.fillReverse=function(t){if(!t.length)return t;for(var e in t)if(t.hasOwnProperty(e)){var i=t[e];for(var o in i)if(i.hasOwnProperty(o)){var r=0,a=0,n=i[o],s=n.startX,c=n.startY,l=n.cache,h=l.length;if(h){for(var p in l)if(l.hasOwnProperty(p)){var g=l[p];r=g.AnchorX,a=g.AnchorY,g.AnchorX=s,g.AnchorY=c,s=r,c=a}var u=[];if(h>0)for(;h--;)u[u.length]=l[h];n.cache=u}s=n.startX,c=n.startY,n.startX=n.endX,n.startY=n.endY,n.endX=s,n.endY=c}}return t},st.prototype.coordinateAdjustment=function(t,e){for(var i in t)if(t.hasOwnProperty(i)){var o=[],r=t[i];for(var a in r)r.hasOwnProperty(a)&&(o[o.length]=r[a]);var n=[];if(o.length>1&&!e)for(;o.length;){var s=o.shift();if(s.startX!==s.endX||s.startY!==s.endY){var c=o.length;if(c<0)break;for(var l=0;c--;){var h=o[c];if(h.startX===s.endX&&h.startY===s.endY){s.endX=h.endX,s.endY=h.endY;for(var p=s.cache,g=h.cache,u=g.length,f=0;f<u;f++)p[p.length]=g[f];o.splice(c,1),o.unshift(s),l=1;break}}l||o.unshift(s)}else n[n.length]=s}else n=o;for(var d=n.length,v=[],y={},b=0;b<d;b++){var m=n[b];y=m.obj;var S=m.cache,A=S.length;v[v.length]=[0,m.startX,m.startY];for(var I=0;I<A;I++){var C=S[I],x=[2,C.AnchorX,C.AnchorY];C.isCurved&&(x=[1,C.ControlX,C.ControlY,C.AnchorX,C.AnchorY]),v[v.length]=x}}t[i]={cache:v,obj:y}}return t},st.prototype.setStack=function(t,e){var i=this.buildCommand;if(e.length)for(var o in e)if(e.hasOwnProperty(o)){var r=e[o];t[t.length]={obj:r.obj,cmd:i.call(this,r.cache)}}return t},st.prototype.buildCommand=function(t){return this.toCanvas2D(t)},st.prototype.toCanvas2D=function(t){for(var e=t.length,i="",o=0;o<e;){var r=t[o];switch(r[0]){case 0:i+="ctx.moveTo("+r[1]+","+r[2]+");";break;case 1:i+="ctx.quadraticCurveTo("+r[1]+","+r[2]+","+r[3]+","+r[4]+");";break;case 2:i+="ctx.lineTo("+r[1]+","+r[2]+");";break;case 3:i+="ctx.bezierCurveTo("+r[1]+","+r[2]+","+r[3]+","+r[4]+","+r[5]+","+r[6]+");";break;case 4:i+="ctx.moveTo("+(r[1]+r[3])+","+r[2]+");",i+="ctx.arc("+r[1]+","+r[2]+","+r[3]+",0 , Math.PI*2, false);";break;case 5:i+="var r = Math.max(0, Math.min(("+r[1]+" * ct[0]) + ct[4], 255))|0;",i+="var g = Math.max(0, Math.min(("+r[2]+" * ct[1]) + ct[5], 255))|0;",i+="var b = Math.max(0, Math.min(("+r[3]+" * ct[2]) + ct[6], 255))|0;",i+="var a = Math.max(0, Math.min(("+r[4]+" * 255 * ct[3]) + ct[7], 255)) / 255;",i+="ctx.fillStyle = 'rgba('+r+', '+g+', '+b+', '+a+')';";break;case 6:i+="var r = Math.max(0, Math.min(("+r[1]+" * ct[0]) + ct[4], 255))|0;",i+="var g = Math.max(0, Math.min(("+r[2]+" * ct[1]) + ct[5], 255))|0;",i+="var b = Math.max(0, Math.min(("+r[3]+" * ct[2]) + ct[6], 255))|0;",i+="var a = Math.max(0, Math.min(("+r[4]+" * 255 * ct[3]) + ct[7], 255)) / 255;",i+="ctx.strokeStyle = 'rgba('+r+', '+g+', '+b+', '+a+')';";break;case 7:i+="if (!isClip) { ctx.fill(); }";break;case 8:i+="if (!isClip) { ctx.stroke(); }";break;case 9:i+="ctx.lineWidth = "+r[1]+";";break;case 10:i+="ctx.lineCap = '"+r[1]+"';";break;case 11:case 12:i+="ctx.lineJoin = '"+r[1]+"';";break;case 13:i+="ctx.beginPath();"}o++}return new this.FUNCTION("ctx","ct","isClip",i)},st.prototype.toWebGL=function(t){for(var e=t.length,i=[],o=[],r=[],a=-1,n={x:0,y:0},s=0;s<e;s++){var c=t[s];switch(c[0]){case 0:a>0&&(i[a]=r),i[++a+1]=[],(r=[])[r.length]=c[1],r[r.length]=c[2],n.x=c[1],n.y=c[2];break;case 1:o[o.length]=n.x,o[o.length]=n.y,o[o.length]=c[1],o[o.length]=c[2],o[o.length]=c[3],o[o.length]=c[4],r[r.length]=c[3],r[r.length]=c[4],n.x=c[3],n.y=c[4];break;case 2:r[r.length]=c[1],r[r.length]=c[2],n.x=c[1],n.y=c[2]}}return new this.FUNCTION("ctx","")};var ct=new st,lt=function(){this.store={},this.pool=[],this.size=73400320};lt.prototype.reset=function(){var t=this.store;for(var e in t)if(t.hasOwnProperty(e)){var i=t[e];i instanceof CanvasRenderingContext2D&&this.destroy(i)}this.store={},this.size=73400320},lt.prototype.destroy=function(t){var e=this.pool,i=t.canvas;t.clearRect(0,0,i.width+1,i.height+1),i.width=i.height=1,e[e.length]=i},lt.prototype.getCanvas=function(){return this.pool.pop()||e.createElement("canvas")},lt.prototype.getCache=function(t){return this.store[t]},lt.prototype.setCache=function(t,e){if(e instanceof CanvasRenderingContext2D){var i=e.canvas;this.size-=i.width*i.height}this.store[t]=e},lt.prototype.generateKey=function(t,e,i,o){var r=t+"_"+e;return i instanceof Array&&(r+="_"+i.join("_")),o instanceof Array&&(r+="_"+o.join("_")),r};var ht=new lt,pt=function(){this.data=null,this.bit_offset=0,this.byte_offset=0,this.bit_buffer=null};pt.prototype.init=function(t){for(var e=t.length,i=this.createArray(e),o=0;o<e;)i[o]=255&t.charCodeAt(o),o++;this.data=i},pt.prototype.decodeToShiftJis=function(t){return t.replace(/%(8[1-9A-F]|[9E][0-9A-F]|F[0-9A-C])(%[4-689A-F][0-9A-F]|%7[0-9A-E]|[@-~])|%([0-7][0-9A-F]|A[1-9A-F]|[B-D][0-9A-F])/gi,function(t){var e=parseInt(t.substring(1,3),16),i=t.length;return 3===i?S(e<160?e:e+65216):rt.charAt(188*(e<160?e-129:e-193)+(4===i?t.charCodeAt(3)-64:(e=parseInt(t.substring(4),16))<127?e-64:e-65))})},pt.prototype.unlzma=function(t){return[]},pt.prototype.unzip=function(t,e){var i=0,o=0,r=0,a=[],n=[],s=new pt;s.setData(t);var c=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],l=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];V&&(c=new Uint8Array(c),l=new Uint8Array(l),h=new Uint16Array(h),p=new Uint8Array(p),g=new Uint16Array(g));var u=2;e&&(u=10),s.setOffset(u,8);for(var f=0;!f;){f=s.readUB(1);var d=s.readUB(2),v={},y={},b=!1,m=!1;if(d){if(1===d){if(y=m,!(v=b)){for(n=[],o=32;o--;)n[n.length]=5;v=b=this.buildHuffTable(n)}if(!y){for(n=[],o=0;o<144;)o++,n[n.length]=8;for(;o<256;)o++,n[n.length]=9;for(;o<280;)o++,n[n.length]=7;for(;o<288;)o++,n[n.length]=8;y=m=this.buildHuffTable(n)}}else{var S=s.readUB(5)+257,A=s.readUB(5)+1,I=s.readUB(4)+4,C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(V&&(C=new Uint8Array(C)),o=0;o<I;o++)C[c[o]]=s.readUB(3);var x=this.buildHuffTable(C);C=null;for(var k=[],T=0,M=S+A;k.length<M;)switch(i=this.decodeSymbol(s,x)){case 16:for(o=s.readUB(2)+3;o--;)k[k.length]=T;break;case 17:for(o=s.readUB(3)+3;o--;)k[k.length]=0;break;case 18:for(o=s.readUB(7)+11;o--;)k[k.length]=0;break;default:i<=15&&(k[k.length]=i,T=i)}v=this.buildHuffTable(k.splice(S,A)),y=this.buildHuffTable(k)}for(i=0;256!==i;)if((i=this.decodeSymbol(s,y))<256)a[a.length]=i;else if(i>256){var F=i-257;r=h[F]+s.readUB(l[F]);var B=this.decodeSymbol(s,v),U=g[B]+s.readUB(p[B]);for(o=a.length-U;r--;)a[a.length]=a[o++]}}else for(s.bit_offset=8,s.bit_buffer=null,r=s.readNumber(2),s.readNumber(2);r--;)a[a.length]=s.readNumber(1)}return a},pt.prototype.buildHuffTable=function(t){for(var e=t.length,i=[],o=[],a={},n=0,s=0,c=0,l=0;l<e;l++)c=r(c,t[l]);for(c++,l=e;l--;)i[s=t[l]]=(i[s]||0)+(s>0);for(l=1;l<c;l++)(s=l-1)in i||(i[s]=0),n=n+i[s]<<1,o[l]=0|n;for(l=0;l<e;l++)(s=t[l])&&(a[o[s]]={length:s,symbol:l},o[s]++);return a},pt.prototype.decodeSymbol=function(t,e){for(var i=0,o=0;;)if(o++,(i=i<<1|t.readUB(1))in e){var r=e[i];if(r.length===o)return r.symbol}},pt.prototype.createArray=function(t){return V?new Uint8Array(t):[]},pt.prototype.setData=function(t){this.data=t},pt.prototype.getHeaderSignature=function(){for(var t="",e=3;e;){var i=this.getUI8();switch(i){case 32:case 96:case 127:continue}t+=S(i),e--}return t},pt.prototype.getVersion=function(){return this.getUI8()},pt.prototype.byteAlign=function(){this.bit_offset&&(this.byte_offset+=(this.bit_offset+7)/8|0,this.bit_offset=0)},pt.prototype.getData=function(t){this.byteAlign();for(var e=this.createArray(t),i=0,o=this.data,r=t;r--;)e[i++]=o[this.byte_offset++];return e},pt.prototype.getDataUntil=function(t,e){var i=this.data;this.byteAlign();var o=this.byte_offset,r=0;if(null===t)r=-1;else for(var a=i.length;;){var n=i[o+r];if(r++,0===n||o+r>=a)break}var s=-1===r?i.length-o:r,c=[],l="",h=Array.prototype.join,p=0;if(null!==t){for(p=0;p<s;p++){var g=i[o+p];10!==g&&13!==g||(c[c.length]="\n"),g<32||(c[c.length]="%"+g.toString(16))}if(c.length){var u=h.call(c,"");if(u.length>5&&"\n"===u.substr(-5)&&(u=u.slice(0,-5)),e)l=this.decodeToShiftJis(u);else try{l=decodeURIComponent(u)}catch(t){l=this.decodeToShiftJis(u)}}}else for(p=0;p<s;p++)l+=S(i[o+p]);return this.byte_offset=o+s,l},pt.prototype.byteCarry=function(){if(this.bit_offset>7)this.byte_offset+=(this.bit_offset+7)/8|0,this.bit_offset&=7;else for(;this.bit_offset<0;)this.byte_offset--,this.bit_offset+=8},pt.prototype.getUIBits=function(t){for(var e=0,i=this.getUIBit;t--;)e<<=1,e|=i.call(this);return e},pt.prototype.getUIBit=function(){return this.byteCarry(),this.data[this.byte_offset]>>7-this.bit_offset++&1},pt.prototype.getSIBits=function(t){var e=this.getUIBits(t),i=e&1<<t-1;return i?-(e^2*i-1)-1:e},pt.prototype.getUI8=function(){return this.byteAlign(),this.data[this.byte_offset++]},pt.prototype.getUI16=function(){var t=this.data;return this.byteAlign(),t[this.byte_offset++]|t[this.byte_offset++]<<8},pt.prototype.getUI24=function(){var t=this.data;return this.byteAlign(),t[this.byte_offset++]|(t[this.byte_offset++]|t[this.byte_offset++]<<8)<<8},pt.prototype.getUI32=function(){var t=this.data;return this.byteAlign(),t[this.byte_offset++]|(t[this.byte_offset++]|(t[this.byte_offset++]|t[this.byte_offset++]<<8)<<8)<<8},pt.prototype.getUI16BE=function(){var t=this.data;return this.byteAlign(),t[this.byte_offset++]<<8|t[this.byte_offset++]},pt.prototype.getFloat16=function(){for(var t=this.getData(2),e=0,i=2;i--;)e|=t[i]<<8*i;return e},pt.prototype.getFloat32=function(){for(var t=this.getData(4),e=0,i=4;i--;)e|=t[i]<<8*i;return e&&2147483648!==e?(2147483648&e?-1:1)*(8388608|8388607&e)*s(2,(e>>23&255)-127-23):0},pt.prototype.getFloat64=function(){var t=this.getUI32(),e=this.getUI32();return t||e?(0===(t>>>31&1)?1:-1)*((1048575&t)/1048576+e/4503599627370496+1)*s(2,(t>>>20&2047)-1023):0},pt.prototype.getFloat64LittleEndian=function(){for(var t=this.data,e="",i=0;i<8;i++){for(var o=t[this.byte_offset++].toString(2);o.length<8;)o="0"+o;e=o+e}var r="1"===e.charAt(0)?-1:1,a=parseInt(e.substr(1,11),2)-1023,n=e.substr(12,52),c="1"+n,l=1,h=0;if(-1023===a){if(-1===n.indexOf("1"))return 0;a=-1022,c="0"+n}for(var p=0;p<c.length;){h+=l*+c.charAt(p),l/=2,p++}return r*h*s(2,a)},pt.prototype.toUI16=function(t){return t[0]+(t[1]<<8)},pt.prototype.toSI16LE=function(t){var e=this.toUI16(t);return e<32768?e:e-65536},pt.prototype.getSI8=function(){var t=this.getUI8();return t>>7&&(t-=256),t},pt.prototype.getSI24=function(){var t=this.getUI24();return t>>23&&(t-=16777216),t},pt.prototype.incrementOffset=function(t,e){this.byte_offset+=t,this.bit_offset+=e,this.byteCarry()},pt.prototype.setOffset=function(t,e){this.byte_offset=t,this.bit_offset=e},pt.prototype.getU30=function(){for(var t=0,e=this.data,i=0;i<5;i++){var o=e[this.byte_offset++];if(t|=(127&o)<<7*i,!(128&o))break}return t},pt.prototype.getS30=function(){var t=this.byte_offset,e=this.getU30(),i=8*(this.byte_offset-t);return e>>i-1&&(e-=s(2,i)),e},pt.prototype.ReadU30=function(t){for(var e=0,i=this.data,o=0;o<5;o++){var r=i[t++];if(e|=(127&r)<<7*o,!(128&r))break}return e},pt.prototype.AbcReadString=function(){for(var t=this.byte_offset,e=this.data,i=this.ReadU30(t)+1,o=[],r=0;r<i;r++){var a=e[this.byte_offset++];if(!(a<33)){switch(a){default:break;case 34:case 35:case 36:case 37:case 38:case 39:case 43:case 45:continue}o[o.length]=S(a)}}return o.join("")},pt.prototype.readUB=function(t){for(var e=0,i=0;i<t;i++)8===this.bit_offset&&(this.bit_buffer=this.readNumber(1),this.bit_offset=0),e|=(this.bit_buffer&1<<this.bit_offset++?1:0)<<i;return e},pt.prototype.readNumber=function(t){for(var e=0,i=this.byte_offset,o=i+t;o>i;)e=e<<8|this.data[--o];return this.byte_offset+=t,e},pt.prototype.deCompress=function(t,e){var i=this.byte_offset;this.byte_offset=0;for(var o=this.getData(i),r="ZLIB"===e?this.unzip(this.data,!0):this.unlzma(this.data),a=0,n=0,s=this.createArray(t),c=o.length;a<c;)s[n++]=o[a],a++;for(a=0,c=r.length;a<c;)s[n++]=r[a],a++;this.data=s,this.byte_offset=i};var gt=function(){this.matrix=this.cloneArray([1,0,0,1,0,0]),this.colorTransform=this.cloneArray([1,1,1,1,0,0,0,0]),this.filters=null,this.blendMode="normal"};gt.prototype.cloneArray=function(t){for(var e=[],i=t.length,o=0;o<i;o++)e[o]=t[o];return e},gt.prototype.getBlendName=function(t){var e=null;switch(t){case 1:case"normal":e="normal";break;case 2:case"layer":e="layer";break;case 3:case"multiply":e="multiply";break;case 4:case"screen":e="screen";break;case 5:case"lighten":e="lighten";break;case 6:case"darken":e="darken";break;case 7:case"difference":e="difference";break;case 8:case"add":e="add";break;case 9:case"subtract":e="subtract";break;case 10:case"invert":e="invert";break;case 11:case"alpha":e="alpha";break;case 12:case"erase":e="erase";break;case 13:case"overlay":e="overlay";break;case 14:case"hardlight":e="hardlight"}return e},gt.prototype.clone=function(){var t=new gt;return t.setMatrix(this.getMatrix()),t.setColorTransform(this.getColorTransform()),t.setFilters(this.getFilters()),t.setBlendMode(this.getBlendMode()),t},gt.prototype.getMatrix=function(){return this.matrix},gt.prototype.setMatrix=function(t){this.matrix=this.cloneArray(t)},gt.prototype.getColorTransform=function(){return this.colorTransform},gt.prototype.setColorTransform=function(t){this.colorTransform=this.cloneArray(t)},gt.prototype.getFilters=function(){return this.filters},gt.prototype.setFilters=function(t){this.filters=t},gt.prototype.getBlendMode=function(){return this.blendMode},gt.prototype.setBlendMode=function(t){this.blendMode=this.getBlendName(t)};var ut=function(t,e){this.stage=t,this.bitio=e,this.currentPosition={x:0,y:0},this.jpegTables=null};ut.prototype.parse=function(t){var e=this.bitio.data.length;return this.parseTags(e,t.characterId)},ut.prototype.build=function(t,e){if(t.length){var i=this.showFrame,o=[];for(var r in t)if(t.hasOwnProperty(r)){var a=t[r];i.call(this,a,e,o)}}},ut.prototype.showFrame=function(t,e,i){var o,a,n=this.buildTag,s=[],c=t.frame,l=this.stage;c in i||(i[c]=[]),e.setTotalFrames(r(e.getTotalFrames(),c));var h=t.actionScript;if(h.length)for(o in h)h.hasOwnProperty(o)&&e.setActions(c,h[o]);var p=t.labels;if(p.length)for(o in p)if(p.hasOwnProperty(o)){var g=p[o];e.addLabel(g.frame,g.name)}var u=t.sounds;if(u.length)for(o in u)u.hasOwnProperty(o)&&e.addSound(c,u[o]);var f=t.cTags;if(f.length)for(o in f)f.hasOwnProperty(o)&&(s[(a=f[o]).Depth]=!0,n.call(this,c,a,e,i));var d=t.removeTags;if(d.length)for(o in e.setRemoveTag(c,d),d){if(d.hasOwnProperty(o))s[d[o].Depth]=!0}if(c>1){var v=c-1,y=e.container;if(v in y){var b=y[v];if(c in y||(y[c]=[]),b.length){var m=e.instanceId;for(var S in b)b.hasOwnProperty(S)&&(S in s||(y[c][S]=b[S],l.copyPlaceObject(m,S,c),i[c][S]=i[v][S]))}}}},ut.prototype.buildTag=function(t,e,i,o){var r=i.container;t in r||(r[t]=[]);var a=!0;if(e.PlaceFlagMove){var n=o[t-1][e.Depth];void 0!==n&&(e.PlaceFlagHasCharacter?e.CharacterId!==n.CharacterId&&(a=!1):(e.PlaceFlagHasCharacter=n.PlaceFlagHasCharacter,e.CharacterId=n.CharacterId),!e.PlaceFlagHasMatrix&&n.PlaceFlagHasMatrix&&(e.PlaceFlagHasMatrix=n.PlaceFlagHasMatrix,e.Matrix=n.Matrix),!e.PlaceFlagHasColorTransform&&n.PlaceFlagHasColorTransform&&(e.PlaceFlagHasColorTransform=n.PlaceFlagHasColorTransform,e.ColorTransform=n.ColorTransform),!e.PlaceFlagHasClipDepth&&n.PlaceFlagHasClipDepth&&(e.PlaceFlagHasClipDepth=n.PlaceFlagHasClipDepth,e.ClipDepth=n.ClipDepth),!e.PlaceFlagHasClipActions&&n.PlaceFlagHasClipActions&&(e.PlaceFlagHasClipActions=n.PlaceFlagHasClipActions,e.ClipActionRecords=n.ClipActionRecords),e.PlaceFlagHasRatio||a||(e.PlaceFlagHasRatio=1,e.Ratio=t-1),!e.PlaceFlagHasFilterList&&n.PlaceFlagHasFilterList&&(e.PlaceFlagHasFilterList=n.PlaceFlagHasFilterList,e.SurfaceFilterList=n.SurfaceFilterList),!e.PlaceFlagHasBlendMode&&n.PlaceFlagHasBlendMode&&(e.PlaceFlagHasBlendMode=n.PlaceFlagHasBlendMode,e.BlendMode=n.BlendMode))}o[t][e.Depth]=e;var s=this.buildObject(e,i,a,t);if(s){var c=this.stage,l=this.buildPlaceObject(e);c.setPlaceObject(l,i.instanceId,e.Depth,t),r[t][e.Depth]=s.instanceId}},ut.prototype.buildObject=function(t,e,i,o){var r=this.stage,a=r.getCharacter(t.CharacterId),n=a.tagType,s=!1;46!==n&&84!==n||(s=!0);var c={};if(!s&&t.PlaceFlagMove&&i){var l=e.container[o-1][t.Depth];c=r.getInstance(l)}else{if(a instanceof Array)c=this.buildMovieClip(t,a,e);else switch(n){case 11:case 33:c=this.buildText(t,a);break;case 37:c=this.buildTextField(t,a,e);break;case 2:case 22:case 32:case 83:c=this.buildShape(t,a);break;case 46:case 84:var h=this.buildMorphShape(a,t.Ratio);h.tagType=n,c=this.buildShape(t,h);break;case 7:case 34:c=this.buildButton(a,t,e);break;default:return 0}c.setParent(e),c.setStage(r),c.setCharacterId(t.CharacterId),c.setRatio(t.Ratio||0),c.setLevel(t.Depth)}return t.PlaceFlagHasClipDepth&&(c.isClipDepth=!0,c.clipDepth=t.ClipDepth),c},ut.prototype.buildPlaceObject=function(t){var e=new gt;return t.PlaceFlagHasMatrix&&e.setMatrix(t.Matrix),t.PlaceFlagHasColorTransform&&e.setColorTransform(t.ColorTransform),t.PlaceFlagHasFilterList&&e.setFilters(t.SurfaceFilterList),t.PlaceFlagHasBlendMode&&e.setBlendMode(t.BlendMode),e},ut.prototype.buildMovieClip=function(t,e,i){var o=this.stage,r=new jt;r.setStage(o),r._url=i._url;var a="instance"+r.instanceId;if(t.PlaceFlagHasName&&(r.setName(t.Name),a=t.Name),r.setTarget(i.getTarget()+"/"+a),this.build(e,r),t.PlaceFlagHasClipActions)for(var n,s=t.ClipActionRecords,c=s.length,l=0;l<c;l++){var h=s[l],p=h.EventFlags;for(n in p)if(p.hasOwnProperty(n)&&p[n]){var g=r.createActionScript(h.Actions);r.addEventListener(n,g)}}return r},ut.prototype.buildTextField=function(t,e,i){var o=this.stage,r=new Ht;r.setStage(o),r.setParent(i),r.setInitParams(),r.setTagType(e.tagType),r.setBounds(e.bounds);var a="instance"+r.instanceId;t.PlaceFlagHasName&&(r.setName(t.Name),a=t.Name),r.setTarget(i.getTarget()+"/"+a);var n=e.data,s={},c=null,l=n.FontID;n.HasFont&&(c=o.getCharacter(l)),r.fontId=l,r.fontScale=n.FontHeight/1024,c&&c.ZoneTable&&(r.fontScale/=20),r.initialText=n.InitialText,s.autoSize=n.AutoSize,s.border=n.Border,s.border&&(s.background=1),s.bottomScroll=1,s.condenseWhite=0,s.embedFonts=n.HasFont&&n.UseOutlines&&c.FontFlagsHasLayout&&!n.Password?1:0,s.hscroll=0,s.maxscroll=0,s.scroll=0,s.maxhscroll=0,s.html=n.HTML,s.htmlText=n.HTML?n.InitialText:null,s.length=0,s.maxChars=0,s.multiline=n.Multiline,s.password=n.Password,s.selectable=n.NoSelect,s.tabEnabled=0,s.tabIndex=0,s.text=n.InitialText,s.textColor=n.TextColor,s.textHeight=0,s.textWidth=0,s.type=n.ReadOnly?"dynamic":"input";var h=n.VariableName;if(s.variable=h,h&&i.setVariable(h,n.InitialText),s.wordWrap=n.WordWrap,s.blockIndent=0,s.bullet=0,c){s.bold=c.FontFlagsBold;var p=r.getVariable("font");s.font="'"+c.FontName+"', "+p,s.italic=c.FontFlagsItalic}if(n.HasLayout){switch(n.Align){case 1:s.align="right";break;case 2:s.align="center";break;case 3:s.align="justify"}s.leftMargin=n.LeftMargin,s.rightMargin=n.RightMargin,s.indent=n.Indent,s.leading=14400>n.Leading?n.Leading:n.Leading-65535}for(var g in s.size=n.FontHeight/20,s.tabStops=[],s.target=null,s.underline=0,s.url=null,s)s.hasOwnProperty(g)&&r.setProperty(g,s[g]);return"input"===s.type&&r.setInputElement(),r},ut.prototype.buildText=function(t,e){var i=this.stage,o=new Et;o.setTagType(e.tagType),o.setBounds(e.bounds);for(var r=e.textRecords,a=r.length,n=0,s=0,c=1,l=0,h=null,p=e.matrix,g=null,u=!1,f=0;f<a;f++){var d=r[f];if("FontId"in d){var v=d.FontId,y=i.getCharacter(v);h=y.GlyphShapeTable,u=!1,"ZoneTable"in y&&(u=!0)}"XOffset"in d&&(n=d.XOffset),"YOffset"in d&&(s=d.YOffset),"TextColor"in d&&(g=d.TextColor),"TextHeight"in d&&(l=d.TextHeight,u&&(l/=20));var b=d.GlyphEntries,m=d.GlyphCount;c=l/1024;for(var S=0;S<m;S++){var A=b[S],I=h[A.GlyphIndex],C=ct.convert(I),x=[c,p[1],p[2],c,p[4]+n,p[5]+s],k=new Lt;k.setData(C),k.setColor(g),k.setMatrix(x),o.addRecord(k),n+=A.GlyphAdvance}}return o},ut.prototype.buildShape=function(t,e){var i=new Xt;return i.setTagType(e.tagType),i.setBounds(e.bounds),i.setData(e.data),i},ut.prototype.buildButton=function(t,e,i){var o=this.stage,r=t.characters,a=new Nt;a.setStage(o),a.setParent(i),a.setLevel(e.Depth),"actions"in t&&a.setActions(t.actions);var n="instance"+a.instanceId;e.PlaceFlagHasName&&(a.setName(e.Name),n=e.Name),a.setTarget(i.getTarget()+"/"+n);var s=a.getSprite("down");t.ButtonStateDownSoundId&&(s.soundId=t.ButtonStateDownSoundId,s.soundInfo=t.ButtonStateDownSoundInfo);var c=a.getSprite("hit");t.ButtonStateHitTestSoundId&&(c.soundId=t.ButtonStateHitTestSoundId,c.soundInfo=t.ButtonStateHitTestSoundInfo);var l=a.getSprite("over");t.ButtonStateOverSoundId&&(l.soundId=t.ButtonStateOverSoundId,l.soundInfo=t.ButtonStateOverSoundInfo);var h=a.getSprite("up");for(var p in t.ButtonStateUpSoundId&&(h.soundId=t.ButtonStateUpSoundId,h.soundInfo=t.ButtonStateUpSoundInfo),r)if(r.hasOwnProperty(p)){var g=r[p];for(var u in g)if(g.hasOwnProperty(u)){var f=g[u],d=this.buildObject(f,a,!1,1),v=this.buildPlaceObject(f),y=f.Depth;f.ButtonStateDown&&(s.addTag(y,d),o.setPlaceObject(v,s.instanceId,y,0)),f.ButtonStateHitTest&&(c.addTag(y,d),o.setPlaceObject(v,c.instanceId,y,0)),f.ButtonStateOver&&(l.addTag(y,d),o.setPlaceObject(v,l.instanceId,y,0)),f.ButtonStateUp&&(h.addTag(y,d),o.setPlaceObject(v,h.instanceId,y,0))}}return a.setSprite("down",s),a.setSprite("hit",c),a.setSprite("over",l),a.setSprite("up",h),a.setTagType(t.tagType),a},ut.prototype.generateDefaultTagObj=function(t,e){return{frame:t,characterId:e,cTags:[],removeTags:[],actionScript:[],labels:[],sounds:[]}},ut.prototype.parseTags=function(t,e){var i=this.parseTag,o=this.addTag,r=this.generateDefaultTagObj,a=1,n=[],s=0,c=this.bitio;for(n[a]=r.call(this,a,e);c.byte_offset<t;){var l=c.byte_offset;if(l+2>t)break;var h=c.getUI16();s=h>>6;var p=63&h;if(63===p){if(l+6>t){c.byte_offset=l,c.bit_offset=0;break}p=c.getUI32()}var g=c.byte_offset;1===s&&(a++,t>g+2&&(n[a]=r.call(this,a,e)));var u=i.call(this,s,p),f=c.byte_offset-g;if(f!==p&&f<p){var d=p-f;d>0&&(c.byte_offset+=d)}u&&(n=o.call(this,s,n,u,a)),c.bit_offset=0}return n},ut.prototype.parseTag=function(t,e){var i=null,o=this.bitio,r=this.stage;switch(t){case 0:case 1:break;case 2:case 22:case 32:case 83:e<10?o.byte_offset+=e:this.parseDefineShape(t);break;case 9:r.bgcolor?r.backgroundColor=r.bgcolor:r.setBackgroundColor(o.getUI8(),o.getUI8(),o.getUI8());break;case 10:case 48:case 75:this.parseDefineFont(t,e);break;case 13:case 62:this.parseDefineFontInfo(t,e);break;case 11:case 33:this.parseDefineText(t);break;case 4:case 26:case 70:i=this.parsePlaceObject(t,e);break;case 37:this.parseDefineEditText(t);break;case 39:this.parseDefineSprite(o.byte_offset+e);break;case 12:i=this.parseDoAction(e);break;case 59:this.parseDoInitAction(e);break;case 5:case 28:i=this.parseRemoveObject(t);break;case 7:case 34:i=this.parseDefineButton(t,e);break;case 43:i=this.parseFrameLabel();break;case 88:this.parseDefineFontName();break;case 20:case 36:this.parseDefineBitsLossLess(t,e);break;case 6:case 21:case 35:case 90:this.parseDefineBits(t,e,this.jpegTables),this.jpegTables=null;break;case 8:this.jpegTables=this.parseJPEGTables(e);break;case 56:this.parseExportAssets();break;case 46:case 84:this.parseDefineMorphShape(t);break;case 40:o.getDataUntil("\0");break;case 24:o.byteAlign();break;case 63:o.getUI8();break;case 64:o.getUI16(),o.getDataUntil("\0");break;case 65:o.getUI16(),o.getUI16();break;case 69:this.parseFileAttributes();break;case 77:o.getDataUntil("\0");break;case 86:i=this.parseDefineSceneAndFrameLabelData();break;case 18:case 45:i=this.parseSoundStreamHead(t);break;case 72:case 82:this.parseDoABC(t,e);break;case 76:this.parseSymbolClass();break;case 14:this.parseDefineSound(t,e);break;case 15:case 89:i=this.parseStartSound(t);break;case 17:this.parseDefineButtonSound();break;case 73:this.parseDefineFontAlignZones();break;case 74:this.parseCSMTextSettings(t);break;case 19:this.parseSoundStreamBlock(t,e);break;case 60:this.parseDefineVideoStream(t);break;case 61:this.parseVideoFrame(t,e);break;case 78:this.parseDefineScalingGrid();break;case 41:o.getUI32(),o.getUI32(),o.getUI8(),o.getUI8(),o.getUI32(),o.getUI32(),o.getUI32(),o.getUI32();break;case 3:case 16:case 23:case 25:case 29:case 31:case 38:case 42:case 44:case 47:case 49:case 52:case 53:case 54:case 55:case 57:case 58:case 66:case 71:case 87:case 91:case 93:F.log("[base] tagType -> "+t)}return i},ut.prototype.addTag=function(t,e,i,o){var r=e[o];switch(t){case 4:case 26:case 70:var a=r.cTags;r.cTags[a.length]=i;break;case 12:var n=r.actionScript;r.actionScript[n.length]=i;break;case 5:case 28:var s=r.removeTags;r.removeTags[s.length]=i;break;case 43:var c=r.labels;i.frame=o,r.labels[c.length]=i;break;case 15:case 89:var l=r.sounds;r.sounds[l.length]=i}return e},ut.prototype.parseDefineShape=function(t){var e=this.bitio,i=e.getUI16(),o=this.rect();if(83===t){var r={};r.EdgeBounds=this.rect(),e.getUIBits(5),r.UsesFillWindingRule=e.getUIBits(1),r.UsesNonScalingStrokes=e.getUIBits(1),r.UsesScalingStrokes=e.getUIBits(1)}var a=this.shapeWithStyle(t);this.appendShapeTag(i,o,a,t)},ut.prototype.rect=function(){var t=this.bitio;t.byteAlign();var e=t.getUIBits(5);return{xMin:t.getSIBits(e),xMax:t.getSIBits(e),yMin:t.getSIBits(e),yMax:t.getSIBits(e)}},ut.prototype.shapeWithStyle=function(t){var e,i,o=this.bitio;46===t||84===t?(e={fillStyleCount:0,fillStyles:[]},i={lineStyleCount:0,lineStyles:[]}):(e=this.fillStyleArray(t),i=this.lineStyleArray(t));var r=o.getUI8(),a=r>>4,n=15&r;return{fillStyles:e,lineStyles:i,ShapeRecords:this.shapeRecords(t,{FillBits:a,LineBits:n})}},ut.prototype.fillStyleArray=function(t){var e=this.bitio,i=e.getUI8();t>2&&255===i&&(i=e.getUI16());for(var o=[],r=i;r--;)o[o.length]=this.fillStyle(t);return{fillStyleCount:i,fillStyles:o}},ut.prototype.fillStyle=function(t){var e=this.bitio,i={},o=e.getUI8();switch(i.fillStyleType=o,o){case 0:32===t||83===t?i.Color=this.rgba():46===t||84===t?(i.StartColor=this.rgba(),i.EndColor=this.rgba()):i.Color=this.rgb();break;case 16:case 18:46===t||84===t?(i.startGradientMatrix=this.matrix(),i.endGradientMatrix=this.matrix(),i.gradient=this.gradient(t)):(i.gradientMatrix=this.matrix(),i.gradient=this.gradient(t));break;case 19:i.gradientMatrix=this.matrix(),i.gradient=this.focalGradient(t);break;case 64:case 65:case 66:case 67:i.bitmapId=e.getUI16(),46===t||84===t?(i.startBitmapMatrix=this.matrix(),i.endBitmapMatrix=this.matrix()):i.bitmapMatrix=this.matrix()}return i},ut.prototype.rgb=function(){var t=this.bitio;return{R:t.getUI8(),G:t.getUI8(),B:t.getUI8(),A:1}},ut.prototype.rgba=function(){var t=this.bitio;return{R:t.getUI8(),G:t.getUI8(),B:t.getUI8(),A:t.getUI8()/255}},ut.prototype.matrix=function(){var t=this.bitio;t.byteAlign();var e=[1,0,0,1,0,0];if(t.getUIBit()){var i=t.getUIBits(5);e[0]=t.getSIBits(i)/65536,e[3]=t.getSIBits(i)/65536}if(t.getUIBit()){var o=t.getUIBits(5);e[1]=t.getSIBits(o)/65536,e[2]=t.getSIBits(o)/65536}var r=t.getUIBits(5);return e[4]=t.getSIBits(r),e[5]=t.getSIBits(r),e},ut.prototype.gradient=function(t){var e,i=0,o=0,r=this.bitio;r.byteAlign(),46===t||84===t?e=r.getUI8():(i=r.getUIBits(2),o=r.getUIBits(2),e=r.getUIBits(4));for(var a=[],n=e;n--;)a[a.length]=this.gradientRecord(t);return{SpreadMode:i,InterpolationMode:o,GradientRecords:a}},ut.prototype.gradientRecord=function(t){var e=this.bitio;return 46===t||84===t?{StartRatio:e.getUI8()/255,StartColor:this.rgba(),EndRatio:e.getUI8()/255,EndColor:this.rgba()}:{Ratio:e.getUI8()/255,Color:t<32?this.rgb():this.rgba()}},ut.prototype.focalGradient=function(t){var e=this.bitio;e.byteAlign();for(var i=e.getUIBits(2),o=e.getUIBits(2),r=[],a=e.getUIBits(4);a--;)r[r.length]=this.gradientRecord(t);return{SpreadMode:i,InterpolationMode:o,GradientRecords:r,FocalPoint:e.getFloat16()}},ut.prototype.lineStyleArray=function(t){var e=this.bitio,i=e.getUI8();t>2&&255===i&&(i=e.getUI16());for(var o=[],r=i;r--;)o[o.length]=this.lineStyles(t);return{lineStyleCount:i,lineStyles:o}},ut.prototype.lineStyles=function(t){var e=this.bitio,i={fillStyleType:0};return 46===t?i={StartWidth:e.getUI16(),EndWidth:e.getUI16(),StartColor:this.rgba(),EndColor:this.rgba()}:84===t?(i.StartWidth=e.getUI16(),i.EndWidth=e.getUI16(),i.StartCapStyle=e.getUIBits(2),i.JoinStyle=e.getUIBits(2),i.HasFillFlag=e.getUIBit(),i.NoHScaleFlag=e.getUIBit(),i.NoVScaleFlag=e.getUIBit(),i.PixelHintingFlag=e.getUIBit(),e.getUIBits(5),i.NoClose=e.getUIBit(),i.EndCapStyle=e.getUIBits(2),2===i.JoinStyle&&(i.MiterLimitFactor=e.getUI16()),i.HasFillFlag?i.FillType=this.fillStyle(t):(i.StartColor=this.rgba(),i.EndColor=this.rgba())):(i.Width=e.getUI16(),83===t?(i.StartCapStyle=e.getUIBits(2),i.JoinStyle=e.getUIBits(2),i.HasFillFlag=e.getUIBit(),i.NoHScaleFlag=e.getUIBit(),i.NoVScaleFlag=e.getUIBit(),i.PixelHintingFlag=e.getUIBit(),e.getUIBits(5),i.NoClose=e.getUIBit(),i.EndCapStyle=e.getUIBits(2),2===i.JoinStyle&&(i.MiterLimitFactor=e.getUI16()),i.HasFillFlag?i.FillType=this.fillStyle(t):i.Color=this.rgba()):i.Color=32===t?this.rgba():this.rgb()),i},ut.prototype.shapeRecords=function(t,e){var i=this.bitio,o=[];this.currentPosition={x:0,y:0};for(var r=this.straightEdgeRecord,a=this.curvedEdgeRecord,n=this.styleChangeRecord;;){var s=i.getUIBits(6),c=0;if(32&s){var l=15&s;c=16&s?r.call(this,t,l):a.call(this,t,l)}else s&&(c=n.call(this,t,s,e));if(o[o.length]=c,!c){i.byteAlign();break}}return o},ut.prototype.straightEdgeRecord=function(t,e){var i=this.bitio,o=0,r=0;i.getUIBit()?(o=i.getSIBits(e+2),r=i.getSIBits(e+2)):i.getUIBit()?(o=0,r=i.getSIBits(e+2)):(o=i.getSIBits(e+2),r=0);var a=o,n=r;return 46!==t&&84!==t&&(a=this.currentPosition.x+o,n=this.currentPosition.y+r,this.currentPosition.x=a,this.currentPosition.y=n),{ControlX:0,ControlY:0,AnchorX:a,AnchorY:n,isCurved:!1,isChange:!1}},ut.prototype.curvedEdgeRecord=function(t,e){var i=this.bitio,o=i.getSIBits(e+2),r=i.getSIBits(e+2),a=i.getSIBits(e+2),n=i.getSIBits(e+2),s=o,c=r,l=a,h=n;return 46!==t&&84!==t&&(l=(s=this.currentPosition.x+o)+a,h=(c=this.currentPosition.y+r)+n,this.currentPosition.x=l,this.currentPosition.y=h),{ControlX:s,ControlY:c,AnchorX:l,AnchorY:h,isCurved:!0,isChange:!1}},ut.prototype.styleChangeRecord=function(t,e,i){var o=this.bitio,r={};if(r.StateNewStyles=e>>4&1,r.StateLineStyle=e>>3&1,r.StateFillStyle1=e>>2&1,r.StateFillStyle0=e>>1&1,r.StateMoveTo=1&e,r.StateMoveTo){var a=o.getUIBits(5);r.MoveX=o.getSIBits(a),r.MoveY=o.getSIBits(a),this.currentPosition.x=r.MoveX,this.currentPosition.y=r.MoveY}if(r.FillStyle0=0,r.StateFillStyle0&&(r.FillStyle0=o.getUIBits(i.FillBits)),r.FillStyle1=0,r.StateFillStyle1&&(r.FillStyle1=o.getUIBits(i.FillBits)),r.LineStyle=0,r.StateLineStyle&&(r.LineStyle=o.getUIBits(i.LineBits)),r.StateNewStyles){r.FillStyles=this.fillStyleArray(t),r.LineStyles=this.lineStyleArray(t);var n=o.getUI8();i.FillBits=r.NumFillBits=n>>4,i.LineBits=r.NumLineBits=15&n}return r.isChange=!0,r},ut.prototype.appendShapeTag=function(t,e,i,o){this.stage.setCharacter(t,{tagType:o,data:ct.convert(i,!1),bounds:e})},ut.prototype.parseDefineBitsLossLess=function(t,e){var i=this.bitio,o=this.stage,r=i.byte_offset,a=i.getUI16(),n=i.getUI8(),s=i.getUI16(),c=i.getUI16(),l=36===t,h=0;3===n&&(h=i.getUI8()+1);var p=i.byte_offset-r,g=i.getData(e-p),u=i.unzip(g,!1),f=ht.getCanvas();f.width=s,f.height=c;var d=f.getContext("2d"),v=d.createImageData(s,c),y=v.data,b=0,m=0,S=s,A=c;if(5!==n||l){var I=l?4:3,C=h*I,x=0;for(h&&(x=(s+3&-4)-s),A=c;A--;){for(S=s;S--;)if(b=h?u[C++]*I:C++*I,l){var k=3===n?u[b+3]:u[b++];tt?(y[m++]=u[b++],y[m++]=u[b++],y[m++]=u[b++]):(y[m++]=255*u[b++]/k,y[m++]=255*u[b++]/k,y[m++]=255*u[b++]/k),y[m++]=k,3===n&&b++}else y[m++]=u[b++],y[m++]=u[b++],y[m++]=u[b++],b++,y[m++]=255;C+=x}}else for(b=0,m=0,A=c;A--;)for(S=s;S--;)b++,y[m++]=u[b++],y[m++]=u[b++],y[m++]=u[b++],y[m++]=255;d.putImageData(v,0,0),o.setCharacter(a,d)},ut.prototype.parseExportAssets=function(){for(var t=this.bitio,e=this.stage,i=t.getUI16(),o=e.exportAssets,r=e.packages;i--;){var a=t.getUI16(),n=t.getDataUntil("\0");"__Packages"===n.substr(0,10)&&(r[a]=1),o[n]=a}e.exportAssets=o},ut.prototype.parseJPEGTables=function(t){return this.bitio.getData(t)},ut.prototype.parseDefineBits=function(t,i,o){var r=this.bitio,a=r.byte_offset,n=r.getUI16(),s=r.byte_offset-a,c=i-s;if(35!==t&&90!==t||(c=r.getUI32()),90===t){var l=r.getUI16();F.log("DeblockParam",l)}var h=r.getData(c),p=!1;35!==t&&90!==t||(p=r.getData(i-s-c)),r.byte_offset=a+i;var g=this.stage;g.imgUnLoadCount++;var u=e.createElement("img");if(u.addEventListener("load",function(){var t=this.width,e=this.height,i=ht.getCanvas();i.width=t,i.height=e;var o=i.getContext("2d");if(o.drawImage(this,0,0,t,e),p){for(var a=r.unzip(p,!1),s=o.getImageData(0,0,t,e),c=s.data,l=3,h=t*e,u=0;u<h;u++)c[l]=a[u],l+=4;o.putImageData(s,0,0)}g.setCharacter(n,o),g.imgUnLoadCount--}),null!==o&&o.length>4){for(var f=[],d=o.length-2,v=0;v<d;v++)f[f.length]=o[v];for(d=h.length,v=2;v<d;v++)f[f.length]=h[v];h=f}u.src="data:image/jpeg;base64,"+this.base64encode(this.parseJpegData(h)),I(function(){},0)},ut.prototype.parseJpegData=function(t){var e=0,i=0,o="",r=t.length;if(255===t[0]&&217===t[1]&&255===t[2]&&216===t[3])for(e=4;e<r;e++)o+=S(t[e]);else if(255===t[e++]&&216===t[e++]){for(i=0;i<e;i++)o+=S(t[i]);for(;e<r;)if(255===t[e]){if(217===t[e+1]&&255===t[e+2]&&216===t[e+3]){for(i=e+=4;i<r;i++)o+=S(t[i]);break}if(218===t[e+1]){for(i=e;i<r;i++)o+=S(t[i]);break}var a=(t[e+2]<<8)+t[e+3]+e+2;for(i=e;i<a;i++)o+=S(t[i]);e+=a-e}}return o},ut.prototype.base64encode=function(e){if(B)return t.btoa(e);for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=[],r=0,a=e.length;r<a;){var n=255&e.charCodeAt(r++);if(r===a){o[o.length]=i.charAt(n>>2),o[o.length]=i.charAt((3&n)<<4),o[o.length]="==";break}var s=e.charCodeAt(r++);if(r===a){o[o.length]=i.charAt(n>>2),o[o.length]=i.charAt((3&n)<<4|(240&s)>>4),o[o.length]=i.charAt((15&s)<<2),o[o.length]="=";break}var c=e.charCodeAt(r++);o[o.length]=i.charAt(n>>2),o[o.length]=i.charAt((3&n)<<4|(240&s)>>4),o[o.length]=i.charAt((15&s)<<2|(192&c)>>6),o[o.length]=i.charAt(63&c)}return o.join("")},ut.prototype.parseDefineFont=function(t,e){var i=this.bitio,o=this.stage,r=i.byte_offset+e,a=0,n=0,s={};s.tagType=t,s.FontId=i.getUI16();var c=0;if(48===t||75===t){var l=i.getUI8();if(s.FontFlagsHasLayout=l>>>7&1,s.FontFlagsShiftJIS=l>>>6&1,s.FontFlagsSmallText=l>>>5&1,s.FontFlagsANSI=l>>>4&1,s.FontFlagsWideOffsets=l>>>3&1,s.FontFlagsWideCodes=l>>>2&1,s.FontFlagsItalic=l>>>1&1,s.FontFlagsBold=1&l,i.byteAlign(),s.LanguageCode=i.getUI8(),s.FontNameLen=i.getUI8(),s.FontNameLen){var h,p=i.byte_offset,g=i.getData(s.FontNameLen),u="";for(n=s.FontNameLen,a=0;a<n;a++)g[a]>127||(u+=S(g[a]));h=s.FontFlagsShiftJIS||2===s.LanguageCode?i.decodeToShiftJis(u):decodeURIComponent(u),s.FontName=this.getFontName(h),i.byte_offset=p+s.FontNameLen}c=i.getUI16(),s.NumGlyphs=c}var f=i.byte_offset;if(10===t&&(c=i.getUI16()),c){var d=[];if(10===t&&(d[0]=c,c/=2,c--),s.FontFlagsWideOffsets){for(a=c;a--;)d[d.length]=i.getUI32();10!==t&&(s.CodeTableOffset=i.getUI32())}else{for(a=c;a--;)d[d.length]=i.getUI16();10!==t&&(s.CodeTableOffset=i.getUI16())}var v=[];for(10===t&&c++,a=0;a<c;a++){i.setOffset(d[a]+f,0);var y=i.getUI8(),b={FillBits:y>>4,LineBits:15&y},m={};m.ShapeRecords=this.shapeRecords(t,b),m.lineStyles={lineStyles:[{Color:{R:0,G:0,B:0,A:1},lineStyleType:0}]},m.fillStyles={fillStyles:[{Color:{R:0,G:0,B:0,A:1},fillStyleType:0}]},v[v.length]=m}if(s.GlyphShapeTable=v,48===t||75===t){i.setOffset(s.CodeTableOffset+f,0);var A=[];if(s.FontFlagsWideCodes)for(a=c;a--;)A[A.length]=i.getUI16();else for(a=c;a--;)A[A.length]=i.getUI8();if(s.CodeTable=A,s.FontFlagsHasLayout){s.FontAscent=i.getUI16(),s.FontDescent=i.getUI16(),s.FontLeading=i.getUI16();var I=[];for(a=c;a--;)I[I.length]=i.getUI16();s.FontAdvanceTable=I;var C=[];for(a=c;a--;)C[C.length]=this.rect();if(s.FontBoundsTable=C,75===t)for(s.KerningCount=i.getUI16(),s.KerningRecord=[],a=s.KerningCount;a--;){var x=s.FontFlagsWideCodes?i.getUI16():i.getUI8(),k=s.FontFlagsWideCodes?i.getUI16():i.getUI8(),T=i.getSIBits(16);s.KerningRecord[s.KerningRecord.length]={FontKerningCode1:x,FontKerningCode2:k,FontKerningAdjustment:T}}}}}i.byte_offset=r,o.setCharacter(s.FontId,s),o.fonts[s.FontName]=s},ut.prototype.parseDefineFontInfo=function(t,e){var i=this.bitio,o=i.byte_offset+e,r={};r.tagType=t,r.FontId=i.getUI16();for(var a,n=i.getUI8(),s=i.getData(n),c="",l=0;l<n;l++)s[l]>127||(c+=S(s[l]));r.FontFlagsReserved=i.getUIBits(2),r.FontFlagsSmallText=i.getUIBits(1),r.FontFlagsShiftJIS=i.getUIBits(1),r.FontFlagsANSI=i.getUIBits(1),r.FontFlagsItalic=i.getUIBits(1),r.FontFlagsBold=i.getUIBits(1),r.FontFlagsWideCodes=i.getUIBits(1),62===t&&(r.LanguageCode=i.getUI8()),a=r.FontFlagsShiftJIS||2===r.LanguageCode?i.decodeToShiftJis(c):decodeURIComponent(c),r.FontName=this.getFontName(a);var h=[];i.byteAlign();var p=o-i.byte_offset;if(r.FontFlagsWideCodes||62===t)for(;p;)h[h.length]=i.getUI16(),p-=2;else for(;p;)h[h.length]=i.getUI8(),p--;r.CodeTable=h},ut.prototype.getFontName=function(t){var e=t.length;switch(0===t.substr(e-1).charCodeAt(0)&&(t=t.slice(0,-1)),t){case"_sans":return"sans-serif";case"_serif":return"serif";case"_typewriter":return"monospace";default:return"_"===t.substr(0,1)?"sans-serif":t}},ut.prototype.parseDefineFontName=function(){var t=this.bitio;t.getUI16(),t.getDataUntil("\0"),t.getDataUntil("\0")},ut.prototype.parseDefineText=function(t){var e=this.bitio,i=this.stage,o={},r=e.getUI16();o.tagType=t,o.bounds=this.rect(),o.matrix=this.matrix();var a=e.getUI8(),n=e.getUI8();o.textRecords=this.getTextRecords(t,a,n),i.setCharacter(r,o)},ut.prototype.getTextRecords=function(t,e,i){for(var o=this.bitio,r=[];0!==o.getUI8();){o.incrementOffset(-1,0);var a={};a.TextRecordType=o.getUIBits(1),a.StyleFlagsReserved=o.getUIBits(3),a.StyleFlagsHasFont=o.getUIBits(1),a.StyleFlagsHasColor=o.getUIBits(1),a.StyleFlagsHasYOffset=o.getUIBits(1),a.StyleFlagsHasXOffset=o.getUIBits(1),a.StyleFlagsHasFont&&(a.FontId=o.getUI16()),a.StyleFlagsHasColor&&(a.TextColor=11===t?this.rgb():this.rgba()),a.StyleFlagsHasXOffset&&(a.XOffset=o.getUI16()),a.StyleFlagsHasYOffset&&(a.YOffset=o.getUI16()),a.StyleFlagsHasFont&&(a.TextHeight=o.getUI16()),a.GlyphCount=o.getUI8(),a.GlyphEntries=this.getGlyphEntries(a.GlyphCount,e,i),r[r.length]=a}return r},ut.prototype.getGlyphEntries=function(t,e,i){for(var o=this.bitio,r=[],a=t;a--;)r[r.length]={GlyphIndex:o.getUIBits(e),GlyphAdvance:o.getSIBits(i)};return r},ut.prototype.parseDefineEditText=function(t){var i=this.bitio,o=this.stage,r={},a=!1;r.CharacterId=i.getUI16();var n=this.rect(),s=i.getUI8();r.HasText=s>>>7&1,r.WordWrap=s>>>6&1,r.Multiline=s>>>5&1,r.Password=s>>>4&1,r.ReadOnly=s>>>3&1,r.HasTextColor=s>>>2&1,r.HasMaxLength=s>>>1&1,r.HasFont=1&s;var c=i.getUI8();(r.HasFontClass=c>>>7&1,r.AutoSize=c>>>6&1,r.HasLayout=c>>>5&1,r.NoSelect=c>>>4&1,r.Border=c>>>3&1,r.WasStatic=c>>>2&1,r.HTML=c>>>1&1,r.UseOutlines=1&c,r.HasFont)&&(r.FontID=i.getUI16(),a=!!o.getCharacter(r.FontID).FontFlagsShiftJIS,r.HasFontClass&&(r.FontClass=i.getDataUntil("\0")),r.FontHeight=i.getUI16());r.HasTextColor&&(r.TextColor=this.rgba()),r.HasMaxLength&&(r.MaxLength=i.getUI16()),r.HasLayout&&(r.Align=i.getUI8(),r.LeftMargin=i.getUI16(),r.RightMargin=i.getUI16(),r.Indent=i.getUI16(),r.Leading=i.getUI16());var l=i.getDataUntil("\0",a)+"";if(r.VariableName=""===l?null:l,r.InitialText="",r.HasText){var h=i.getDataUntil("\0",a);if(r.HTML){-1!==h.indexOf("<sbr />")&&(h=h.replace(new RegExp("<sbr />","gi"),"\n")),-1!==h.indexOf("<b>")&&(h=(h=h.replace(new RegExp("<b>","gi"),"")).replace(new RegExp("</b>","gi"),""));var p=e.createElement("span");p.innerHTML=h;for(var g=p.getElementsByTagName("p"),u=g.length,f=[],d=0;d<u;d++)f[d]=g[d];r.InitialText=f}else r.InitialText=h}o.setCharacter(r.CharacterId,{data:r,bounds:n,tagType:t})},ut.prototype.parseDefineMorphShape=function(t){var e=this.bitio,i=this.stage,o={};o.tagType=t,o.CharacterId=e.getUI16(),o.StartBounds=this.rect(),o.EndBounds=this.rect(),84===t&&(o.StartEdgeBounds=this.rect(),o.EndEdgeBounds=this.rect(),e.getUIBits(6),o.UsesNonScalingStrokes=e.getUIBits(1),o.UsesScalingStrokes=e.getUIBits(1));var a=e.getUI32(),n=e.byte_offset+a;o.MorphFillStyles=this.fillStyleArray(t),o.MorphLineStyles=this.lineStyleArray(t),o.StartEdges=this.shapeWithStyle(t),e.byte_offset!==n&&(e.byte_offset=n),o.EndEdges=this.shapeWithStyle(t);for(var s={x:0,y:0},c={x:0,y:0},l=o.StartEdges.ShapeRecords,h=o.EndEdges.ShapeRecords,p=l.length,g=h.length,u=r(p,g),f=0;f<u;f++){var d={},v=l[f],y=h[f];(v||y)&&(v.isChange||y.isChange?v.isChange&&!y.isChange?(d={FillStyle0:v.FillStyle0,FillStyle1:v.FillStyle1,LineStyle:v.LineStyle,StateFillStyle0:v.StateFillStyle0,StateFillStyle1:v.StateFillStyle1,StateLineStyle:v.StateLineStyle,StateMoveTo:v.StateMoveTo,StateNewStyles:v.StateNewStyles,isChange:!0},v.StateMoveTo&&(d.MoveX=c.x,d.MoveY=c.y,s.x=v.MoveX,s.y=v.MoveY),h.splice(f,0,d)):!v.isChange&&y.isChange?(d={FillStyle0:y.FillStyle0,FillStyle1:y.FillStyle1,LineStyle:y.LineStyle,StateFillStyle0:y.StateFillStyle0,StateFillStyle1:y.StateFillStyle1,StateLineStyle:y.StateLineStyle,StateMoveTo:y.StateMoveTo,StateNewStyles:y.StateNewStyles,isChange:!0},y.StateMoveTo&&(d.MoveX=s.x,d.MoveY=s.y,c.x=y.MoveX,c.y=y.MoveY),l.splice(f,0,d)):(v.StateMoveTo&&(s.x=v.MoveX,s.y=v.MoveY),y.StateMoveTo&&(c.x=y.MoveX,c.y=y.MoveY)):(v.isCurved?(s.x+=v.ControlX+v.AnchorX,s.y+=v.ControlY+v.AnchorY):(s.x+=v.AnchorX,s.y+=v.AnchorY),y.isCurved?(c.x+=y.ControlX+y.AnchorX,c.y+=y.ControlY+y.AnchorY):(c.x+=y.AnchorX,c.y+=y.AnchorY)))}var b=0,m=0;for(u=o.StartEdges.ShapeRecords.length,f=0;f<u;f++){var S=l[f];S.isChange&&(S.StateFillStyle0&&(m=S.FillStyle0),m?(S.StateFillStyle0=1,S.StateFillStyle1=1,b?(S.FillStyle0=0,S.FillStyle1=m):(S.FillStyle0=m,S.FillStyle1=0)):(S.StateFillStyle1=1,S.FillStyle1=0),b=b?0:1)}i.setCharacter(o.CharacterId,o)},ut.prototype.buildMorphShape=function(t,e){for(var i,o,r,n=void 0===e?0:e/65535,s=1-n,c=[],l=t.MorphLineStyles,h=l.lineStyles,p=l.lineStyleCount,g=t.MorphFillStyles,u=g.fillStyles,f=g.fillStyleCount,d=t.StartEdges.ShapeRecords,v=t.EndEdges.ShapeRecords,y={lineStyles:{lineStyleCount:p,lineStyles:[]},fillStyles:{fillStyleCount:f,fillStyles:[]},ShapeRecords:[]},b={x:0,y:0},m=d.length,S=0;S<m;S++){var A=d[S];if(A){var I={},C=v[S];if(A.isChange){var x=0,k=0;1===A.StateMoveTo&&(x=A.MoveX*s+C.MoveX*n,k=A.MoveY*s+C.MoveY*n,b.x=x,b.y=k),I={FillStyle0:A.FillStyle0,FillStyle1:A.FillStyle1,LineStyle:A.LineStyle,MoveX:x,MoveY:k,StateFillStyle0:A.StateFillStyle0,StateFillStyle1:A.StateFillStyle1,StateLineStyle:A.StateLineStyle,StateMoveTo:A.StateMoveTo,StateNewStyles:A.StateNewStyles,isChange:!0}}else{var T,M,F,B,U=A.AnchorX,w=A.AnchorY,_=C.AnchorX,Y=C.AnchorY,P=A.ControlX,O=A.ControlY,D=C.ControlX,X=C.ControlY;n>0&&n<1&&A.isCurved!==C.isCurved&&(A.isCurved||(P=U=A.AnchorX/2,O=w=A.AnchorY/2),C.isCurved||(D=_=C.AnchorX/2,X=Y=C.AnchorY/2)),T=U*s+_*n+(F=P*s+D*n+b.x),M=w*s+Y*n+(B=O*s+X*n+b.y),b.x=T,b.y=M,I={AnchorX:T,AnchorY:M,ControlX:F,ControlY:B,isChange:!1,isCurved:A.isCurved||C.isCurved}}c[S]=I}}for(c[c.length]=0,y.ShapeRecords=c,S=0;S<p;S++){var L=h[S];i=L.EndColor,o=L.StartColor,r={R:a(o.R*s+i.R*n),G:a(o.G*s+i.G*n),B:a(o.B*s+i.B*n),A:o.A*s+i.A*n};var E=h[S].EndWidth,R=h[S].StartWidth;y.lineStyles.lineStyles[S]={Width:a(R*s+E*n),Color:r,fillStyleType:0}}for(S=0;S<f;S++){var H=u[S],N=H.fillStyleType;if(0===N)i=H.EndColor,o=H.StartColor,r={R:a(o.R*s+i.R*n),G:a(o.G*s+i.G*n),B:a(o.B*s+i.B*n),A:o.A*s+i.A*n},y.fillStyles.fillStyles[S]={Color:r,fillStyleType:N};else{for(var j=H.endGradientMatrix,G=H.startGradientMatrix,Z=[G[0]*s+j[0]*n,G[1]*s+j[1]*n,G[2]*s+j[2]*n,G[3]*s+j[3]*n,G[4]*s+j[4]*n,G[5]*s+j[5]*n],V=[],W=H.gradient.GradientRecords,z=W.length,K=0;K<z;K++){var q=W[K];i=q.EndColor,o=q.StartColor,r={R:a(o.R*s+i.R*n),G:a(o.G*s+i.G*n),B:a(o.B*s+i.B*n),A:o.A*s+i.A*n},V[K]={Color:r,Ratio:q.StartRatio*s+q.EndRatio*n}}y.fillStyles.fillStyles[S]={gradient:{GradientRecords:V},gradientMatrix:Z,fillStyleType:N}}}var J=t.EndBounds,Q=t.StartBounds,$={xMax:Q.xMax*s+J.xMax*n,xMin:Q.xMin*s+J.xMin*n,yMax:Q.yMax*s+J.yMax*n,yMin:Q.yMin*s+J.yMin*n};return{data:ct.convert(y,!0),bounds:$}},ut.prototype.parseFrameLabel=function(){return{name:this.bitio.getDataUntil("\0"),frame:0}},ut.prototype.parseRemoveObject=function(t){var e=this.bitio;return 5===t?(F.log("RemoveObject"),{CharacterId:e.getUI16(),Depth:e.getUI16()}):{Depth:e.getUI16()}},ut.prototype.parseDefineButton=function(t,e){var i={};i.tagType=t;var o=this.bitio,r=this.stage,a=o.byte_offset+e;i.ButtonId=o.getUI16();var n=0;return 7!==t&&(i.ReservedFlags=o.getUIBits(7),i.TrackAsMenu=o.getUIBits(1),n=o.getUI16()),i.characters=this.buttonCharacters(),7===t?i.actions=this.parseDoAction(a-o.byte_offset):n>0&&(i.actions=this.buttonActions(a)),r.setCharacter(i.ButtonId,i),o.byte_offset!==a&&(o.byte_offset=a),i},ut.prototype.buttonCharacters=function(){for(var t=[],e=this.bitio;0!==e.getUI8();){e.incrementOffset(-1,0);var i=this.buttonRecord(),o=i.Depth;i.Depth in t||(t[o]=[]),t[o].push(i)}return t},ut.prototype.buttonRecord=function(){var t=this.bitio,e={};return t.getUIBits(2),e.PlaceFlagHasBlendMode=t.getUIBits(1),e.PlaceFlagHasFilterList=t.getUIBits(1),e.ButtonStateHitTest=t.getUIBits(1),e.ButtonStateDown=t.getUIBits(1),e.ButtonStateOver=t.getUIBits(1),e.ButtonStateUp=t.getUIBits(1),e.CharacterId=t.getUI16(),e.Depth=t.getUI16(),e.PlaceFlagHasMatrix=1,e.Matrix=this.matrix(),e.ColorTransform=this.colorTransform(),e.PlaceFlagHasColorTransform=void 0===e.ColorTransform?0:1,e.PlaceFlagHasBlendMode&&(e.BlendMode=t.getUI8()),e.PlaceFlagHasFilterList&&(e.SurfaceFilterList=this.getFilterList()),e.PlaceFlagHasRatio=0,e.PlaceFlagHasClipDepth=0,e.Sound=null,e},ut.prototype.buttonActions=function(t){for(var e=this.bitio,i=[];;){var o={},r=e.byte_offset,a=e.getUI16();o.CondIdleToOverDown=e.getUIBits(1),o.CondOutDownToIdle=e.getUIBits(1),o.CondOutDownToOverDown=e.getUIBits(1),o.CondOverDownToOutDown=e.getUIBits(1),o.CondOverDownToOverUp=e.getUIBits(1),o.CondOverUpToOverDown=e.getUIBits(1),o.CondOverUpToIdle=e.getUIBits(1),o.CondIdleToOverUp=e.getUIBits(1),o.CondKeyPress=e.getUIBits(7),o.CondOverDownToIdle=e.getUIBits(1);var n=t-e.byte_offset+1;if(o.ActionScript=this.parseDoAction(n),i[i.length]=o,!a)break;e.byte_offset=r+a}return i},ut.prototype.parsePlaceObject=function(t,e){var i=this.bitio,o=this.stage,r={};r.tagType=t;var a=i.byte_offset;if(4===t)r.CharacterId=i.getUI16(),r.Depth=i.getUI16(),r.Matrix=this.matrix(),r.PlaceFlagHasMatrix=1,i.byteAlign(),i.byte_offset-a<e&&(r.ColorTransform=this.colorTransform(),r.PlaceFlagHasColorTransform=1);else if(r.PlaceFlagHasClipActions=i.getUIBits(1),o.getVersion()<5&&(r.PlaceFlagHasClipActions=0),r.PlaceFlagHasClipDepth=i.getUIBits(1),r.PlaceFlagHasName=i.getUIBits(1),r.PlaceFlagHasRatio=i.getUIBits(1),r.PlaceFlagHasColorTransform=i.getUIBits(1),r.PlaceFlagHasMatrix=i.getUIBits(1),r.PlaceFlagHasCharacter=i.getUIBits(1),r.PlaceFlagMove=i.getUIBits(1),70===t&&(i.getUIBits(1),r.PlaceFlagOpaqueBackground=i.getUIBits(1),r.PlaceFlagHasVisible=i.getUIBits(1),r.PlaceFlagHasImage=i.getUIBits(1),r.PlaceFlagHasClassName=i.getUIBits(1),r.PlaceFlagHasCacheAsBitmap=i.getUIBits(1),r.PlaceFlagHasBlendMode=i.getUIBits(1),r.PlaceFlagHasFilterList=i.getUIBits(1)),r.Depth=i.getUI16(),(r.PlaceFlagHasClassName||r.PlaceFlagHasImage&&r.PlaceFlagHasCharacter)&&(r.ClassName=i.getDataUntil("\0")),r.PlaceFlagHasCharacter&&(r.CharacterId=i.getUI16()),r.PlaceFlagHasMatrix&&(r.Matrix=this.matrix()),r.PlaceFlagHasColorTransform&&(r.ColorTransform=this.colorTransform()),r.PlaceFlagHasRatio&&(r.Ratio=i.getUI16()),r.PlaceFlagHasName&&(r.Name=i.getDataUntil("\0")),r.PlaceFlagHasClipDepth&&(r.ClipDepth=i.getUI16()),70===t&&(r.PlaceFlagHasFilterList&&(r.SurfaceFilterList=this.getFilterList()),r.PlaceFlagHasBlendMode&&(r.BlendMode=i.getUI8()),r.PlaceFlagHasCacheAsBitmap&&(r.BitmapCache=i.getUI8()),r.PlaceFlagHasVisible&&(r.Visible=i.getUI8(),r.BackgroundColor=this.rgba())),r.PlaceFlagHasClipActions){i.getUI16(),r.AllEventFlags=this.parseClipEventFlags();for(var n=a+e,s=[];i.byte_offset<n;){var c=this.parseClipActionRecord(n);if(s[s.length]=c,n<=i.byte_offset)break;if(!(o.getVersion()<=5?i.getUI16():i.getUI32()))break;o.getVersion()<=5?i.byte_offset-=2:i.byte_offset-=4,c.KeyCode&&(i.byte_offset-=1)}r.ClipActionRecords=s}return i.byteAlign(),i.byte_offset=a+e,r},ut.prototype.parseClipActionRecord=function(t){var e=this.bitio,i={},o=this.parseClipEventFlags();if(t>e.byte_offset){var r=e.getUI32();o.keyPress&&(i.KeyCode=e.getUI8()),i.EventFlags=o,i.Actions=this.parseDoAction(r)}return i},ut.prototype.parseClipEventFlags=function(){var t={},e=this.bitio,i=this.stage;return t.keyUp=e.getUIBits(1),t.keyDown=e.getUIBits(1),t.mouseUp=e.getUIBits(1),t.mouseDown=e.getUIBits(1),t.mouseMove=e.getUIBits(1),t.unload=e.getUIBits(1),t.enterFrame=e.getUIBits(1),t.load=e.getUIBits(1),i.getVersion()>=6&&(t.dragOver=e.getUIBits(1),t.rollOut=e.getUIBits(1),t.rollOver=e.getUIBits(1),t.releaseOutside=e.getUIBits(1),t.release=e.getUIBits(1),t.press=e.getUIBits(1),t.initialize=e.getUIBits(1)),t.data=e.getUIBits(1),i.getVersion()>=6&&(e.getUIBits(5),t.construct=e.getUIBits(1),t.keyPress=e.getUIBits(1),t.dragOut=e.getUIBits(1),e.getUIBits(8)),e.byteAlign(),t},ut.prototype.getFilterList=function(){for(var t=this.bitio,e=[],i=this.getFilter,o=t.getUI8(),r=0;r<o;r++){var a=i.call(this);a&&(e[e.length]=a)}return e.length?e:null},ut.prototype.getFilter=function(){var t;switch(this.bitio.getUI8()){case 0:t=this.dropShadowFilter();break;case 1:t=this.blurFilter();break;case 2:t=this.glowFilter();break;case 3:t=this.bevelFilter();break;case 4:t=this.gradientGlowFilter();break;case 5:t=this.convolutionFilter();break;case 6:t=this.colorMatrixFilter();break;case 7:t=this.gradientBevelFilter()}return t},ut.prototype.dropShadowFilter=function(){var t=this.bitio,e=this.rgba(),i=e.A,o=e.R<<16|e.G<<8|e.B,r=t.getUI32()/65536,a=t.getUI32()/65536,n=t.getUI32()/65536*180/b,s=t.getUI32()/65536,c=t.getFloat16()/256,l=!!t.getUIBits(1),h=!!t.getUIBits(1),p=!t.getUIBits(1),g=t.getUIBits(5);return c?new mt(s,n,o,i,r,a,c,g,l,h,p):null},ut.prototype.blurFilter=function(){var t=this.bitio,e=t.getUI32()/65536,i=t.getUI32()/65536,o=t.getUIBits(5);return t.getUIBits(3),new bt(e,i,o)},ut.prototype.glowFilter=function(){var t=this.bitio,e=this.rgba(),i=e.A,o=e.R<<16|e.G<<8|e.B,r=t.getUI32()/65536,a=t.getUI32()/65536,n=t.getFloat16()/256,s=!!t.getUIBits(1),c=!!t.getUIBits(1);t.getUIBits(1);var l=t.getUIBits(5);return n?new St(o,i,r,a,n,l,s,c):null},ut.prototype.bevelFilter=function(){var t,e=this.bitio,i=(t=this.rgba()).A,o=t.R<<16|t.G<<8|t.B,r=(t=this.rgba()).A,a=t.R<<16|t.G<<8|t.B,n=e.getUI32()/65536,s=e.getUI32()/65536,c=e.getUI32()/65536*180/b,l=e.getUI32()/65536,h=e.getFloat16()/256,p=!!e.getUIBits(1),g=!!e.getUIBits(1);e.getUIBits(1);var u=e.getUIBits(1),f=e.getUIBits(4),d="inner";return p||(d=u?"full":"outer"),h?new At(l,c,o,i,a,r,n,s,h,f,d,g):null},ut.prototype.gradientGlowFilter=function(){var t,e=this.bitio,i=e.getUI8(),o=[],r=[];for(t=0;t<i;t++){var a=this.rgba();r[r.length]=a.A,o[o.length]=a.R<<16|a.G<<8|a.B}var n=[];for(t=0;t<i;t++)n[n.length]=e.getUI8();var s=e.getUI32()/65536,c=e.getUI32()/65536,l=e.getUI32()/65536*180/b,h=e.getUI32()/65536,p=e.getFloat16()/256,g=!!e.getUIBits(1),u=!!e.getUIBits(1);e.getUIBits(1);var f=e.getUIBits(1),d=e.getUIBits(4),v="inner";return g||(v=f?"full":"outer"),p?new It(h,l,o,r,n,s,c,p,d,v,u):null},ut.prototype.convolutionFilter=function(){var t=this.bitio,e={};e.MatrixX=t.getUI8(),e.MatrixY=t.getUI8(),e.Divisor=t.getFloat16()|t.getFloat16(),e.Bias=t.getFloat16()|t.getFloat16();for(var i=e.MatrixX*e.MatrixY,o=[];i--;)o[o.length]=t.getUI32();return e.DefaultColor=this.rgba(),t.getUIBits(6),e.Clamp=t.getUIBits(1),e.PreserveAlpha=t.getUIBits(1),new Ct},ut.prototype.gradientBevelFilter=function(){var t,e=this.bitio,i=e.getUI8(),o=[],r=[];for(t=0;t<i;t++){var a=this.rgba();r[r.length]=a.A,o[o.length]=a.R<<16|a.G<<8|a.B}var n=[];for(t=0;t<i;t++)n[n.length]=e.getUI8();var s=e.getUI32()/65536,c=e.getUI32()/65536,l=e.getUI32()/65536*180/b,h=e.getUI32()/65536,p=e.getFloat16()/256,g=!!e.getUIBits(1),u=!!e.getUIBits(1);e.getUIBits(1);var f=e.getUIBits(1),d=e.getUIBits(4),v="inner";return g||(v=f?"full":"outer"),p?new kt(h,l,o,r,n,s,c,p,d,v,u):null},ut.prototype.colorMatrixFilter=function(){for(var t=this.bitio,e=[],i=0;i<20;i++)e[e.length]=t.getUI32();return new xt},ut.prototype.colorTransform=function(){var t=this.bitio;t.byteAlign();var e=[1,1,1,1,0,0,0,0],i=t.getUIBits(6),o=i>>5,r=15&i;return i>>4&1&&(e[0]=t.getSIBits(r)/256,e[1]=t.getSIBits(r)/256,e[2]=t.getSIBits(r)/256,e[3]=t.getSIBits(r)/256),o&&(e[4]=t.getSIBits(r),e[5]=t.getSIBits(r),e[6]=t.getSIBits(r),e[7]=t.getSIBits(r)),e},ut.prototype.parseDefineSprite=function(t){var e=this.bitio,i=e.getUI16();e.getUI16(),this.stage.setCharacter(i,this.parseTags(t,i))},ut.prototype.parseDoAction=function(t){var e=this.bitio.getData(t);return new vt(e)},ut.prototype.parseDoInitAction=function(t){var e=this.bitio,i=this.stage,o=e.getUI16(),r=new vt(e.getData(t-2),void 0,void 0,!0),a=i.getParent();a.variables={};var n=a.createActionScript2(r);o in i.packages&&(a.active=!0,n.apply(a),a.active=!1),i.initActions[o]=n},ut.prototype.parseDefineSceneAndFrameLabelData=function(){var t,e=this.bitio,i={};for(i.SceneCount=e.getU30(),i.sceneInfo=[],t=0;t<i.SceneCount;t++)i.sceneInfo[t]={offset:e.getU30(),name:decodeURIComponent(e.getDataUntil("\0"))};for(i.FrameLabelCount=e.getU30(),i.frameInfo=[],t=0;t<i.FrameLabelCount;t++)i.frameInfo[t]={num:e.getU30(),label:decodeURIComponent(e.getDataUntil("\0"))};return i},ut.prototype.parseSoundStreamHead=function(t){var e={};e.tagType=t;var i=this.bitio;return i.getUIBits(4),e.PlaybackSoundRate=i.getUIBits(2),e.PlaybackSoundSize=i.getUIBits(1),e.PlaybackSoundType=i.getUIBits(1),e.StreamSoundCompression=i.getUIBits(4),e.StreamSoundRate=i.getUIBits(2),e.StreamSoundSize=i.getUIBits(1),e.StreamSoundType=i.getUIBits(1),e.StreamSoundSampleCount=i.getUI16(),2===e.StreamSoundCompression&&(e.LatencySeek=i.getSIBits(2)),e},ut.prototype.parseDoABC=function(t,e){var i=this.bitio;this.stage.abcFlag=!0;var o=i.byte_offset,r={};r.tagType=t,r.Flags=i.getUI32(),r.Name=i.getDataUntil("\0");var a=e-(i.byte_offset-o),n=i.getData(a),s=new pt;s.setData(n),r.minorVersion=s.getUI16(),r.majorVersion=s.getUI16(),r.integer=this.ABCInteger(s),r.uinteger=this.ABCUinteger(s),r.double=this.ABCDouble(s),r.string=this.ABCStringInfo(s),r.namespace=this.ABCNameSpaceInfo(s),r.nsSet=this.ABCNsSetInfo(s),r.multiname_info=this.ABCMultiNameInfo(s);var c=0;r.method=[];var l=s.getU30();if(l){var h=[];for(c=0;c<l;c++)h[c]=this.ABCMethodInfo(s);r.method=h}r.metadata=[];var p=s.getU30();if(p){var g=[];for(c=0;c<p;c++)g[c]=this.ABCMetadataInfo(s);r.metadata=g}var u=s.getU30();if(r.instance=[],r.class=[],u){var f=[];for(c=0;c<u;c++)f[c]=this.ABCInstanceInfo(s);r.instance=f;var d=[];for(c=0;c<u;c++)d[c]=this.ABCClassInfo(s);r.class=d}r.script=[];var v=s.getU30();if(v){var y=[];for(c=0;c<v;c++)y[c]=this.ABCScriptInfo(s);r.script=y}r.methodBody=[];var b=s.getU30();if(b){var m=[];for(c=0;c<b;c++){var S=this.ABCMethodBodyInfo(s);m[S.method]=S}r.methodBody=m}r=this.ABCMultinameToString(r),this.ABCBuildInstance(r)},ut.prototype.ABCBuildInstance=function(t){for(var e=t.instance,i=e.length,o=t.namespace,r=t.string,a=this.stage,n=t.names,s=0;s<i;s++){var c=e[s],l=null;8&c.flags&&(l=c.protectedNs);var h={};if(l)h=r[o[l].name];else h=n[c.name];var p=h.split(":"),g=p.pop(),u=p.pop(),f=function(t){this["__swf2js__::builder"]=t},d=f.prototype;d[g]=this.ABCCreateActionScript3(t,c.iinit,h);var v=c.trait,y=v.length,b=[],m=1;if(y)for(var S=0;S<y;S++){var A=v[S],I=n[A.name].split("::").pop(),C=void 0;switch(A.kind){case 0:b[m++]=I;break;case 1:case 2:case 3:C=this.ABCCreateActionScript3(t,A.data.info,h);break;case 4:F.log("build: Class");break;case 5:F.log("build: Function");break;case 6:F.log("build: Const")}d[I]=C}var x="__swf2js__:"+h;d[x]={};var k=c.superName;d[x].extends=n[k],d[x].register=b;var T=a.abc,M=a.avm2;if(u)for(var B=u.split("."),U=B.length,w=0;w<U;w++)B[w]in M||(M[B[w]]={},T[B[w]]={}),M=M[B[w]],T=T[B[w]];T[g]=f,M[g]=new f}},ut.prototype.ABCCreateActionScript3=function(t,e,i){return function(t,e,i,o){return function(){var r=new dt(t,e,i,o);return r.caller=this,r.args=arguments,r.execute()}}(t,e,i,this.stage)},ut.prototype.ABCMultinameToString=function(t){for(var e=t.multiname_info,i=e.length,o=t.string,r=t.namespace,a=[],n=1;n<i;n++){var s=e[n],c="";switch(s.kind){case 7:case 13:var l=r[s.ns];switch(l.kind){default:c+=o[l.name];break;case 5:c+="private"}""!==c&&(c+="::"),c+=o[s.name];break;case 15:case 16:F.log("RTQName",n,s);break;case 9:case 14:c=o[s.name];break;case 27:case 28:c=null;break;case 17:case 18:F.log("RTQNameL",n,s)}a[n]=c}return t.names=a,t},ut.prototype.ABCInteger=function(t){var e=[],i=t.getU30();if(i)for(var o=1;o<i;o++)e[o]=t.getS30();return e},ut.prototype.ABCUinteger=function(t){var e=[],i=t.getU30();if(i)for(var o=1;o<i;o++)e[o]=t.getU30();return e},ut.prototype.ABCDouble=function(t){var e=[],i=t.getU30();if(i)for(var o=1;o<i;o++)e[o]=t.getFloat64LittleEndian();return e},ut.prototype.ABCStringInfo=function(t){var e=[],i=t.getU30();if(i)for(var o=1;o<i;o++)e[o]=t.AbcReadString();return e},ut.prototype.ABCNameSpaceInfo=function(t){var e=[],i=t.getU30();if(i)for(var o=1;o<i;o++)e[o]={kind:t.getUI8(),name:t.getU30()};return e},ut.prototype.ABCNsSetInfo=function(t){var e=[],i=t.getU30();if(i)for(var o=1;o<i;o++){var r=t.getU30(),a=[];if(r)for(var n=0;n<r;n++)a[n]=t.getU30();e[o]=a}return e},ut.prototype.ABCMultiNameInfo=function(t){var e=[],i=t.getU30();if(i)for(var o=1;o<i;o++){var r={};switch(r.kind=t.getUI8(),r.kind){case 7:case 13:r.ns=t.getU30(),r.name=t.getU30();break;case 15:case 16:r.name=t.getU30();break;case 9:case 14:r.name=t.getU30(),r.ns_set=t.getU30();break;case 27:case 28:r.ns_set=t.getU30()}e[o]=r}return e},ut.prototype.ABCMethodInfo=function(t){var e,i={},o=t.getU30();if(i.paramCount=o,i.returnType=t.getU30(),i.paramType=[],o){var r=[];for(e=0;e<o;e++)r[r.length]=t.getU30();i.paramType=r}if(i.name=t.getU30(),i.flags=t.getUI8(),i.options=[],8===i.flags){var a=[],n=t.getU30();if(n)for(e=0;e<n;e++)a[a.length]={val:t.getU30(),kind:t.getUI8()};i.options=a}if(i.paramName=[],128===i.flags){var s=[];if(o)for(e=0;e<o;e++)s[s.length]=t.getU30();i.paramName=s}return i},ut.prototype.ABCMetadataInfo=function(t){var e={};e.name=t.getU30(),e.items=[];var i=t.getU30();if(i){for(var o=[],r=0;r<i;r++)o[o.length]={key:t.getU30(),value:t.getU30()};e.items=o}return e},ut.prototype.ABCInstanceInfo=function(t){var e={};e.name=t.getU30(),e.superName=t.getU30(),e.flags=t.getUI8(),8&e.flags&&(e.protectedNs=t.getU30());var i=t.getU30();if(e.interfaces=[],i){for(var o=[],r=0;r<i;r++)o[o.length]=t.getU30();e.interfaces=o}return e.iinit=t.getU30(),e.trait=this.ABCTrait(t),e},ut.prototype.ABCClassInfo=function(t){var e={};return e.cinit=t.getU30(),e.trait=this.ABCTrait(t),e},ut.prototype.ABCScriptInfo=function(t){var e={};return e.init=t.getU30(),e.trait=this.ABCTrait(t),e},ut.prototype.ABCMethodBodyInfo=function(t){var e,i={};i.method=t.getU30(),i.maxStack=t.getU30(),i.localCount=t.getU30(),i.initScopeDepth=t.getU30(),i.maxScopeDepth=t.getU30();var o=t.getU30(),r=[];o&&(r=this.ABCBuildCode(t,o)),i.codes=r;var a=[];if(o=t.getU30())for(e=0;e<o;e++)a[a.length]=this.ABCException(t);return i.exceptions=a,i.trait=this.ABCTrait(t),i},ut.prototype.ABCBuildCode=function(t,e){for(var i,o=[],r=0;r<e;r++){var a={},n=0,s=t.getUI8();switch(a.code=s,s){case 134:case 65:case 128:case 66:case 73:case 241:case 240:case 148:case 195:case 106:case 6:case 94:case 93:case 89:case 110:case 96:case 98:case 102:case 108:case 4:case 146:case 194:case 104:case 178:case 8:case 86:case 90:case 88:case 64:case 85:case 47:case 45:case 49:case 37:case 44:case 46:case 99:case 111:case 97:case 109:case 5:i=t.byte_offset,a.value1=t.getU30(),n+=t.byte_offset-i;break;case 27:a.value1=t.getSI24(),n+=3,i=t.byte_offset,a.value2=t.getSI24(),n+=t.byte_offset-i,a.value3=t.getSI24(),n+=3;break;case 101:case 36:a.value1=t.getSI8(),n+=1;break;case 50:a.value1=t.getSI8(),a.value2=t.getSI8(),n+=2;break;case 19:case 18:case 24:case 23:case 22:case 21:case 15:case 14:case 13:case 12:case 20:case 25:case 26:case 17:case 16:a.value1=t.getSI24(),n+=3;break;case 67:case 70:case 76:case 79:case 68:case 69:case 78:case 74:case 239:i=t.byte_offset,a.value1=t.getU30(),a.value2=t.getU30(),n+=t.byte_offset-i}a.offset=n,o[r]=a,r+=n}return o},ut.prototype.ABCException=function(t){var e={};return e.from=t.getU30(),e.to=t.getU30(),e.target=t.getU30(),e.excType=t.getU30(),e.varName=t.getU30(),e},ut.prototype.ABCTrait=function(t){var e=t.getU30(),i=[];if(e)for(var o=0;o<e;o++){var r={};r.name=t.getU30();var a=15&t.getUI8(),n=a>>4&15,s={};switch(a){default:F.log("ERROR:"+a);break;case 0:case 6:s.id=t.getU30(),s.name=t.getU30(),s.index=t.getU30(),s.kind=null,0!==s.index&&(s.kind=t.getUI8());break;case 1:case 2:case 3:case 4:case 5:s.id=t.getU30(),s.info=t.getU30()}if(r.kind=a,r.data=s,4&n){var c=t.getU30(),l=[];if(c)for(var h=0;h<c;h++)l[l.length]=t.getU30();r.metadata=l}i[i.length]=r}return i},ut.prototype.parseSymbolClass=function(){var t=this.bitio,e=this.stage.symbols,i=t.getUI16();if(i)for(;i--;){e[t.getUI16()]=t.getDataUntil("\0")}},ut.prototype.parseDefineSound=function(e,i){var o={},r=this.bitio,a=this.stage,n=r.byte_offset;o.tagType=e,o.SoundId=r.getUI16(),o.SoundFormat=r.getUIBits(4),o.SoundRate=r.getUIBits(2),o.SoundSize=r.getUIBit(),o.SoundType=r.getUIBit(),o.SoundSampleCount=r.getUI32();for(var s=i-(r.byte_offset-n),c=r.getData(s),l="",h=0;h<s;h++)l+=S(c[h]);r.byte_offset=n+i;var p="";switch(o.SoundFormat){case 0:case 3:case 1:p="wave";break;case 2:p="mpeg";break;case 4:case 5:case 6:p="nellymoser";break;case 11:p="speex";break;case 15:p="x-aiff"}o.base64="data:audio/"+p+";base64,"+t.btoa(l),a.sounds[o.SoundId]=o},ut.prototype.parseStartSound=function(t){var i=this.bitio,o={},r=this.stage;o.tagType=t,o.SoundId=i.getUI16(),89===t&&(o.SoundClassName=i.getDataUntil("\0")),o.SoundInfo=this.parseSoundInfo(),r.setCharacter(o.SoundId,o);var a=r.sounds[o.SoundId],n=e.createElement("audio");n.onload=function(){this.load(),this.preload="auto",this.autoplay=!1,this.loop=!1},n.src=a.base64;var s=r.loadSounds;return s[s.length]=n,{SoundId:o.SoundId,Audio:n,tagType:t}},ut.prototype.parseDefineButtonSound=function(){for(var t=this.bitio,e=this.stage,i=t.getUI16(),o=e.getCharacter(i),r=0;r<4;r++){var a=t.getUI16();if(a){var n=this.parseSoundInfo();switch(r){case 0:o.ButtonStateUpSoundInfo=n,o.ButtonStateUpSoundId=a;break;case 1:o.ButtonStateOverSoundInfo=n,o.ButtonStateOverSoundId=a;break;case 2:o.ButtonStateDownSoundInfo=n,o.ButtonStateDownSoundId=a;break;case 3:o.ButtonStateHitTestSoundInfo=n,o.ButtonStateHitTestSoundId=a}}}e.setCharacter(i,o)},ut.prototype.parseSoundInfo=function(){var t={},e=this.bitio;if(e.getUIBits(2),t.SyncStop=e.getUIBit(),t.SyncNoMultiple=e.getUIBit(),t.HasEnvelope=e.getUIBit(),t.HasLoops=e.getUIBit(),t.HasOutPoint=e.getUIBit(),t.HasInPoint=e.getUIBit(),t.HasInPoint&&(t.InPoint=e.getUI32()),t.HasOutPoint&&(t.OutPoint=e.getUI32()),t.HasLoops&&(t.LoopCount=e.getUI16()),t.HasEnvelope){t.EnvPoints=e.getUI8(),t.EnvelopeRecords=[];for(var i=0;i<t.EnvPoints;i++)t.EnvelopeRecords[i]={Pos44:e.getUI32(),LeftLevel:e.getUI16(),RightLevel:e.getUI16()}}return t},ut.prototype.parseDefineFontAlignZones=function(){var t=this.bitio,e=this.stage,i=t.getUI16(),o=e.getCharacter(i);o.CSMTableHint=t.getUIBits(2),t.getUIBits(6);for(var r=o.NumGlyphs,a=[],n=0;n<r;n++){for(var s=t.getUI8(),c=[],l=0;l<s;l++)c[l]=t.getUI32();a[n]={ZoneData:c,Mask:t.getUI8()}}t.byteAlign(),o.ZoneTable=a,e.setCharacter(i,o)},ut.prototype.parseCSMTextSettings=function(t){var e={},i=this.bitio;e.tagType=t,e.TextID=i.getUI16(),e.UseFlashType=i.getUIBits(2),e.GridFit=i.getUIBits(3),i.getUIBits(3),e.Thickness=i.getUI32(),e.Sharpness=i.getUI32(),i.getUI8()},ut.prototype.parseSoundStreamBlock=function(t,e){var i=this.bitio,o={};o.tagType=t,o.compressed=i.getData(e)},ut.prototype.parseDefineVideoStream=function(t){var e=this.bitio,i=this.stage,o={};o.tagType=t,o.CharacterId=e.getUI16(),o.NumFrames=e.getUI16(),o.Width=e.getUI16(),o.Height=e.getUI16(),e.getUIBits(4),o.VideoFlagsDeblocking=e.getUIBits(3),o.VideoFlagsSmoothing=e.getUIBits(1),o.CodecID=e.getUI8(),i.setCharacter(o.CharacterId,o),F.log(o)},ut.prototype.parseVideoFrame=function(t,e){var i=this.bitio,o=this.stage,r=i.byte_offset,a={};a.tagType=t,a.StreamID=i.getUI16(),a.FrameNum=i.getUI16();var n=o.getCharacter(a.StreamID),s=e-(i.byte_offset-r);switch(n.CodecID){case 4:this.parseVp6SwfVideoPacket(s)}i.byte_offset=r+e,o.videos[a.StreamID]=a},ut.prototype.parseVp6SwfVideoPacket=function(t){var e=this.bitio.getData(t);return F.log(e),""},ut.prototype.parseFileAttributes=function(){var t=this.bitio,e={};t.getUIBit(),e.UseDirectBlit=t.getUIBit(),e.UseGPU=t.getUIBit(),e.HasMetadata=t.getUIBit(),e.ActionScript3=t.getUIBit(),e.Reserved2=t.getUIBits(3),e.UseNetwork=t.getUIBit(),e.Reserved3=t.getUIBits(24)},ut.prototype.parseDefineScalingGrid=function(){var t=this.bitio,e={};e.CharacterId=t.getUI16(),e.Splitter=this.rect()};var ft=function(){},dt=function(t,e,i,o){this.id=e,this.caller=null,this.parent=null,this.activation=null,this.scopeStack=[],this.currentIndex=0,this.stage=o,this.args=[],this.variables={};var r=t.methodBody[e];this.body=r,this.codes=r.codes,this.info=t.method[r.method],this.names=t.names,this.data=t,this.ns=i,this.AVM2=this.getAVM2(),this.register=this.AVM2["__swf2js__:"+i].register,this.register[0]=this.AVM2;for(var a=r.trait,n=a.length,s=0;s<n;s++){a[s].kind}};dt.prototype.methods={gotoAndStop:1,gotoAndPlay:1,play:1,stop:1,duplicateMovieClip:1,getProperty:1,removeMovieClip:1,setProperty:1,startDrag:1,stopDrag:1,targetPath:1,updateAfterEvent:1,nextFrame:1,nextScene:1,prevFrame:1,prevScene:1,stopAllSounds:1,setMask:1,getURL:1,loadMovie:1,loadMovieNum:1,loadVariables:1,loadVariablesNum:1,unloadMovie:1,unloadMovieNum:1,swapDepths:1,getInstanceAtDepth:1,attachMovie:1,attachAudio:1,attachBitmap:1,getNextHighestDepth:1,getBytesLoaded:1,getBytesTotal:1,ASSetPropFlags:1,lineStyle:1,lineGradientStyle:1,beginFill:1,beginGradientFill:1,beginBitmapFill:1,graphics:1,buttonMode:1,clear:1,moveTo:1,lineTo:1,curveTo:1,endFill:1,hitTest:1,getDepth:1,createEmptyMovieClip:1,createTextField:1,getBounds:1,getRect:1,getSWFVersion:1,getTextSnapshot:1,globalToLocal:1,localToGlobal:1,addFrameScript:1,trace:1,addEventListener:1,removeEventListener:1,x:1,y:1,alpha:1,name:1,blendMode:1,filters:1,visible:1,rotation:1,height:1,width:1,scaleX:1,scaleY:1,mouseX:1,mouseY:1,mask:1,mouseEnabled:1},dt.prototype.getAVM2=function(){for(var t=this.ns,e=this.stage,i=t.split(":"),o=i.pop(),r=i.length,a=e.avm2,n=0;n<r;n++)a=a[i[n]];return a[o]},dt.prototype.getBuilder=function(){return this.AVM2["__swf2js__::builder"]},dt.prototype.getSuperClass=function(){return this.AVM2["__swf2js__:"+this.ns].superClass},dt.prototype.setSuperClass=function(t){this.AVM2["__swf2js__:"+this.ns].superClass=t},dt.prototype.getParent=function(){return this.parent},dt.prototype.getProperty=function(t){var e,i=this.stage;if(this.activation&&(e=this.activation[t]),void 0===e){var o=this.getParent();o&&(e=o.getProperty(t))}if(void 0===e){var r=this.getBuilder();r&&(t in this.methods&&(e=r[t]),void 0===e&&(e=r.getProperty(t)))}if(void 0===e&&-1!==t.indexOf("::")){var a=t.split("::"),n=a.pop(),s=a.pop();if("private"!==s){for(var c=s.split("."),l=c.length,h=i.avm2,p=0;p<l;p++)h=h[c[p]];void 0===(e=h[n])&&(e=this.AVM2[n])}else e=this.AVM2["private::"+n]}return void 0===e&&(e=i.avm2[t]),e},dt.prototype.setOptions=function(){var t=this.info,e=t.paramCount;if(e)for(var i=this.data,o=t.options,r=t.paramType,a=this.stage,n=0;n<e;n++){var s=void 0;if(n in o){var c=o[n],l=c.val;switch(c.kind){case 1:s=i.string[l];break;default:F.log("options",c)}}if(n in r){var h=r[n];if(h){var p=i.multiname_info[h],g=null,u="";switch(p.kind){case 7:var f=i.namespace[p.ns];switch(f.kind){case 22:u=i.string[f.name];break;default:F.log("SetOptions",f)}g=i.string[p.name]}if(u){for(var d=u.split("."),v=d.length,y=a.avm2,b=0;b<v;b++)y=y[d[b]];s=y[g]}}}void 0===this.args[n]&&(this.args[n]=s)}},dt.prototype.execute=function(){var t=[];this.scopeStack=[];var e=0,i=this.codes,o=i.length;for(this.setOptions();e<o;){var r=i[e];switch(r.code){case 160:this.ActionAdd(t);break;case 197:this.ActionAddI(t);break;case 134:this.ActionAsType(t,r.value1);break;case 135:this.ActionAsTypeLate(t);break;case 168:this.ActionBitAnd(t);break;case 151:this.ActionBitNot(t);break;case 169:this.ActionBitOr(t);break;case 170:this.ActionBitXOr(t);break;case 65:this.ActionCall(t,r.value1);break;case 67:this.ActionCallMethod(t,r.value1,r.value2);break;case 70:this.ActionCallProperty(t,r.value1,r.value2);break;case 76:this.ActionCallPropLex(t,r.value1,r.value2);break;case 79:this.ActionCallPropVoid(t,r.value1,r.value2);break;case 68:this.ActionCallStatic(t,r.value1,r.value2);break;case 69:this.ActionCallSuper(t,r.value1,r.value2);break;case 78:this.ActionCallSuperVoid(t,r.value1,r.value2);break;case 120:this.ActionCheckFilter(t);break;case 128:this.ActionCoerce(t,r.value1);break;case 130:this.ActionCoerceA(t);break;case 133:this.ActionCoerceS(t);break;case 66:this.ActionConstruct(t,r.value1);break;case 74:this.ActionConstructProp(t,r.value1,r.value2);break;case 73:this.ActionConstructSuper(t,r.value1);break;case 118:this.ActionConvertB(t);break;case 115:this.ActionConvertI(t);break;case 117:this.ActionConvertD(t);break;case 119:this.ActionConvertO(t);break;case 116:this.ActionConvertU(t);break;case 112:this.ActionConvertS(t);break;case 239:this.ActionDebug(t,r.value1,r.value2,r.value3,r.value4);break;case 241:this.ActionDebugFile(t,r.value1);break;case 240:this.ActionDebugLine(t);break;case 148:this.ActionDecLocal(t,r.value1);break;case 195:this.ActionDecLocalI(t,r.value1);break;case 147:this.ActionDecrement(t);break;case 193:this.ActionDecrementI(t);break;case 106:this.ActionDeleteProperty(t,r.value1);break;case 163:this.ActionDivide(t);break;case 42:this.ActionDup(t);break;case 6:this.ActionDxns(t,r.value1);break;case 7:this.ActionDxnsLate(t);break;case 171:this.ActionEquals(t);break;case 114:this.ActionEscXAttr(t);break;case 113:this.ActionEscXElem(t);break;case 94:this.ActionFindProperty(t,r.value1);break;case 93:this.ActionFindPropStrict(t,r.value1);break;case 89:this.ActionGetDescendAnts(t,r.value1);break;case 100:this.ActionGetGlobalScope(t);break;case 110:this.ActionGetGlobalsLot(t,r.value1);break;case 96:this.ActionGetLex(t,r.value1);break;case 98:this.ActionGetLocal(t,r.value1);break;case 208:this.ActionGetLocal0(t);break;case 209:this.ActionGetLocal1(t);break;case 210:this.ActionGetLocal2(t);break;case 211:this.ActionGetLocal3(t);break;case 102:this.ActionGetProperty(t,r.value1);break;case 101:this.ActionGetScopeObject(t,r.value1);break;case 108:this.ActionGetSlot(t,r.value1);break;case 4:this.ActionGetSuper(t,r.value1);break;case 176:this.ActionGreaterEquals(t);break;case 175:this.ActionGreaterThan(t);break;case 31:this.ActionHasNext(t);break;case 50:this.ActionHasNext2(t,r.value1,r.value2);break;case 18:e+=this.ActionIfFalse(t,r.value1);break;case 24:e+=this.ActionIfGe(t,r.value1);break;case 23:e+=this.ActionIfGt(t,r.value1);break;case 22:e+=this.ActionIfLe(t,r.value1);break;case 21:e+=this.ActionIfLt(t,r.value1);break;case 15:e+=this.ActionIfNge(t,r.value1);break;case 14:e+=this.ActionIfNgt(t,r.value1);break;case 13:e+=this.ActionIfNle(t,r.value1);break;case 12:e+=this.ActionIfNlt(t,r.value1);break;case 20:e+=this.ActionIfNe(t,r.value1);break;case 25:e+=this.ActionIfStrictEq(t,r.value1);break;case 26:e+=this.ActionIfStrictNe(t,r.value1);break;case 17:e+=this.ActionIfTrue(t,r.value1);break;case 180:this.ActionIn(t,r.value1);break;case 146:this.ActionIncLocal(t,r.value1);break;case 194:this.ActionIncLocalI(t,r.value1);break;case 145:this.ActionIncrement(t);break;case 192:this.ActionIncrementI(t);break;case 104:this.ActionInitProperty(t,r.value1);break;case 177:this.ActionInstanceOf(t);break;case 178:this.ActionIsType(t,r.value1);break;case 179:this.ActionIsTypeLate(t);break;case 16:e+=r.value1;break;case 8:this.ActionKill(t,r.value1);break;case 9:this.ActionLabel(t);break;case 174:this.ActionLessEquals(t);break;case 173:this.ActionLessThan(t);break;case 27:this.ActionLookupSwitch(t,r.value1,r.value1,r.value3);break;case 165:this.ActionLShift(t);break;case 164:this.ActionModulo(t);break;case 162:this.ActionMultiply(t);break;case 199:this.ActionMultiplyI(t);break;case 144:this.ActionNeGate(t);break;case 196:this.ActionNeGateI(t);break;case 87:this.ActionNewActivation(t);break;case 86:this.ActionNewArray(t,r.value1);break;case 90:this.ActionNewCatch(t,r.value1);break;case 88:this.ActionNewClass(t,r.value1);break;case 64:this.ActionNewFunction(t,r.value1);break;case 85:this.ActionNewObject(t,r.value1);break;case 30:this.ActionNextName(t);break;case 35:this.ActionNextValue(t);break;case 2:this.ActionNop(t);break;case 150:this.ActionNot(t);break;case 41:this.ActionPop(t);break;case 29:this.ActionPopScope();break;case 36:this.ActionPushByte(t,r.value1);break;case 47:this.ActionPushDouble(t,r.value1);break;case 39:this.ActionPushFalse(t,r.value1);break;case 45:this.ActionPushInt(t,r.value1);break;case 49:this.ActionPushNameSpace(t,r.value1);break;case 40:this.ActionPushNan(t);break;case 32:this.ActionPushNull(t);break;case 48:this.ActionPushScope(t);break;case 37:this.ActionPushShort(t,r.value1);break;case 44:this.ActionPushString(t,r.value1);break;case 38:this.ActionPushTrue(t);break;case 46:this.ActionPushUInt(t,r.value1);break;case 33:this.ActionPushUndefined(t);break;case 28:this.ActionPushWith(t);break;case 72:return t.pop();case 71:return;case 166:this.ActionRShift(t);break;case 99:this.ActionSetLocal(t,r.value1);break;case 212:this.ActionSetLocal0(t);break;case 213:this.ActionSetLocal1(t);break;case 214:this.ActionSetLocal2(t);break;case 215:this.ActionSetLocal3(t);break;case 111:this.ActionSetGlobalSlot(t,r.value1);break;case 97:this.ActionSetProperty(t,r.value1);break;case 109:this.ActionSetSlot(t,r.value1);break;case 5:this.ActionSetSuper(t,r.value1);break;case 172:this.ActionStrictEquals(t);break;case 161:this.ActionSubtract(t);break;case 198:this.ActionSubtractI(t);break;case 43:this.ActionSwap(t);break;case 3:this.ActionThrow(t);break;case 149:this.ActionTypeof(t);break;case 167:this.ActionURShift(t)}e+=r.offset,e+=1}},dt.prototype.ActionAdd=function(t){var e=t.pop(),i=t.pop();t[t.length]=i+e},dt.prototype.ActionAddI=function(t){var e=+t.pop(),i=+t.pop();t[t.length]=i+e},dt.prototype.ActionAsType=function(t,e){var i=this.names[e],o=t.pop();t[t.length]=typeof o===i||null},dt.prototype.ActionAsTypeLate=function(t){var e=t.pop(),i=t.pop();t[t.length]=typeof e===i||null},dt.prototype.ActionBitAnd=function(t){var e=t.pop(),i=t.pop();t[t.length]=i&e},dt.prototype.ActionBitNot=function(t){var e=t.pop();t[t.length]=~e},dt.prototype.ActionBitOr=function(t){var e=t.pop(),i=t.pop();t[t.length]=i|e},dt.prototype.ActionBitXOr=function(t){var e=t.pop(),i=t.pop();t[t.length]=i^e},dt.prototype.ActionCall=function(t,e){for(var i=[],o=e;o--;)i[o]=t.pop();var r,a=t.pop(),n=t.pop();"function"==typeof n&&(r=n.apply(a,i)),t[t.length]=r},dt.prototype.ActionCallMethod=function(t,e,i){for(var o=[],r=0;r<i;r++)o[o.length]=t.pop();var a,n=t.pop();"function"==typeof n&&(a=n.apply(this.caller,o)),t[t.length]=a},dt.prototype.ActionCallProperty=function(t,e,i){for(var o=[],r=i;r--;)o[o.length]=t.pop();var a,n=this.names[e],s=t.pop();if(s){var c=null;s instanceof _t?(n in this.methods&&(c=s[n]),c||(c=s.getProperty(n))):c=s[n],c&&(a=c.apply(this.caller,o))}t[t.length]=a},dt.prototype.ActionCallPropLex=function(t,e,i){for(var o=[],r=i;r--;)o[o.length]=t.pop();var a,n=this.names[e],s=t.pop();s&&(a=s[n].apply(this.getBuilder(),o)),t[t.length]=a},dt.prototype.ActionCallPropVoid=function(t,e,i){for(var o=[],r=i;r--;)o[r]=t.pop();var a=t.pop(),n=this.names[e].split("::"),s=n.pop(),c=(n.pop(),a[s]);if(!c&&a instanceof jt){var l=a.getStage(),h=l.symbols[a.getCharacterId()];if(h){var p=h.split("."),g=p.pop(),u=p.length,f=l.avm2;for(r=0;r<u;r++)f=f[p[r]];if(f)for(var d=f[g];!(c=d[s])&&(d=d.super)&&!(d instanceof jt););}}if(!c)for(;;){var v=a.super;if(!v)break;if(v instanceof jt){c=(a=this.caller)[s];break}if(c=v[s])break;a=v}"fscommand"===s&&(a=this.stage),c&&c.apply(a,o)},dt.prototype.ActionCallStatic=function(t,e,i){F.log("ActionCallStatic");for(var o=[],r=i;r--;)o[o.length]=t.pop();t.pop();t[t.length]=void 0},dt.prototype.ActionCallSuper=function(t,e,i){for(var o=[],r=i;r--;)o[o.length]=t.pop();this.names[e],t.pop()},dt.prototype.ActionCallSuperVoid=function(t,e,i){for(var o=[],r=i;r--;)o[o.length]=t.pop();this.names[e],t.pop()},dt.prototype.ActionCheckFilter=function(t){var e=t.pop();t[t.length]=e},dt.prototype.ActionCoerce=function(t,e){t.pop();var i=this.names[e];t[t.length]=i},dt.prototype.ActionCoerceA=function(t){var e=t.pop();t[t.length]=e},dt.prototype.ActionCoerceS=function(t){var e=t.pop();t[t.length]=String(e)},dt.prototype.ActionConstruct=function(t,e){for(var i=[],o=e;o--;)i[i.length]=t.pop();var r=t.pop();t[t.length]=r.construct.apply(r,i)},dt.prototype.ActionConstructProp=function(t,e,i){for(var o=[],r=i;r--;)o[o.length]=t.pop();var a,n=this.names[e],s=t.pop(),c=this.stage,l=c.abc[n];if(l){var h=this.getBuilder(),p=new l(h);c.avm2[n]=p,p[n].apply(h,o),a=p}else a=new(Function.prototype.bind.apply(s[n],o));t[t.length]=a},dt.prototype.ActionConstructSuper=function(e,i){for(var o=[],r=i;r--;)o[r]=e.pop();var a=e.pop(),n=a["__swf2js__:"+this.ns].extends,s=n.split("::"),c=s.pop(),l=s.pop(),h=this.stage,p=h.abc,g=h.avm2;if(l){var u=l.split("."),f=u.length;for(r=0;r<f;r++)p=p[u[r]],g=g[u[r]]}var d=null,v=p[c],y=this.getBuilder();switch(v){case jt:(d=new jt).setStage(h),d._extend=!0;break;case Wt:(d=new Wt).movieClip=y;break;default:v in t?d=new(Function.prototype.bind.apply(t[n],o)):(d=new v(y),g[c]=d,d[c].apply(y,o))}a.super=d,a["__swf2js__:"+this.ns].superClass=d},dt.prototype.ActionConvertB=function(t){var e=t.pop();t[t.length]=!!e},dt.prototype.ActionConvertI=function(t){var e=t.pop();t[t.length]=0|e},dt.prototype.ActionConvertD=function(t){var e=t.pop();t[t.length]=+e},dt.prototype.ActionConvertO=function(t){var e=t.pop();t[t.length]="object"==typeof e?e:null},dt.prototype.ActionConvertU=function(t){var e=t.pop();(e|=0)<0&&(e*=-1),t[t.length]=e},dt.prototype.ActionConvertS=function(t){var e=t.pop();t[t.length]=String(e)},dt.prototype.ActionDebug=function(t,e,i,o,r){},dt.prototype.ActionDebugFile=function(t,e){},dt.prototype.ActionDebugLine=function(t){},dt.prototype.ActionDecLocal=function(t,e){},dt.prototype.ActionDecLocalI=function(t,e){},dt.prototype.ActionDecrement=function(t){var e=t.pop();e-=1,t[t.length]=e},dt.prototype.ActionDecrementI=function(t){var e=t.pop();e-=1,t[t.length]=e},dt.prototype.ActionDeleteProperty=function(t,e){var i=this.name[e],o=t.pop();o&&(i in o?delete o[i]:F.log("ActionDeleteProperty")),t[t.length]=!0},dt.prototype.ActionDivide=function(t){var e=t.pop(),i=t.pop();t[t.length]=i/e},dt.prototype.ActionDup=function(t){var e=t.pop();t[t.length]=e,t[t.length]=e},dt.prototype.ActionDxns=function(t,e){},dt.prototype.ActionDxnsLate=function(t){t.pop()},dt.prototype.ActionEquals=function(t){var e=t.pop(),i=t.pop();t[t.length]=i==e},dt.prototype.ActionEscXAttr=function(t){var e=t.pop();t[t.length]=String(e)},dt.prototype.ActionEscXElem=function(t){var e=t.pop();t[t.length]=String(e)},dt.prototype.ActionFindProperty=function(t,e){this.names[e];t[t.length]=void 0},dt.prototype.ActionFindPropStrict=function(t,e){var i=this.names[e],o=i.split("::"),r=o.pop(),a=o.pop(),n=null,s=this.caller;if(!s||s instanceof jt||i in s&&(n=s),!n){var c=this.AVM2;if(a){var l=a.split("."),h=l.length;if(h>1){for(var p=this.stage.avm2,g=0;g<h;g++)p=p[l[g]];c=p}}r in c&&(n=c)}if(!n){var u=this.stage.avm2;r in u&&(n=u[r])}if(!n){var f=this.getBuilder();f&&f instanceof jt&&(r in this.methods&&(n=f),void 0!==f.getProperty()&&(n=f))}t[t.length]=n},dt.prototype.ActionGetDescendAnts=function(t,e){F.log("ActionGetDescendAnts");this.names[e];t[t.length]=void 0},dt.prototype.ActionGetGlobalScope=function(t){var e=this.scopeStack;t[t.length]=e[e.length-1]},dt.prototype.ActionGetGlobalsLot=function(t,e){F.log("ActionGetGlobalsLot"),t[t.length]=void 0},dt.prototype.ActionGetLex=function(t,e){var i=this.names[e];t[t.length]=this.getProperty(i)},dt.prototype.ActionGetLocal=function(t,e){var i=this.args[e-1];void 0===i&&(i=this.register[e]),t[t.length]=i},dt.prototype.ActionGetLocal0=function(t){t[t.length]=this.register[0]},dt.prototype.ActionGetLocal1=function(t){var e=this.args[0];void 0===e&&(e=this.register[1]),t[t.length]=e},dt.prototype.ActionGetLocal2=function(t){var e=this.args[1];void 0===e&&(e=this.register[2]),t[t.length]=e},dt.prototype.ActionGetLocal3=function(t){var e=this.args[2];void 0===e&&(e=this.register[3]),t[t.length]=e},dt.prototype.ActionGetProperty=function(t,e){var i=this.names[e];null===i&&(i=t.pop());var o,r=t.pop();r&&i&&(r instanceof _t?(i in this.methods&&(o=r[i]),o||"parent"!==i||(o=r),o||(o=r.getProperty(i))):o=r[i],void 0===o&&(o=this.getProperty(i))),t[t.length]=o},dt.prototype.ActionGetScopeObject=function(t,e){var i=this.activation;t[t.length]=e?e in i?i:null:i},dt.prototype.ActionGetSlot=function(t,e){var i=t.pop()[e];t[t.length]=this.activation[i]},dt.prototype.ActionGetSuper=function(t,e){this.prop,t.pop();t[t.length]=void 0},dt.prototype.ActionGreaterEquals=function(t){var e=t.pop(),i=t.pop();t[t.length]=i>=e},dt.prototype.ActionGreaterThan=function(t){var e=t.pop(),i=t.pop();t[t.length]=i>e},dt.prototype.ActionHasNext=function(t){var e=t.pop(),i=t.pop();e++;var o=0;if(i){var r=0;for(var a in i)if(i.hasOwnProperty(a)){if(r===e){o=e;break}r++}}t[t.length]=o},dt.prototype.ActionHasNext2=function(t,e,i){var o=this.register[e],r=this.currentIndex,a=!1,n=0;if(o)for(var s in o)if(o.hasOwnProperty(s)){if(n===r){a=!0,r++;break}n++}a||(r=0),this.currentIndex=r,this.register[i]=n,t[t.length]=a},dt.prototype.ActionIfFalse=function(t,e){return!1===t.pop()?e:0},dt.prototype.ActionIfGe=function(t,e){var i=t.pop();return t.pop()<i?e:0},dt.prototype.ActionIfGt=function(t,e){var i=t.pop();return t.pop()>i?e:0},dt.prototype.ActionIfLe=function(t,e){return t.pop()<t.pop()?e:0},dt.prototype.ActionIfLt=function(t,e){var i=t.pop();return t.pop()<i?e:0},dt.prototype.ActionIfNge=function(t,e){var i=t.pop();return t.pop()<i?e:0},dt.prototype.ActionIfNgt=function(t,e){return t.pop()<t.pop()?e:0},dt.prototype.ActionIfNle=function(t,e){return t.pop()<t.pop()?e:0},dt.prototype.ActionIfNlt=function(t,e){var i=t.pop();return t.pop()<i?e:0},dt.prototype.ActionIfNe=function(t,e){var i=t.pop();return t.pop()==i?0:e},dt.prototype.ActionIfStrictEq=function(t,e){var i=t.pop();return t.pop()===i?e:0},dt.prototype.ActionIfStrictNe=function(t,e){var i=t.pop();return t.pop()===i?0:e},dt.prototype.ActionIfTrue=function(t,e){return!0===t.pop()?e:0},dt.prototype.ActionIn=function(t){var e=t.pop(),i=t.pop();t[t.length]=i in e},dt.prototype.ActionIncLocal=function(t,e){this.register[e]+=1},dt.prototype.ActionIncLocalI=function(t,e){this.register[e]+=1},dt.prototype.ActionIncrement=function(t){var e=t.pop();e++,t[t.length]=e},dt.prototype.ActionIncrementI=function(t){var e=t.pop();e++,t[t.length]=e},dt.prototype.ActionInitProperty=function(t,e){var i=t.pop(),o=this.names[e],r=t.pop();r&&(r instanceof _t?r.setProperty(o,i):r[o]=i)},dt.prototype.ActionInstanceOf=function(t){var e=t.pop(),i=t.pop();t[t.length]=i instanceof e},dt.prototype.ActionIsType=function(t,e){var i=t.pop(),o=this.name[e];t[t.length]=i==o},dt.prototype.ActionIsTypeLate=function(t){var e=t.pop(),i=t.pop();t[t.length]=i==e},dt.prototype.ActionKill=function(t,e){delete this.register[e]},dt.prototype.ActionLabel=function(t){},dt.prototype.ActionLessEquals=function(t){var e=t.pop(),i=t.pop();t[t.length]=i<=e},dt.prototype.ActionLessThan=function(t){var e=t.pop(),i=t.pop();t[t.length]=i<e},dt.prototype.ActionLookupSwitch=function(t,e,i,o){t.pop()},dt.prototype.ActionLShift=function(t){var e=t.pop(),i=t.pop();t[t.length]=i<<e},dt.prototype.ActionModulo=function(t){var e=t.pop(),i=t.pop();t[t.length]=i%e},dt.prototype.ActionMultiply=function(t){var e=t.pop(),i=t.pop();t[t.length]=i*e},dt.prototype.ActionMultiplyI=function(t){var e=t.pop(),i=t.pop();t[t.length]=i*e},dt.prototype.ActionNeGate=function(t){var e=t.pop();t[t.length]=-e},dt.prototype.ActionNeGateI=function(t){var e=t.pop();t[t.length]=-e},dt.prototype.ActionNewActivation=function(t){for(var e=this.body.trait,i=e.length,o=new ft,r=0;r<i;r++){var a=e[r];switch(a.kind){case 0:o[r+1]=this.names[a.name]}}this.activation=o,t[t.length]=o},dt.prototype.ActionNewArray=function(t,e){for(var i=[],o=e;o--;)i[o]=t.pop();t[t.length]=i},dt.prototype.ActionNewCatch=function(t,e){t[t.length]=void 0},dt.prototype.ActionNewClass=function(t,e){var i=t.pop();this.data.class[e].cinit;t[t.length]=i},dt.prototype.ActionNewFunction=function(t,e){var i,o;t[t.length]=(i=this,o=e,function(){var t=new dt(i.data,o,i.ns,i.stage);return t.caller=this,t.parent=i,t.args=arguments,t.execute()})},dt.prototype.ActionNewObject=function(t,e){for(var i={},o=e;o--;){var r=t.pop();i[t.pop()]=r}t[t.length]=i},dt.prototype.ActionNextName=function(t){var e,i=+t.pop(),o=t.pop();if(o){var r=0;for(var a in o)if(o.hasOwnProperty(a)){if(r===i){e=a;break}r++}}t[t.length]=e},dt.prototype.ActionNextValue=function(t){t.pop(),t.pop();t[t.length]=void 0},dt.prototype.ActionNop=function(t){},dt.prototype.ActionNot=function(t){var e=t.pop();t[t.length]=!e},dt.prototype.ActionPop=function(t){t.pop()},dt.prototype.ActionPopScope=function(){this.scopeStack.pop()},dt.prototype.ActionPushByte=function(t,e){t[t.length]=0|e},dt.prototype.ActionPushDouble=function(t,e){var i=this.data.double[e];t[t.length]=+i},dt.prototype.ActionPushFalse=function(t){t[t.length]=!1},dt.prototype.ActionPushInt=function(t,e){var i=this.data.integer[e];t[t.length]=+i},dt.prototype.ActionPushNameSpace=function(t,e){var i=this.data.names[e];t[t.length]=+i},dt.prototype.ActionPushNan=function(t){t[t.length]=NaN},dt.prototype.ActionPushNull=function(t){t[t.length]=null},dt.prototype.ActionPushScope=function(t){var e=t.pop();if(e){var i=this.scopeStack;i[i.length]=e}},dt.prototype.ActionPushShort=function(t,e){t[t.length]=e},dt.prototype.ActionPushString=function(t,e){var i=this.data.string;t[t.length]=""+i[e]},dt.prototype.ActionPushTrue=function(t){t[t.length]=!0},dt.prototype.ActionPushUInt=function(t,e){var i=this.data.uinteger;t[t.length]=i[e]},dt.prototype.ActionPushUndefined=function(t){t[t.length]=void 0},dt.prototype.ActionPushWith=function(t){t.pop()},dt.prototype.ActionRShift=function(t){var e=t.pop(),i=t.pop();t[t.length]=i>>e},dt.prototype.ActionSetLocal=function(t,e){this.register[e]=t.pop()},dt.prototype.ActionSetLocal0=function(t){this.register[0]=t.pop()},dt.prototype.ActionSetLocal1=function(t){this.register[1]=t.pop()},dt.prototype.ActionSetLocal2=function(t){this.register[2]=t.pop()},dt.prototype.ActionSetLocal3=function(t){this.register[3]=t.pop()},dt.prototype.ActionSetGlobalSlot=function(t,e){t.pop()},dt.prototype.ActionSetProperty=function(t,e){var i=t.pop(),o=this.names[e],r=t.pop();if(r)if(r instanceof _t)o in this.methods?r[o]=i:F.log("ActionSetProperty",o);else if(o in r)r[o]=i;else{var a=this.getBuilder(),n=this.caller;n instanceof jt&&(a=n),a instanceof _t&&(o in this.methods?a[o]=i:r[o]=i)}},dt.prototype.ActionSetSlot=function(t,e){var i=t.pop(),o=t.pop()[e];this.activation[o]=i},dt.prototype.ActionSetSuper=function(t,e){t.pop(),this.names[e],t.pop()},dt.prototype.ActionStrictEquals=function(t){var e=t.pop(),i=t.pop();t[t.length]=i===e},dt.prototype.ActionSubtract=function(t){var e=t.pop(),i=t.pop();t[t.length]=i-e},dt.prototype.ActionSubtractI=function(t){var e=+t.pop(),i=+t.pop();t[t.length]=i-e},dt.prototype.ActionSwap=function(t){var e=t.pop(),i=t.pop();t[t.length]=e,t[t.length]=i},dt.prototype.ActionThrow=function(t){var e=t.pop();F.log(e)},dt.prototype.ActionTypeof=function(t){var e=t.pop();t[t.length]=typeof e},dt.prototype.ActionURShift=function(t){var e=t.pop(),i=t.pop();t[t.length]=e>>i};var vt=function(t,e,i,o){this.cache=[],this.params=[],this.constantPool=e||[],this.register=i||[],this.variables={},this.initAction=!!o,this.scope=null,this.parent=null,this.arg=null,this.version=7,this.superClass=null,t.length&&this.initialize(t),this.initParam()};vt.prototype.reset=function(){this.arg=null,this.variables={},this.initParam()},vt.prototype.initParam=function(){for(var t=this.register,e=t.length,i=[],o=0;o<e;o++){var r=t[o];null===r.name?i[r.register]=r.value:i[r.register]=r.name}this.params=i},vt.prototype.initVariable=function(t){this.arg=t;for(var e=this.register,i=e.length,o=this.variables,r=0,a=0;a<i;a++){var n=e[a];null!==n.name&&(o[n.name]=t[r++])}this.variables=o,this.initParam()},vt.prototype.getSuperClass=function(){var t=this.superClass;if(!t){var e=this.parent;e&&(t=e.getSuperClass())}return t},vt.prototype.setVariable=function(t,e){var i=!1;if(t in this.variables&&(this.variables[t]=e,i=!0),!i){var o=this.parent;o&&(i=o.setVariable(t,e))}return i},vt.prototype.getVariable=function(t){var e,i;switch(t){case"this":e=this.variables.this;break;case"arguments":e=this.arg;break;default:void 0===(e=this.variables[t])&&(i=this.parent)&&(e=i.getVariable(t))}return e},vt.prototype.valueToString=function(t){return"string"!=typeof t&&(t+=""),t},vt.prototype.stringToObject=function(t,e){var i=this.getVariable(t);return void 0===i&&(i=e.getProperty(t)),i},vt.prototype.initialize=function(t){var e,i,o,r,a,n=!1,s={},c=0,l=0,h=[],p=[],g=0,u=new pt;u.setData(t);var f=new pt,d=t.length;for(this.initParam();u.byte_offset<d;){var v=u.byte_offset;if(s={},g&&g===u.byte_offset)g=0,s.actionCode=148,s.Size=0,h[h.length]=s;else{var y=u.getUI8();s.actionCode=y;var b=null;switch(y>=128&&(a=u.getUI16(),b=u.getData(a),f.setData(b),f.setOffset(0,0)),y){case 129:s.frame=1+(0|f.getUI16());break;case 138:s.frame=f.getUI16(),s.skipCount=f.getUI8();break;case 139:s.targetName=f.getDataUntil("\0");break;case 140:s.label=f.getDataUntil("\0");break;case 131:var m=b.length-1,A=[[]];for(l=0,c=0;c<m;c++){var I=S(b[c]);0!==b[c]?A[l]+=I:A[++l]=[]}var C=A[0];if("string"==typeof C){var x=C.split("?");if(2 in x){C=x[0],C+="?"+x[1];var k=x.length;for(c=2;c<k;c++)C+="&"+x[c]}}s.url=C,s.target=A[1];break;case 150:for(o=[];f.byte_offset<a;){switch(f.getUI8()){case 0:o[o.length]=String(f.getDataUntil("\0"));break;case 1:o[o.length]=f.getFloat32();break;case 2:o[o.length]=null;break;case 3:o[o.length]=void 0;break;case 4:o[o.length]={key:f.getUI8()};break;case 5:o[o.length]=!!f.getUI8();break;case 6:o[o.length]=f.getFloat64();break;case 7:o[o.length]=f.getUI32();break;case 8:o[o.length]=this.constantPool[f.getUI8()];break;case 9:o[o.length]=this.constantPool[f.getUI16()]}}s.values=o;break;case 157:case 153:s.offset=u.byte_offset+u.toSI16LE(b);break;case 154:s.LoadVariablesFlag=f.getUIBits(1),s.LoadTargetFlag=f.getUIBits(1),f.getUIBits(4),s.SendVarsMethod=f.getUIBits(2);break;case 159:f.getUIBits(6),s.SceneBiasFlag=f.getUIBit(),s.PlayFlag=f.getUIBit(),1===s.SceneBiasFlag&&(s.SceneBias=f.getUI16());break;case 141:s.skipCount=f.getUI8();break;case 136:var T=f.getUI16(),M=[];if(T>0)for(;T--;)M[M.length]=f.getDataUntil("\0");s.constantPool=M,this.constantPool=M;break;case 155:if(s.FunctionName=f.getDataUntil("\0"),i=[],(r=f.getUI16())>0)for(l=1;r--;)i[i.length]={register:l,name:f.getDataUntil("\0"),value:null};e=u.getData(f.getUI16()),s.ActionScript=new vt(e,this.constantPool,i,this.initAction);break;case 148:s.Size=f.getUI16(),g=s.Size+u.byte_offset;break;case 135:s.RegisterNumber=f.getUI8();break;case 142:i=[],o=[],s.FunctionName=f.getDataUntil("\0"),r=f.getUI16();var F=f.getUI8();for(s.PreloadParentFlag=f.getUIBits(1),s.PreloadRootFlag=f.getUIBits(1),s.SuppressSuperFlag=f.getUIBits(1),s.PreloadSuperFlag=f.getUIBits(1),s.SuppressArgumentsFlag=f.getUIBits(1),s.PreloadArgumentsFlag=f.getUIBits(1),s.SuppressThisFlag=f.getUIBits(1),s.PreloadThisFlag=f.getUIBits(1),f.getUIBits(7),s.PreloadGlobalFlag=f.getUIBits(1),s.PreloadThisFlag&&(o[o.length]="this"),s.PreloadArgumentsFlag&&(o[o.length]="arguments"),s.PreloadSuperFlag&&(o[o.length]="super"),s.PreloadRootFlag&&(o[o.length]="_root"),s.PreloadParentFlag&&(o[o.length]="_parent"),s.PreloadGlobalFlag&&(o[o.length]="_global"),l=1;l<F;l++){var B=l-1;B in o&&(i[i.length]={register:l,name:null,value:o[B]})}if(r>0)for(;r--;){var U=f.getUI8(),w=f.getDataUntil("\0");i[i.length]={register:U,name:w,value:null}}e=u.getData(f.getUI16()),s.ActionScript=new vt(e,this.constantPool,i,this.initAction);break;case 143:f.getUIBits(5);var _=f.getUIBits(1);s.FinallyBlockFlag=f.getUIBits(1),s.CatchBlockFlag=f.getUIBits(1);var Y,P=f.getUI16(),O=f.getUI16(),D=f.getUI16();Y=_?f.getUI8():f.getDataUntil("\0"),c=0;var X=[];if(P)for(;P;)X[X.length]=u.getUI8(),P--;if(s.try=function(t){var e=new vt(X);return function(){return e.reset(),e.variables.this=this,e.execute(this)}}(),s.CatchBlockFlag){var L=[];if(O)for(;O;)L[L.length]=u.getUI8(),O--;s.catch=function(t,e){var i=new vt(L);return function(){return i.reset(),i.variables.this=this,i.variables[e]=arguments[0],i.execute(this)}}(0,Y)}if(s.FinallyBlockFlag){var E=[];if(D)for(;D;)E[E.length]=u.getUI8(),D--;s.finally=function(t){var e=new vt(E);return function(){return e.reset(),e.variables.this=this,e.execute(this)}}()}break;case 0:n=!0}if(p[v]=h.length,h[h.length]=s,n)break}}var R=h.length;for(c=0;c<R;c++){var H=(s=h[c]).actionCode;if(157===H||153===H){var N=p[s.offset];s.offset=void 0!==N?N-1:h.length-1}}this.cache=h},vt.prototype.calc=function(t){var e;switch(typeof t){case"boolean":e=t?1:0;break;case"object":null===t?e=0:t instanceof Array?e=t.length:t instanceof Object&&(e=1);break;default:e=+t}return A(e)&&(e=0),e},vt.prototype.logicValue=function(t){var e;switch(typeof t){case"boolean":e=t?1:0;break;case"object":null===t?e=0:t instanceof Array?e=t.length:t instanceof Object&&(e=1);break;case"string":e=""===t?0:1;break;case"function":e=1;break;default:A(e=+t)&&(e=0)}return e},vt.prototype.operationValue=function(t){var e=+t.pop();return A(e)&&(e=0),e},vt.prototype.execute=function(t){var e=this.scope,i=e instanceof jt?e:t;if(i.active){var o=i.getStage();o&&(this.version=o.getVersion());for(var r=[],a=this.cache,n=a.length,s=0;s<n;)if(s in a){var c=a[s],l=c.actionCode;if(0===l)break;switch(l){case 129:this.ActionGotoFrame(i,c.frame);break;case 4:this.ActionNextFrame(i);break;case 5:this.ActionPreviousFrame(i);break;case 6:this.ActionPlay(i);break;case 7:this.ActionStop(i);break;case 8:case 138:break;case 9:this.ActionStopSounds(i);break;case 139:i=this.ActionSetTarget(i,t,c.targetName);break;case 140:this.ActionGoToLabel(i,c.label);break;case 131:this.ActionGetURL(i,c.url,c.target);break;case 10:this.ActionOperation(r,0);break;case 11:this.ActionOperation(r,1);break;case 12:this.ActionOperation(r,2);break;case 13:this.ActionOperation(r,3);break;case 14:this.ActionEquals(r);break;case 15:this.ActionLess(r);break;case 16:this.ActionAnd(r);break;case 17:this.ActionOr(r);break;case 18:this.ActionNot(r);break;case 19:this.ActionStringEquals(r);break;case 20:case 49:this.ActionStringLength(r);break;case 33:this.ActionStringAdd(r);break;case 21:case 53:this.ActionStringExtract(r);break;case 41:this.ActionStringLess(r);break;case 23:r.pop();break;case 150:this.ActionPush(r,i,c.values);break;case 51:case 55:this.ActionAsciiToChar(r);break;case 54:case 50:this.ActionCharToAscii(r);break;case 24:this.ActionToInteger(r);break;case 158:this.ActionCall(r,i);break;case 157:s=this.ActionIf(r,c.offset,s);break;case 153:s=c.offset;break;case 28:this.ActionGetVariable(r,i);break;case 29:this.ActionSetVariable(r,i);break;case 154:this.ActionGetURL2(r,c,i);break;case 34:this.ActionGetProperty(r,i);break;case 159:this.ActionGoToFrame2(r,c,i);break;case 32:i=this.ActionSetTarget2(r,i,t);break;case 35:this.ActionSetProperty(r,i);break;case 39:this.ActionStartDrag(r,i);break;case 141:r.pop();break;case 36:this.ActionCloneSprite(r,i);break;case 37:this.ActionRemoveSprite(r,i);break;case 40:this.ActionEndDrag(i);break;case 52:this.ActionGetTime(r);break;case 48:this.ActionRandomNumber(r);break;case 38:this.ActionTrace(r);break;case 0:break;case 45:this.ActionFsCommand2(r,i);break;case 82:this.ActionCallMethod(r,i);break;case 136:this.constantPool=c.constantPool;break;case 61:this.ActionCallFunction(r,i);break;case 155:this.ActionDefineFunction(r,c,i);break;case 60:this.ActionDefineLocal(r,i);break;case 65:this.ActionDefineLocal2(r,i);break;case 58:this.ActionDelete(r,i);break;case 59:this.ActionDelete2(r,i);break;case 70:this.ActionEnumerate(r,i);break;case 73:this.ActionEquals2(r);break;case 78:this.ActionGetMember(r,i);break;case 66:this.ActionInitArray(r);break;case 67:this.ActionInitObject(r);break;case 83:this.ActionNewMethod(r,i);break;case 64:this.ActionNewObject(r,i);break;case 79:this.ActionSetMember(r,i);break;case 69:this.ActionTargetPath(r);break;case 148:i=this.ActionWith(r,c.Size,t);break;case 74:this.ActionToNumber(r);break;case 75:this.ActionToString(r);break;case 68:this.ActionTypeOf(r);break;case 71:this.ActionAdd2(r);break;case 72:this.ActionLess2(r);break;case 63:this.ActionModulo(r);break;case 96:this.ActionBitAnd(r);break;case 99:this.ActionBitLShift(r);break;case 97:this.ActionBitOr(r);break;case 100:this.ActionBitRShift(r);break;case 101:this.ActionBitURShift(r);break;case 98:this.ActionBitXor(r);break;case 81:this.ActionDecrement(r);break;case 80:this.ActionIncrement(r);break;case 76:this.ActionPushDuplicate(r);break;case 62:return r.pop();case 77:this.ActionStackSwap(r);break;case 135:this.ActionStoreRegister(r,c.RegisterNumber);break;case 84:this.ActionInstanceOf(r);break;case 85:this.ActionEnumerate(r,i);break;case 102:this.ActionStrictEquals(r);break;case 103:case 104:this.ActionGreater(r);break;case 142:this.ActionDefineFunction(r,c,i);break;case 105:this.ActionExtends(r);break;case 43:this.ActionCastOp(r);break;case 44:this.ActionImplementsOp(r);break;case 143:this.ActionTry(c,i);break;case 42:this.ActionThrow(r);break;default:F.log("[ActionScript Error] Code: "+l)}s++}else s++}},vt.prototype.methods={gotoandstop:"gotoAndStop",gotoandplay:"gotoAndPlay",play:"play",stop:"stop",duplicatemovieclip:"duplicateMovieClip",getproperty:"getProperty",removemovieclip:"removeMovieClip",setproperty:"setProperty",startdrag:"startDrag",stopdrag:"stopDrag",targetpath:"targetPath",updateafterevent:"updateAfterEvent",nextframe:"nextFrame",nextscene:"nextScene",prevframe:"prevFrame",prevscene:"prevScene",stopallsounds:"stopAllSounds",setmask:"setMask",geturl:"getURL",loadmovie:"loadMovie",loadmovienum:"loadMovieNum",loadvariables:"loadVariables",loadvariablesnum:"loadVariablesNum",unloadmovie:"unloadMovie",unloadmovienum:"unloadMovieNum",swapdepths:"swapDepths",getinstanceatdepth:"getInstanceAtDepth",attachmovie:"attachMovie",attachaudio:"attachAudio",attachbitmap:"attachBitmap",getnexthighestdepth:"getNextHighestDepth",getbytesloaded:"getBytesLoaded",getbytestotal:"getBytesTotal",assetpropflags:"ASSetPropFlags",linestyle:"lineStyle",linegradientstyle:"lineGradientStyle",beginfill:"beginFill",begingradientfill:"beginGradientFill",beginbitmapfill:"beginBitmapFill",clear:"clear",moveto:"moveTo",lineto:"lineTo",curveto:"curveTo",endfill:"endFill",hittest:"hitTest",getdepth:"getDepth",createemptymovieclip:"createEmptyMovieClip",createtextfield:"createTextField",getbounds:"getBounds",getrect:"getRect",getswfversion:"getSWFVersion",gettextsnapshot:"getTextSnapshot",globaltolocal:"globalToLocal",localtoglobal:"localToGlobal"},vt.prototype.checkMethod=function(t){if(!t||"string"!=typeof t)return t;var e=t.toLowerCase();return this.methods[e]||null},vt.prototype.ActionGotoFrame=function(t,e){t instanceof jt&&(t.stop(),t.setNextFrame(e))},vt.prototype.ActionNextFrame=function(t){t instanceof jt&&t.nextFrame()},vt.prototype.ActionPreviousFrame=function(t){t instanceof jt&&t.prevFrame()},vt.prototype.ActionPlay=function(t){t instanceof jt&&t.play()},vt.prototype.ActionStop=function(t){t instanceof jt&&t.stop()},vt.prototype.ActionStopSounds=function(t){t instanceof jt&&t.stopAllSounds()},vt.prototype.ActionSetTarget=function(t,e,i){if(""!==i){var o=t;return o||(o=e),o.getDisplayObject(i)}return e.active?e:void 0},vt.prototype.ActionGoToLabel=function(t,e){if(t instanceof jt){var i=t.getLabel(e);t.stop(),"number"==typeof i&&i&&t.setNextFrame(i)}},vt.prototype.ActionGetURL=function(t,e,i){t instanceof jt&&t.getURL(e,i)},vt.prototype.ActionOperation=function(t,e){var i,o=this.operationValue(t),r=this.operationValue(t);switch(e){case 0:i=r+o;break;case 1:i=r-o;break;case 2:i=r*o;break;case 3:i=r/o}t[t.length]=i},vt.prototype.ActionEquals=function(t){var e=this.calc(t.pop()),i=this.calc(t.pop());this.version>4?t[t.length]=e===i:t[t.length]=e===i?1:0},vt.prototype.ActionLess=function(t){var e=this.calc(t.pop()),i=this.calc(t.pop());this.version>4?t[t.length]=i<e:t[t.length]=i<e?1:0},vt.prototype.ActionAnd=function(t){var e=t.pop(),i=t.pop();this.version>4?(e=this.logicValue(e),i=this.logicValue(i),t[t.length]=0!==e&&0!==i):(e=this.calc(e),i=this.calc(i),t[t.length]=0!==e&&0!==i?1:0)},vt.prototype.ActionOr=function(t){var e=t.pop(),i=t.pop();this.version>4?(e=this.logicValue(e),i=this.logicValue(i),t[t.length]=0!==e||0!==i):(e=this.calc(e),i=this.calc(i),t[t.length]=0!==e||0!==i?1:0)},vt.prototype.ActionNot=function(t){var e=t.pop();this.version>4?(e=this.logicValue(e),t[t.length]=0===e):(e=this.calc(e),t[t.length]=0===e?1:0)},vt.prototype.ActionStringEquals=function(t){var e=t.pop(),i=t.pop();e instanceof jt?e=e.getTarget():e+="",i instanceof jt?i=i.getTarget():i+="",this.version>4?t[t.length]=i===e:t[t.length]=i===e?1:0},vt.prototype.ActionStringLength=function(t){for(var e=t.pop(),i=0,o=(e=this.valueToString(e)).length,r=0;r<o;r++,i++){e.charCodeAt(r)<255||i++}t[t.length]=i},vt.prototype.ActionStringAdd=function(t){var e=t.pop(),i=t.pop();null==e&&(e=""),null==i&&(i=""),t[t.length]=i+""+e},vt.prototype.ActionStringExtract=function(t){var e=t.pop(),i=t.pop(),o=t.pop();o=this.valueToString(o),--i<0&&(i=0),t[t.length]=e<0?o.substr(i):o.substr(i,e)},vt.prototype.ActionStringLess=function(t){var e=t.pop(),i=t.pop();this.version>4?t[t.length]=i<e:t[t.length]=i<e?1:0},vt.prototype.ActionPush=function(t,e,i){for(var o=i.length,r=this.params,a=0;a<o;a++){var n=i[a];if(n instanceof Object){var s=n.key;if(n=void 0,s in r){var c=r[s];"string"==typeof c&&(void 0!==(n=this.getVariable(c))||c in this.variables)||(n=c)}}t[t.length]=n}},vt.prototype.ActionAsciiToChar=function(t){var e=t.pop();t[t.length]=S(e)},vt.prototype.ActionCharToAscii=function(t){var e=t.pop();e=this.valueToString(e),t[t.length]=e.charCodeAt(0)},vt.prototype.ActionToInteger=function(t){var e=t.pop();t[t.length]=0|e},vt.prototype.ActionCall=function(t,e){var i=t.pop();if(e){var o,r=(i=this.valueToString(i)).split(":"),a=r[0],n=e;r.length>1&&(n=e.getDisplayObject(r[0]),a=r[1]),n instanceof jt&&(o="number"==typeof a?a:n.getLabel(a),n.executeActions(o))}},vt.prototype.ActionIf=function(t,e,i){var o=t.pop();switch(typeof o){case"boolean":break;case"string":A(o)||(o=+o)}return o?e:i},vt.prototype.ActionGetVariable=function(t,e){var i,o=t.pop();o instanceof jt?i=o:void 0===(i=this.getNativeClass(o))&&void 0===(i=this.getVariable(o))&&e&&(i=e.getProperty(o)),t[t.length]=i},vt.prototype.ActionSetVariable=function(t,e){var i=t.pop(),o=t.pop();this.setVariable(o,i)||e.setProperty(o,i)},vt.prototype.ActionGetURL2=function(t,e,i){var o,r=t.pop(),a=t.pop(),n=e.LoadVariablesFlag,s=e.LoadTargetFlag,c=e.SendVarsMethod,l="GET";if(2===c&&(l="POST"),i instanceof jt)if(a){var h=(a=this.valueToString(a)).split("?"),p=h.length,g="";if(1===p&&(g="?"),p>2){o=h[0]+"?",o+=h[1];for(var u=2;u<p;u++){o=o+"&"+h[u]}}else o=a;if(c){var f=i.variables,d="";for(var v in f)if(f.hasOwnProperty(v)){var y=f[v];if(null===y&&(y=""),"string"!=typeof y){var b=typeof y;y="%5Btype+"+(b=b.replace(/^[a-z]/g,function(t){return t.toUpperCase()}))+"%5D"}d+="&"+v+"="+y}""!==g&&""!==d&&(d=g+d.slice(1)),o+=d}n?i.loadVariables(o,r,l):s?r instanceof jt?r.loadMovie(o,null,c):i.loadMovie(o,r,c):i.getURL(o,r,l)}else i.unloadMovie(r)},vt.prototype.ActionGetProperty=function(t,e){var i=t.pop(),o=t.pop();A(i)||(i=a(i));var r=this.getVariable(i);if(void 0===r&&e){var n=e;o&&("string"!=typeof o&&(o+=""),n=e.getDisplayObject(o)),n instanceof jt&&(r=n.getProperty(i))}t[t.length]=r},vt.prototype.ActionGoToFrame2=function(t,e,i){var o=e.SceneBiasFlag,r=e.PlayFlag;if(1===o){var a=e.SceneBias;F.log("SceneBias",a)}var n=t.pop();if(n&&i){if(A(n)){var s=n.split(":");if(s.length>1){var c=i.getDisplayObject(s[0]);c&&(n=c.getLabel(s[1]))}else n=i.getLabel(s[0])}"string"==typeof n&&(n|=0),"number"==typeof n&&n>0&&(i.setNextFrame(n),r?i.play():i.stop())}},vt.prototype.ActionSetTarget2=function(t,e,i){var o=t.pop();return e||(e=i),e.getDisplayObject(o)},vt.prototype.ActionSetProperty=function(t,e){var i=t.pop(),o=t.pop(),r=t.pop();if(A(o)||(o=a(o)),e){var n=e;void 0!==r&&(n=e.getDisplayObject(r)),n instanceof jt&&n.setProperty(o,i)}},vt.prototype.ActionStartDrag=function(t,e){var i=t.pop(),o=t.pop(),r=null,a=null,n=null,s=null;t.pop()&&(r=t.pop(),a=t.pop(),n=t.pop(),s=t.pop());var c=e;i instanceof jt&&(c=i),"string"==typeof i&&i&&(c=e.getDisplayObject(i)),c instanceof jt&&c.startDrag(o,s,n,a,r)},vt.prototype.ActionCloneSprite=function(t,e){var i=+t.pop(),o=t.pop(),r=t.pop();e&&e.duplicateMovieClip(o,r,i)},vt.prototype.ActionRemoveSprite=function(t,e){var i=t.pop();e&&e.removeMovieClip(i)},vt.prototype.ActionEndDrag=function(t){t&&t.stopDrag()},vt.prototype.ActionGetTime=function(t){var e=new Date;t[t.length]=e.getTime()-X.getTime()},vt.prototype.ActionRandomNumber=function(t){var e=t.pop();t[t.length]=a(c()*e)},vt.prototype.ActionTrace=function(t){var e=t.pop();e instanceof _t&&e.removeFlag&&(e=""),e&&"object"==typeof e&&("callee"in e&&(e=Array.prototype.slice.call(e)),e=e.toString()),F.log("[trace] "+e)},vt.prototype.ActionFsCommand2=function(t,e){t.pop();var i=t.pop(),o=new Date;switch(i.toLowerCase()){case"getdateyear":t[t.length]=o.getFullYear();break;case"getdatemonth":t[t.length]=o.getMonth()+1;break;case"getdateday":t[t.length]=o.getDate();break;case"getdateweekday":t[t.length]=o.getDay();break;case"gettimehours":t[t.length]=o.getHours();break;case"gettimeminutes":t[t.length]=o.getMinutes();break;case"gettimeseconds":t[t.length]=o.getSeconds();break;case"startvibrate":t.pop(),t.pop(),t.pop(),t[t.length]=-1;break;case"gettimezoneoffset":e.setVariable(t.pop(),o.toUTCString()),e.setVariable(t.pop(),0);break;case"getlocalelongdate":e.setVariable(t.pop(),o.toLocaleDateString()),e.setVariable(t.pop(),0);break;case"getlocaleshortdate":e.setVariable(t.pop(),o.toDateString()),e.setVariable(t.pop(),0);break;case"getlocaletime":e.setVariable(t.pop(),o.toLocaleTimeString()),e.setVariable(t.pop(),0);break;case"getnetworkname":case"getdevice":case"getdeviceid":e.setVariable(t.pop(),""),e.setVariable(t.pop(),-1);break;case"getlanguage":var r=L.userLanguage||L.language||L.browserLanguage||"ja-JP";e.setVariable(t.pop(),r),e.setVariable(t.pop(),0);break;case"setsoftkeys":t.pop(),t.pop(),t[t.length]=-1;break;case"fullscreen":t.pop(),t[t.length]=-1;break;case"setquality":case"getfreestagememory":case"gettotalstagememory":t.pop(),t[t.length]=-1;break;default:t[t.length]=-1}},vt.prototype.ActionCallMethod=function(e,i){var o,r=e.pop(),a=e.pop(),n=+e.pop(),s=[];if(n>0)for(;n;){n--;var c=e.pop();c&&"object"==typeof c&&"callee"in c&&(c=Array.prototype.slice.call(c)),s[s.length]=c}if("string"==typeof a&&void 0===a[r]){var l=this.stringToObject(a,i);if(l&&(a=l),"super"===a){var h=this.variables.this,p=this.getSuperClass();if(!r&&p){var g=new p;switch(p){case jt:var u=i.getStage();g.setStage(u),g.setParent(i),g._extend=!0}var f=Object.getPrototypeOf(h);f.constructor=p,Object.setPrototypeOf(f,g),Object.setPrototypeOf(h,f)}else a=h}}if(a&&r){var d;if("object"==typeof a){var v=a.variables;v&&!(d=v[r])&&v.registerClass&&(d=v.registerClass[r])}if(!d){var y=this.checkMethod(r);y&&(d=a[y])}if(d||(d=a[r]),!d&&a instanceof jt&&(d=a.getVariable(r)),!d&&a instanceof ee&&(d=t[r])&&(s=this.ActionNativeFunction(s,i),a=t),("call"===r||"apply"===r)&&(d=a,a=s.shift(),"apply"===r)){var b=s.shift();s=[],b&&(s=Array.prototype.slice.call(b))}if(d&&"function"==typeof d){switch(!0){case a instanceof Gt:if("loadClip"===r&&"string"==typeof s[1]){var m=s[1];s[1]=i.getDisplayObject(m)}}o=d.apply(a,s)}if(!d&&a instanceof Object&&"string"==typeof r)switch(r.toLowerCase()){case"registerclass":o=!1;var S=i.getDisplayObject("_root").getStage(),A=S.exportAssets[s[0]];A&&(S.registerClass[A]=s[1],o=!0);break;case"addproperty":this.addProperty(a,s)}}else r||"function"!=typeof a||(o=a.apply(this.variables.this,s));e[e.length]=o},vt.prototype.addProperty=function(t,e){var i=e[0];if("string"!=typeof i||""===i)return!1;var o=e[1];o||(o=function(){});var r=e[2];return r||(r=function(){}),"function"==typeof o&&"function"==typeof r&&(Object.defineProperty(t,i,{get:o,set:r}),!0)},vt.prototype.ActionNativeFunction=function(t,e){var i=e,o=t;if(t[0]instanceof jt&&(i=t.shift(),t.length>0)){var r,a=t.shift();if("string"==typeof a&&"function"!=typeof(r=this.getVariable(a))&&(r=i.getVariable(a)),"function"==typeof r){var n=t.shift(),s=function(t,e,i){return function(){t.apply(e,i)}}(r,i,t);(o=[])[o.length]=s,o[o.length]=n}else F.log("DEBUG: ",o),t.unshift(a),o=t}return o},vt.prototype.ActionCallFunction=function(e,i){var o=e.pop(),r=+e.pop(),a=[];if(r>0)for(;r;){r--;var n=e.pop();n&&"object"==typeof n&&"callee"in n&&(n=Array.prototype.slice.call(n)),a[a.length]=n}if(i){var s,c=i,l=this.checkMethod(o);if(l)s=i[l];else if(!(s=i.variables[o])){var h=i.variables.registerClass;h&&"object"==typeof h&&(s=h[o]),s||(t[o]?(c=t,a=this.ActionNativeFunction(a,i),s=t[o]):s=i.getVariable(o))}e[e.length]=s?s.apply(c,a):void 0}},vt.prototype.ActionDefineFunction=function(t,e,i){var o=i.createActionScript2(e.ActionScript,this),r=e.FunctionName;""!==r?i.setVariable(r,o):t[t.length]=o},vt.prototype.ActionDefineLocal=function(t,e){var i=t.pop(),o=t.pop();this.parent?this.variables[o]=i:e.setVariable(o,i)},vt.prototype.ActionDefineLocal2=function(t,e){var i=t.pop();this.parent?this.variables[i]=void 0:e.setVariable(i,void 0)},vt.prototype.ActionDelete=function(t,e){var i=t.pop(),o=t.pop();if("string"==typeof o){var r=this.stringToObject(o,e);r&&(o=r)}o instanceof jt&&o.setVariable(i,void 0)},vt.prototype.ActionDelete2=function(t,e){var i=t.pop();e&&e.setVariable(i,void 0)},vt.prototype.ActionEnumerate=function(t,e){var i,o=t.pop();if(t[t.length]=null,"string"==typeof o&&(o=this.stringToObject(o,e)),o instanceof Object)switch(!0){case o instanceof _t:var r=o.getTags(),a=o.getStage();for(i in r)if(r.hasOwnProperty(i)){var n=r[i],s=a.getInstance(n),c="instance"+n;s.getName()&&(c=s.getName()),t[t.length]=c}var l=o.variables;for(i in l)l.hasOwnProperty(i)&&(t[t.length]=i);break;default:for(i in o)o.hasOwnProperty(i)&&(t[t.length]=i)}},vt.prototype.ActionEquals2=function(t){var e=t.pop(),i=t.pop(),o=e,r=i;e instanceof jt&&(o=e.getTarget()),i instanceof jt&&(r=i.getTarget()),t[t.length]=r==o},vt.prototype.ActionGetMember=function(e,i){var o,r=e.pop(),a=e.pop();if("string"==typeof a){var n=this.stringToObject(a,i);n&&(a=n)}if(a)switch(!0){default:o=a[r];break;case a instanceof _t:case a instanceof ee:if(a._extend)o=a[r];else{if(void 0===(o=a.getProperty(r,!1))&&"string"==typeof r&&"instance"===r.substr(0,8)){var s=a.getStage(),c=r.split("instance")[1];o=s.getInstance(c)}void 0===o&&this.checkMethod(r)&&(o=a[r])}break;case a instanceof Element&&"childNodes"===r:var l=a[r],h=l.length;if(o=[],h)for(var p=0;p<h;p++){var g=l[p];1===g.nodeType&&(o[o.length]=g)}break;case a instanceof t.NamedNodeMap:o=a.getNamedItem(r).value}e[e.length]=o},vt.prototype.ActionInitArray=function(t){var e=t.pop(),i=[];if(e>0)for(;e--;)i[i.length]=t.pop();t[t.length]=i},vt.prototype.ActionInitObject=function(t){var e=t.pop(),i={};if(e>0)for(;e--;){var o=t.pop();i[t.pop()]=o}t[t.length]=i},vt.prototype.ActionNewMethod=function(e,i){var o,r=e.pop(),a=e.pop(),n=e.pop(),s=[];if(n>0)for(;n--;){var c=e.pop();c&&"object"==typeof c&&"callee"in c&&(c=Array.prototype.slice.call(c)),s[s.length]=c}""===r&&(o=a.apply(a,s)),!o&&r in a&&(o=this.CreateNewActionScript(a[r],i,s)),!o&&r in t&&(o="CSSStyleDeclaration"===r?void 0:this.CreateNewActionScript(t[r],i,s)),e[e.length]=o},vt.prototype.ActionNewObject=function(e,i){var o=e.pop(),r=+e.pop(),a=[];if(r>0)for(;r;){r--;var n=e.pop();n&&"object"==typeof n&&"callee"in n&&(n=Array.prototype.slice.call(n)),a[a.length]=n}var s={};if(o in t)a.unshift(t[o]),s=new(Function.prototype.bind.apply(t[o],a));else switch(o){case"Object":s={};break;case"MovieClip":s=new jt;var c=i.getStage();s.setStage(c),s.setParent(i);break;case"Sound":(s=new Wt(i)).movieClip=i;break;case"XML":s=new Vt;break;case"LoadVars":s=new Zt;break;case"Color":s=new Kt(a[0]);break;case"TextFormat":s=new Rt;break;case"MovieClipLoader":s=new Gt;break;default:if(i){var l=this.getVariable(o)||i.getVariable(o);s=this.CreateNewActionScript(l,i,a)}}e[e.length]=s},vt.prototype.getNativeClass=function(t){var e;switch(t){case"MovieClip":e=jt;break;case"Sprite":e=Dt;break;case"SimpleButton":e=Nt;break;case"TextField":e=Ht;break;case"Shape":e=Xt;break;case"Sound":e=Wt;break;case"XML":e=Vt;break;case"LoadVars":e=Zt;break;case"Color":e=Kt;break;case"TextFormat":e=Rt;break;case"MovieClipLoader":e=Gt}return e},vt.prototype.CreateNewActionScript=function(t,e,i){if(t)return i.unshift(t),new(Function.prototype.bind.apply(t,i))},vt.prototype.ActionSetMember=function(t,e){var i=t.pop(),o=t.pop(),r=t.pop();if(r){if("string"==typeof r){var a=this.stringToObject(r,e);a&&(r=a)}if("object"==typeof r||"function"==typeof r)switch(!0){default:case r===jt.prototype:case r===Ht.prototype:case r===Nt.prototype:case r===Dt.prototype:case r===Xt.prototype:r[o]=i;break;case r instanceof _t:case r instanceof ee:r._extend?r[o]=i:r.setProperty(o,i,!1)}}},vt.prototype.ActionTargetPath=function(t){F.log("ActionTargetPath");var e=t.pop(),i=null;if(e instanceof jt&&null!==(i=e.getName()))for(;;){var o=e.getParent();if(null===o){i="/"+i;break}var r=o.getName();if(null===r){i=null;break}i=r+"/"+i}t[t.length]=i},vt.prototype.ActionWith=function(t,e,i){var o=i;return e&&(o=t.pop()),o},vt.prototype.ActionToNumber=function(t){var e=+t.pop();t[t.length]=e},vt.prototype.ActionToString=function(t){var e=t.pop();t[t.length]=this.valueToString(e)},vt.prototype.ActionTypeOf=function(t){var e=t.pop(),i="";switch(!0){case e instanceof jt:i="movieclip";break;default:i=typeof e}t[t.length]=i},vt.prototype.ActionAdd2=function(t){var e=t.pop(),i=t.pop();t[t.length]=i+e},vt.prototype.ActionLess2=function(t){var e=t.pop(),i=t.pop();t[t.length]=i<e},vt.prototype.ActionModulo=function(t){var e=t.pop(),i=t.pop();t[t.length]=i%e},vt.prototype.ActionBitAnd=function(t){var e=t.pop(),i=t.pop();t[t.length]=i&e},vt.prototype.ActionBitLShift=function(t){var e=t.pop(),i=t.pop();t[t.length]=i<<e},vt.prototype.ActionBitOr=function(t){var e=t.pop(),i=t.pop();t[t.length]=i|e},vt.prototype.ActionBitRShift=function(t){var e=t.pop(),i=t.pop();t[t.length]=i>>e},vt.prototype.ActionBitURShift=function(t){var e=t.pop(),i=t.pop();t[t.length]=i>>e},vt.prototype.ActionBitXor=function(t){var e=t.pop(),i=t.pop();t[t.length]=e^i},vt.prototype.ActionDecrement=function(t){var e=+t.pop();e--,t[t.length]=e},vt.prototype.ActionIncrement=function(t){var e=+t.pop();e++,t[t.length]=e},vt.prototype.ActionPushDuplicate=function(t){var e=t.length;t[e]=t[e-1]},vt.prototype.ActionStackSwap=function(t){var e=t.pop(),i=t.pop();t[t.length]=e,t[t.length]=i},vt.prototype.ActionStoreRegister=function(t,e){this.params[e]=t[t.length-1]},vt.prototype.ActionInstanceOf=function(t){var e=t.pop(),i=t.pop();t[t.length]=i instanceof e},vt.prototype.ActionStrictEquals=function(t){var e=t.pop(),i=t.pop();t[t.length]=i===e},vt.prototype.ActionGreater=function(t){var e=t.pop(),i=t.pop();t[t.length]=i>e},vt.prototype.ActionExtends=function(t){var e=t.pop(),i=t.pop();e&&i&&(this.superClass=e)},vt.prototype.ActionCastOp=function(t){var e=t.pop(),i=t.pop();t[t.length]="function"==typeof i&&e instanceof i.prototype.constructor?e:null},vt.prototype.ActionImplementsOp=function(t){F.log("ActionImplementsOp");var e=t.pop();F.log(e);var i=t.pop(),o=[];if(i>0)for(;i--;)o[o.length]=t.pop();t[t.length]=null},vt.prototype.ActionTry=function(t,e){try{t.try.apply(e)}catch(i){t.CatchBlockFlag&&t.catch.apply(e,[i])}finally{t.FinallyBlockFlag&&t.finally.apply(e)}},vt.prototype.ActionThrow=function(t){throw t.pop().message};var yt=function(){};yt.prototype.generateColorTransform=function(t,e){return{R:0|r(0,o(t.R*e[0]+e[4],255)),G:0|r(0,o(t.G*e[1]+e[5],255)),B:0|r(0,o(t.B*e[2]+e[6],255)),A:r(0,o(255*t.A*e[3]+e[7],255))/255}},yt.prototype.intToRGBA=function(t,e){return{R:(16711680&t)>>16,G:(65280&t)>>8,B:255&t,A:(e=e||100)/100}},yt.prototype.filterOperation=function(t,e,i){return!0===e?t?"source-in":"source-out":!0===i?t?"source-in":"copy":t?"source-atop":"destination-over"},yt.prototype.coatOfColor=function(t,e,i,o){for(var r=t.canvas,a=t.getImageData(0,0,r.width,r.height),n=0,s=a.data,c=e.R,l=e.G,h=e.B,p=s.length;n<p;n+=4){var g=n+3,u=s[g];i?255!==u&&(s[n]=0|c,s[n+1]=0|l,s[n+2]=0|h,s[g]=255-(0|u)):0!==u&&(s[n]=0|c,s[n+1]=0|l,s[n+2]=0|h,s[g]=0|u)}if(t.putImageData(a,0,0),o>0)for(n=1;n<o;n++)t.drawImage(t.canvas,0,0);return t},yt.prototype.clone=function(){var t=[];for(var e in this)this.hasOwnProperty(e)&&(t[t.length]=this[e]);var i=this;switch(this.filterId){case 0:i=new(Function.prototype.bind.apply(mt,t));break;case 1:i=new(Function.prototype.bind.apply(bt,t));break;case 2:i=new(Function.prototype.bind.apply(St,t));break;case 3:i=new(Function.prototype.bind.apply(At,t));break;case 4:i=new(Function.prototype.bind.apply(It,t));break;case 5:i=new(Function.prototype.bind.apply(Ct,t));break;case 6:i=new(Function.prototype.bind.apply(xt,t));break;case 7:i=new(Function.prototype.bind.apply(kt,t))}return i},yt.prototype.toColorInt=function(t){if("string"==typeof t){var e=ht.getCanvas();e.width=1,e.height=1;var i=e.getContext("2d");i.fillStyle=t,t="0x"+i.fillStyle.substr(1),ht.destroy(i)}return t};var bt=function(){yt.call(this),this.filterId=1,this.blurX=4,this.blurY=4,this.quality=1;var t=arguments,e=0|t[0];!A(e)&&0<=e&&255>=e&&(this.blurX=e);var i=0|t[1];!A(i)&&0<=i&&255>=i&&(this.blurY=i);var o=0|t[2];!A(o)&&1<=o&&15>=o&&(this.quality=o)};bt.prototype=Object.create(yt.prototype),bt.prototype.constructor=bt,bt.prototype.render=function(t,e,i,o){var r=t.canvas,a=ht.getCanvas();a.width=r.width,a.height=r.height;var n=a.getContext("2d");return n.drawImage(r,0,0),n._offsetX=t._offsetX,n._offsetY=t._offsetY,this.executeFilter(n,o)},bt.prototype.executeFilter=function(t,e){var i=this.blurX,o=this.blurY;if(0===i&&0===o)return t;0===i&&(i=4),0===o&&(o=4);var r=this.quality,a=e.getScale(),s=[.5,1.05,1.35,1.55,1.75,1.9,2,2.1,2.2,2.3,2.5,3,3,3.5,3.5][r-1],c=n(i*s*a*W),l=n(o*s*a*W),h=t.canvas,p=n(h.width+2*c+1),g=n(h.height+2*l+1),u=ht.getCanvas();u.width=p,u.height=g;var f=u.getContext("2d"),d=c,v=l;f._offsetX=c+t._offsetX,f._offsetY=l+t._offsetY,f.drawImage(h,d,v);for(var y=f.getImageData(0,0,p,g),b=y.data,m=d>>1,S=v>>1,A=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],I=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],C=A[m],x=I[m],k=A[S],T=I[S],M=0,F=0,B=0,U=0,w=0,_=0,Y=0,P=0,O=0,D=0,X=0,L=0,E=0,R=0,H=m+m+1,N=S+S+1,j=y.width,G=y.height,Z=j-1,V=G-1,z=m+1,K=S+1,q={r:0,b:0,g:0,a:0},J=q,Q=1;Q<H;Q++)J=J.n={r:0,b:0,g:0,a:0};J.n=q;var $={r:0,b:0,g:0,a:0},tt=$;for(Q=1;Q<N;Q++)tt=tt.n={r:0,b:0,g:0,a:0};tt.n=$;for(var et=null;r-- >0;){_=w=0;var it=0|C,ot=0|x;for(F=G;--F>-1;){for(Y=z*(X=b[w]),P=z*(L=b[w+1]),O=z*(E=b[w+2]),D=z*(R=b[w+3]),J=q,Q=z;--Q>-1;)J.r=X,J.g=L,J.b=E,J.a=R,J=J.n;for(Q=1;Q<z;Q++)B=w+((Z<Q?Z:Q)<<2)|0,Y+=J.r=b[B],P+=J.g=b[B+1],O+=J.b=b[B+2],D+=J.a=b[B+3],J=J.n;for(et=q,M=0;M<j;M++)b[w++]=Y*it>>>ot,b[w++]=P*it>>>ot,b[w++]=O*it>>>ot,b[w++]=D*it>>>ot,B=_+((B=M+m+1)<Z?B:Z)<<2,Y-=et.r-(et.r=b[B]),P-=et.g-(et.g=b[B+1]),O-=et.b-(et.b=b[B+2]),D-=et.a-(et.a=b[B+3]),et=et.n;_+=j}for(it=k,ot=T,M=0;M<j;M++){for(Y=K*(X=b[w=M<<2|0])|0,P=K*(L=b[w+1|0])|0,O=K*(E=b[w+2|0])|0,D=K*(R=b[w+3|0])|0,tt=$,Q=0;Q<K;Q++)tt.r=X,tt.g=L,tt.b=E,tt.a=R,tt=tt.n;for(U=j,Q=1;Q<=S;Q++)w=U+M<<2,Y+=tt.r=b[w],P+=tt.g=b[w+1],O+=tt.b=b[w+2],D+=tt.a=b[w+3],tt=tt.n,Q<V&&(U+=j);if(w=M,et=$,r>0)for(F=0;F<G;F++)b[(B=w<<2)+3]=R=D*it>>>ot,R>0?(b[B]=Y*it>>>ot,b[B+1]=P*it>>>ot,b[B+2]=O*it>>>ot):b[B]=b[B+1]=b[B+2]=0,B=M+((B=F+K)<V?B:V)*j<<2,Y-=et.r-(et.r=b[B]),P-=et.g-(et.g=b[B+1]),O-=et.b-(et.b=b[B+2]),D-=et.a-(et.a=b[B+3]),et=et.n,w+=j;else for(F=0;F<G;F++)b[(B=w<<2)+3]=R=D*it>>>ot,R>0?(R=255/R,b[B]=(Y*it>>>ot)*R,b[B+1]=(P*it>>>ot)*R,b[B+2]=(O*it>>>ot)*R):b[B]=b[B+1]=b[B+2]=0,B=M+((B=F+K)<V?B:V)*j<<2,Y-=et.r-(et.r=b[B]),P-=et.g-(et.g=b[B+1]),O-=et.b-(et.b=b[B+2]),D-=et.a-(et.a=b[B+3]),et=et.n,w+=j}}return f.putImageData(y,0,0),ht.destroy(t),f};var mt=function(){yt.call(this),this.filterId=0,this.distance=4,this.angle=45,this.color=0,this.alpha=1,this.blurX=4,this.blurY=4,this.strength=1,this.quality=1,this.inner=!1,this.knockout=!1,this.hideObject=!1;var t=arguments,e=0|t[0];A(e)||(this.distance=e);var i=+t[1];!A(i)&&0<=i&&360>=i&&(this.angle=i);var o=this.toColorInt(t[2]);A(o)||(this.color=o);var r=+t[3];!A(r)&&0<=r&&1>=r&&(this.alpha=r);var a=0|t[4];!A(a)&&0<=a&&255>=a&&(this.blurX=a);var n=0|t[5];!A(n)&&0<=n&&255>=n&&(this.blurY=n);var s=+t[6];!A(s)&&0<=s&&255>=s&&(this.strength=s);var c=0|t[7];!A(c)&&1<=c&&15>=c&&(this.quality=c);var l=t[8];"boolean"==typeof l&&(this.inner=l);var h=t[9];"boolean"==typeof h&&(this.knockout=h);var p=t[10];"boolean"==typeof p&&(this.hideObject=p)};mt.prototype=Object.create(yt.prototype),mt.prototype.constructor=mt,mt.prototype.render=function(t,e,i,o){var r=this.strength;if(0===r)return t;var a=this.quality,s=this.inner,c=this.angle*b/180,l=this.blurX,h=this.blurY,u=new bt(l,h,a).render(t,e,i,o),d=this.toColorInt(this.color),v=this.intToRGBA(d),y=this.generateColorTransform(v,i);u=this.coatOfColor(u,y,s,r);var m=t._offsetX,S=t._offsetY,A=u._offsetX,I=u._offsetY,C=u.canvas,x=ht.getCanvas(),k=C.width+m,T=C.height+S,M=0,F=0,B=0,U=0,w=this.distance,_=o.getScale(),Y=n(p(c)*w*_),P=n(g(c)*w*_);0!==Y&&(k+=f(Y),Y<0?M-=Y:B=Y),0!==P&&(T+=f(P),P<0?F-=P:U=P),x.width=k,x.height=T;var O=x.getContext("2d");O.drawImage(t.canvas,A+M,I+F),O.globalAlpha=this.alpha,r<1&&(O.globalAlpha*=r);var D=this.knockout,X=this.hideObject;return O.globalCompositeOperation=this.filterOperation(s,D,X),O.drawImage(C,m+B,S+U),O._offsetX=m+A,O._offsetY=S+I,ht.destroy(u),O};var St=function(){yt.call(this),this.filterId=2,this.color=16711680,this.alpha=1,this.blurX=6,this.blurY=6,this.strength=2,this.quality=1,this.inner=!1,this.knockout=!1;var t=arguments,e=this.toColorInt(t[0]);A(e)||(this.color=e);var i=+t[1];!A(i)&&0<=i&&1>=i&&(this.alpha=i);var o=0|t[2];!A(o)&&0<=o&&255>=o&&(this.blurX=o);var r=0|t[3];!A(r)&&0<=r&&255>=r&&(this.blurY=r);var a=+t[4];!A(a)&&0<=a&&255>=a&&(this.strength=a);var n=0|t[5];!A(n)&&1<=n&&15>=n&&(this.quality=n);var s=t[6];"boolean"==typeof s&&(this.inner=s);var c=t[7];"boolean"==typeof c&&(this.knockout=c)};St.prototype=Object.create(yt.prototype),St.prototype.constructor=St,St.prototype.render=function(t,e,i,o){var r=this.strength;if(0===r)return t;var a=this.inner,n=this.blurX,s=this.blurY,c=new bt(n,s,this.quality).render(t,e,i,o),l=c.canvas.width+t._offsetX,h=c.canvas.height+t._offsetY,p=this.toColorInt(this.color),g=this.intToRGBA(p),u=this.generateColorTransform(g,i);c=this.coatOfColor(c,u,a,r);var f=ht.getCanvas();f.width=l,f.height=h;var d=f.getContext("2d");d.drawImage(t.canvas,c._offsetX,c._offsetY),d.globalAlpha=this.alpha,r<1&&(d.globalAlpha*=r);var v="source-over";return v=this.knockout?a?"source-in":"source-out":a?"source-atop":"destination-over",d.globalCompositeOperation=v,d.drawImage(c.canvas,t._offsetX,t._offsetY),d._offsetX=t._offsetX+c._offsetX,d._offsetY=t._offsetY+c._offsetY,ht.destroy(c),d};var At=function(){yt.call(this),this.filterId=3,this.distance=4,this.angle=45,this.highlightColor=16777215,this.highlightAlpha=1,this.shadowColor=0,this.shadowAlpha=1,this.blurX=4,this.blurY=4,this.strength=1,this.quality=1,this.type="inner",this.knockout=!1;var t=arguments,e=0|t[0];A(e)||(this.distance=e);var i=+t[1];!A(i)&&0<=i&&360>=i&&(this.angle=i);var o=this.toColorInt(t[2]);A(o)||(this.highlightColor=o);var r=+t[3];!A(r)&&0<=r&&1>=r&&(this.highlightAlpha=r);var a=this.toColorInt(t[4]);A(a)||(this.shadowColor=a);var n=+t[5];!A(n)&&0<=n&&1>=n&&(this.shadowAlpha=n);var s=0|t[6];!A(s)&&0<=s&&255>=s&&(this.blurX=s);var c=0|t[7];!A(c)&&0<=c&&255>=c&&(this.blurY=c);var l=+t[8];!A(l)&&0<=l&&255>=l&&(this.strength=l);var h=0|t[9];!A(h)&&1<=h&&15>=h&&(this.quality=h);var p=t[10];"string"==typeof p&&(this.type=p);var g=t[11];"boolean"==typeof g&&(this.knockout=g)};At.prototype=Object.create(yt.prototype),At.prototype.constructor=At,At.prototype.render=function(t,e,i,o){var r,a,s=this.distance,c=this.angle,l=this.shadowColor,h=this.shadowAlpha,u=this.highlightColor,d=this.highlightAlpha,v=this.blurX,y=this.blurY,m=this.strength,S=this.quality,A=this.knockout,I=c*b/180,C=this.type,x=new bt(v,y,S).render(t,e,i,o),k=x.canvas,T=x._offsetX,M=x._offsetY,F=ht.getCanvas();F.width=k.width,F.height=k.height;var B=F.getContext("2d");B.drawImage(k,0,0);var U=this.toColorInt(l);r=this.intToRGBA(U),a=this.generateColorTransform(r,i),B=this.coatOfColor(B,a,!1,m);var w=ht.getCanvas();w.width=k.width,w.height=k.height;var _=w.getContext("2d");_.drawImage(k,0,0);var Y=this.toColorInt(u);r=this.intToRGBA(Y),a=this.generateColorTransform(r,i),_=this.coatOfColor(_,a,!1,m);var P="inner"===C||"full"===C,O="outer"===C||"full"===C,D=t._offsetX,X=t._offsetY,L=ht.getCanvas(),E=k.width+D,R=k.height+X,H=0,N=0,j=o.getScale(),G=n(p(I)*s*j),Z=n(g(I)*s*j);0!==G&&(E+=f(G),G<0&&(H-=G)),0!==Z&&(R+=f(Z),Z<0&&(N-=Z)),L.width=E,L.height=R;var V=L.getContext("2d");A||V.drawImage(t.canvas,T+H,M+N),m<1&&(V.globalAlpha*=m),V._offsetX=D+T,V._offsetY=X+M;var W=ht.getCanvas();W.width=E+T,W.height=R+M;var z,K=W.getContext("2d");return K.globalCompositeOperation="xor",K.globalAlpha=d,K.drawImage(_.canvas,-G+H,-Z+N),K.globalAlpha=h,K.drawImage(B.canvas,G,Z),P&&O?z="source-over":P?(V.drawImage(t.canvas,T+H,M+N),z=this.filterOperation(!0,A)):O&&(z="destination-over"),V.globalCompositeOperation=z,V.drawImage(K.canvas,0,0),!P&&O&&A&&(V.globalCompositeOperation="destination-out",V.drawImage(t.canvas,T+H,M+N)),ht.destroy(x),ht.destroy(_),ht.destroy(B),ht.destroy(K),V};var It=function(){yt.call(this),this.filterId=4,this.distance=4,this.angle=45,this.colors=null,this.alphas=null,this.ratios=null,this.blurX=4,this.blurY=4,this.strength=1,this.quality=1,this.type="inner",this.knockout=!1;var t=arguments,e=0|t[0];A(e)||(this.distance=e);var i=+t[1];!A(i)&&0<=i&&360>=i&&(this.angle=i),this.colors=t[2],this.alphas=t[3],this.ratios=t[4];var o=0|t[5];!A(o)&&0<=o&&255>=o&&(this.blurX=o);var r=0|t[6];!A(r)&&0<=r&&255>=r&&(this.blurY=r);var a=+t[7];!A(a)&&0<=a&&255>=a&&(this.strength=a);var n=0|t[8];!A(n)&&1<=n&&15>=n&&(this.quality=n);var s=t[9];"string"==typeof s&&(this.type=s);var c=t[10];"boolean"==typeof c&&(this.knockout=c)};It.prototype=Object.create(yt.prototype),It.prototype.constructor=It,It.prototype.render=function(t,e,i,o){var r=this.strength;if(0===r)return t;var a=this.type,s=this.blurX,c=this.blurY,l="inner"===a||"full"===a,h="outer"===a||"full"===a,u=this.knockout,d=this.angle*b/180,v=new bt(s,c,this.quality).render(t,e,i,o),y=t._offsetX,m=t._offsetY,S=v._offsetX,A=v._offsetY,I=v.canvas,C=ht.getCanvas(),x=I.width+y,k=I.height+m,T=0,M=0,F=0,B=0,U=this.distance,w=o.getScale(),_=n(p(d)*U*w),Y=n(g(d)*U*w);0!==_&&(x+=f(_),_<0?T-=_:F=_),0!==Y&&(k+=f(Y),Y<0?M-=Y:B=Y),C.width=x,C.height=k;var P,O=C.getContext("2d");return u||O.drawImage(t.canvas,S+T,A+M),r<1&&(O.globalAlpha*=r),l&&h?P="source-over":(u&&O.drawImage(t.canvas,S+T,A+M),P=this.filterOperation(l,u)),O.globalCompositeOperation=P,O.drawImage(I,y+F,m+B),O._offsetX=y+S,O._offsetY=m+A,ht.destroy(v),O};var Ct=function(){yt.call(this),this.filterId=5};Ct.prototype=Object.create(yt.prototype),Ct.prototype.constructor=Ct,Ct.prototype.render=function(t,e,i,o){return t};var xt=function(){yt.call(this),this.filterId=6};xt.prototype=Object.create(yt.prototype),xt.prototype.constructor=xt,xt.prototype.render=function(t,e,i,o){return t};var kt=function(){yt.call(this),this.filterId=7};kt.prototype=Object.create(yt.prototype),kt.prototype.constructor=kt,kt.prototype.render=function(t,e,i,o){return t};var Tt=function(){this.clear()};Tt.prototype.MOVE_TO=0,Tt.prototype.CURVE_TO=1,Tt.prototype.LINE_TO=2,Tt.prototype.CUBIC=3,Tt.prototype.ARC=4,Tt.prototype.FILL_STYLE=5,Tt.prototype.STROKE_STYLE=6,Tt.prototype.FILL=7,Tt.prototype.STROKE=8,Tt.prototype.LINE_WIDTH=9,Tt.prototype.LINE_CAP=10,Tt.prototype.LINE_JOIN=11,Tt.prototype.MITER_LIMIT=12,Tt.prototype.BEGIN_PATH=13,Tt.prototype.multiplicationMatrix=function(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]},Tt.prototype.generateColorTransform=function(t,e){return{R:0|r(0,o(t.R*e[0]+e[4],255)),G:0|r(0,o(t.G*e[1]+e[5],255)),B:0|r(0,o(t.B*e[2]+e[6],255)),A:r(0,o(255*t.A*e[3]+e[7],255))/255}},Tt.prototype.intToRGBA=function(t,e){return{R:(16711680&t)>>16,G:(65280&t)>>8,B:255&t,A:(e=e||100)/100}},Tt.prototype.clear=function(){var t=m.MAX_VALUE;return this.bounds={xMin:t,xMax:-t,yMin:t,yMax:-t},this.maxWidth=0,this.cmd=null,this.isDraw=!1,this.isFillDraw=!1,this.isLineDraw=!1,this.cacheKey="",this.recodes=[],this.lineRecodes=[],this},Tt.prototype.getCacheKey=function(){return this.cacheKey},Tt.prototype.addCacheKey=function(){var t=arguments,e="",i=t.length;if(i)for(var o=0;o<i;o++){e+="_"+t[o]}this.cacheKey+=e},Tt.prototype.getBounds=function(){return this.bounds},Tt.prototype.setBounds=function(t,e){var i=this.bounds;i.xMin=o(i.xMin,t),i.xMax=r(i.xMax,t),i.yMin=o(i.yMin,e),i.yMax=r(i.yMax,e)},Tt.prototype.colorStringToInt=function(t){var e=ht.getCanvas().getContext("2d");e.fillStyle=t;var i="0x"+e.fillStyle.substr(1);return ht.destroy(e),i},Tt.prototype.beginFill=function(t,e){"string"==typeof t&&(t=this.colorStringToInt(t)),t|=0,A(e=+e)?e=100:e*=100;var i=this.intToRGBA(t,e),o=this.recodes;return this.isFillDraw||(o[o.length]=[this.BEGIN_PATH]),o[o.length]=[this.FILL_STYLE,i.R,i.G,i.B,i.A],this.addCacheKey(t,e),this.isFillDraw=!0,this.isDraw=!0,this},Tt.prototype.lineStyle=function(t,e,i,o,a,n,s,c){var l=this.lineRecodes;if(A(t=+t)){if(this.isLineDraw){this.isLineDraw=!1,l[l.length]=[this.STROKE];for(var h=l.length,p=this.recodes,g=0;g<h;g++)p[p.length]=l[g];this.lineRecodes=[]}}else{void 0===e&&(e=0),"string"==typeof e&&(e=this.colorStringToInt(e)),n||(n="round"),s||(s="round"),e|=0,A(i=+i)?i=100:i*=100;var u=this.intToRGBA(e,i);t<.5&&(t+=.2),t*=20,this.maxWidth=r(this.maxWidth,t),this.isLineDraw&&(l[l.length]=[this.STROKE]),l[l.length]=[this.BEGIN_PATH],l[l.length]=[this.STROKE_STYLE,u.R,u.G,u.B,u.A],l[l.length]=[this.LINE_WIDTH,t],l[l.length]=[this.LINE_CAP,n],l[l.length]=[this.LINE_JOIN,s],this.addCacheKey(e,i),this.isLineDraw=!0,this.isDraw=!0}return this},Tt.prototype.moveTo=function(t,e){var i=this.recodes;if(t*=20,e*=20,this.isFillDraw&&(i[i.length]=[this.MOVE_TO,t,e]),this.isLineDraw){var o=this.lineRecodes;o[o.length]=[this.MOVE_TO,t,e]}return(this.isFillDraw||this.isLineDraw)&&(this.setBounds(t,e),this.addCacheKey(t,e)),this},Tt.prototype.lineTo=function(t,e){var i=this.recodes;if(t*=20,e*=20,this.isFillDraw&&(i[i.length]=[this.LINE_TO,t,e]),this.isLineDraw){var o=this.lineRecodes;o[o.length]=[this.LINE_TO,t,e]}return(this.isFillDraw||this.isLineDraw)&&(this.setBounds(t,e),this.addCacheKey(t,e)),this},Tt.prototype.curveTo=function(t,e,i,o){var r=this.recodes;if(t*=20,e*=20,i*=20,o*=20,this.isFillDraw&&(r[r.length]=[this.CURVE_TO,t,e,i,o]),this.isLineDraw){var a=this.lineRecodes;a[a.length]=[this.CURVE_TO,t,e,i,o]}return(this.isFillDraw||this.isLineDraw)&&(this.setBounds(t,e),this.setBounds(i,o),this.addCacheKey(t,e,i,o)),this},Tt.prototype.cubicCurveTo=function(t,e,i,o,r,a){var n=this.recodes;if(t*=20,e*=20,i*=20,o*=20,r*=20,a*=20,this.isFillDraw&&(n[n.length]=[this.CUBIC,t,e,i,o,r,a]),this.isLineDraw){var s=this.lineRecodes;s[s.length]=[this.CUBIC,t,e,i,o,r,a]}return(this.isFillDraw||this.isLineDraw)&&(this.setBounds(r,a),this.setBounds(t,e),this.setBounds(i,o),this.addCacheKey(t,e,i,o,r,a)),this},Tt.prototype.drawCircle=function(t,e,i){var o=this.recodes;if(t*=20,e*=20,i*=20,this.isFillDraw&&(o[o.length]=[this.ARC,t,e,i]),this.isLineDraw){var r=this.lineRecodes;r[r.length]=[this.ARC,t,e,i]}return(this.isFillDraw||this.isLineDraw)&&(this.setBounds(t-i,e-i),this.setBounds(t+i,e+i),this.addCacheKey(t,e,i)),this},Tt.prototype.drawEllipse=function(t,e,i,o){var r=i/2,a=o/2,n=t+r,s=t+i,c=e+a,l=e+o,h=4/3*(d-1)*r,p=4/3*(d-1)*a;return this.moveTo(n,e),this.cubicCurveTo(n+h,e,s,c-p,s,c),this.cubicCurveTo(s,c+p,n+h,l,n,l),this.cubicCurveTo(n-h,l,t,c+p,t,c),this.cubicCurveTo(t,c-p,n-h,e,n,e),this},Tt.prototype.drawRect=function(t,e,i,o){return this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.lineTo(t,e),this},Tt.prototype.drawRoundRect=function(t,e,i,o,r,a){var n=r/2,s=a/2,c=4/3*(d-1)*n,l=4/3*(d-1)*s,h=t+n,p=t+i,g=p-n,u=e+s,f=e+o,v=f-s;return this.moveTo(h,e),this.lineTo(g,e),this.cubicCurveTo(g+c,e,p,u-l,p,u),this.lineTo(p,v),this.cubicCurveTo(p,v+l,g+c,f,g,f),this.lineTo(h,f),this.cubicCurveTo(h-c,f,t,v+l,t,v),this.lineTo(t,u),this.cubicCurveTo(t,u-l,h-c,e,h,e),this},Tt.prototype.drawTriangles=function(t,e,i,o){var r=t.length;if(r&&r%3==0){var a=0,n=0;if(e){if((r=e.length)&&r%3==0)for(a=0;a<r;a++){var s=e[a];0===n?this.moveTo(t[s],t[s+1]):this.lineTo(t[s],t[s+1]),++n%3==0&&(n=0)}}else for(a=0;a<r;a++)0===n?this.moveTo(t[a++],t[a]):this.lineTo(t[a++],t[a]),++n%3==0&&(n=0)}return this},Tt.prototype.endFill=function(){if(this.isFillDraw){var t=this.recodes;t[t.length]=[this.FILL]}return this.isFillDraw=!1,this},Tt.prototype.render=function(t,e,i,r){var a="";if(!(i[3]+i[7]/255))return a;var c=this.multiplicationMatrix(r.getMatrix(),e),l=h(c[0]*c[0]+c[1]*c[1]),p=h(c[2]*c[2]+c[3]*c[3]);l=s(d,n(u(l)/v-y)),p=s(d,n(u(p)/v-y));var g,b,m=this.maxWidth,S=m/2,A=this.getBounds(),I=A.xMax,C=A.xMin,x=A.yMax,k=A.yMin,T=f(n((I-C+m)*l)),M=f(n((x-k+m)*p));if(T<=0||M<=0)return a;var F=r.clipMc||this.isClipDepth;if(!F&&(a=ht.generateKey("Graphics",0,[l,p],i),a+=this.getCacheKey(),!(g=ht.getCache(a))&&r.getWidth()>T&&r.getHeight()>M&&ht.size>T*M)){(b=ht.getCanvas()).width=T,b.height=M;var B=[l,0,0,p,(-C+S)*l,(-k+S)*p];(g=b.getContext("2d")).setTransform(B[0],B[1],B[2],B[3],B[4],B[5]),g=this.executeRender(g,o(l,p),i,!1),ht.setCache(a,g)}if(g){b=g.canvas;var U=[1/l,0,0,1/p,C-S,k-S],w=this.multiplicationMatrix(c,U);t.setTransform(w[0],w[1],w[2],w[3],w[4],w[5]),H&&!j?(t.fillStyle=r.context.createPattern(g.canvas,"no-repeat"),t.fillRect(0,0,T,M)):t.drawImage(b,0,0,T,M)}else t.setTransform(c[0],c[1],c[2],c[3],c[4],c[5]),this.executeRender(t,o(c[0],c[3]),i,F);return a+"_"+c[4]+"_"+c[5]},Tt.prototype.executeRender=function(t,e,i,o){var r=this.recodes,a=r.length,n=this.lineRecodes;if(a||n){var s=this.cmd;if(!s){var c=n.length;if(c){for(var l=0;l<c;l++)r[r.length]=n[l];this.lineRecodes=[]}s=ct.buildCommand(r),this.cmd=s}t.beginPath(),s(t,i,o),o?t.clip():(this.isFillDraw&&t.fill(),this.isLineDraw&&t.stroke())}return t.strokeStyle="rgba(0,0,0,1)",t.fillStyle="rgba(0,0,0,1)",t.globalAlpha=1,t},Tt.prototype.renderHitTest=function(t,e,i,o,r){var a=this.cmd;if(!a){var n=this.recodes;a=ct.buildCommand(n),this.cmd=a}var s=this.multiplicationMatrix(i.getMatrix(),e);t.setTransform(s[0],s[1],s[2],s[3],s[4],s[5]),t.beginPath(),a(t,[1,1,1,1,0,0,0,0],!0);var c=t.isPointInPath(o,r);return c||("isPointInStroke"in t&&(c=t.isPointInStroke(o,r)),c)};var Mt=function(){this._leftToLeft=0,this._leftToRight=1,this._pan=0,this._rightToLeft=0,this._rightToRight=1,this._volume=1};Object.defineProperties(Mt.prototype,{leftToLeft:{get:function(){return this.getLeftToLeft()},set:function(t){this.setLeftToLeft(t)}},leftToRight:{get:function(){return this.getLeftToRight()},set:function(t){this.setLeftToRight(t)}},pan:{get:function(){return this.getPan()},set:function(t){this.setPan(t)}},rightToLeft:{get:function(){return this.getRightToLeft()},set:function(t){this.setRightToLeft(t)}},rightToRight:{get:function(){return this.getRightToRight()},set:function(t){this.setRightToRight(t)}},volume:{get:function(){return this.getVolume()},set:function(t){this.setVolume(t)}}}),Mt.prototype.getLeftToLeft=function(){return this._leftToLeft},Mt.prototype.setLeftToLeft=function(t){this._leftToLeft=0|t},Mt.prototype.getLeftToRight=function(){return this._leftToRight},Mt.prototype.setLeftToRight=function(t){this._leftToRight=0|t},Mt.prototype.getPan=function(){return this._pan},Mt.prototype.setPan=function(t){this._pan=0|t},Mt.prototype.getRightToLeft=function(){return this._rightToLeft},Mt.prototype.setRightToLeft=function(t){this._rightToLeft=0|t},Mt.prototype.getRightToRight=function(){return this._rightToRight},Mt.prototype.setRightToRight=function(t){this._rightToRight=0|t},Mt.prototype.getVolume=function(){return this._volume},Mt.prototype.setVolume=function(t){this._volume=0|t},Mt.prototype.SoundTransform=function(t,e){this.volume=0|t,this.pan=0|e};var Ft=function(){this.target={},this.bubbles=!0,this.cancelable=!0,this.currentTarget={},this.eventPhase=0};Ft.prototype.ACTIVATE="activate",Ft.prototype.CLICK="press",Ft.prototype.CONTEXT_MENU="contextMenu",Ft.prototype.DOUBLE_CLICK="doubleClick",Ft.prototype.MIDDLE_CLICK="middleClick",Ft.prototype.MIDDLE_MOUSE_DOWN="middleMouseDown",Ft.prototype.MIDDLE_MOUSE_UP="middleMouseUp",Ft.prototype.MOUSE_DOWN="mouseDown",Ft.prototype.MOUSE_MOVE="mouseMove",Ft.prototype.MOUSE_OUT="rollOut",Ft.prototype.MOUSE_OVER="rollOver",Ft.prototype.MOUSE_UP="mouseUp",Ft.prototype.MOUSE_WHEEL="mouseWheel",Ft.prototype.RIGHT_CLICK="rightClick",Ft.prototype.RIGHT_MOUSE_DOWN="rightMouseDown",Ft.prototype.RIGHT_MOUSE_UP="rightMouseUp",Ft.prototype.ROLL_OUT="rollOut",Ft.prototype.ROLL_OVER="rollOver";var Bt=function(t){this.type=t,this.target=null,Ft.call(this)};(Bt.prototype=Object.create(Ft.prototype)).constructor=Bt;var Ut=new Bt,wt=function(){this.events={},this.isLoad=!1,this.active=!1};Object.defineProperties(wt.prototype,{onEnterFrame:{get:function(){return this.getOnEvent("onEnterFrame")},set:function(t){this.setOnEvent("onEnterFrame",t)}},onPress:{get:function(){return this.getOnEvent("onPress")},set:function(t){this.setOnEvent("onPress",t)}},onRelease:{get:function(){return this.getOnEvent("onRelease")},set:function(t){this.setOnEvent("onRelease",t)}},onReleaseOutside:{get:function(){return this.getOnEvent("onReleaseOutside")},set:function(t){this.setOnEvent("onReleaseOutside",t)}},onRollOver:{get:function(){return this.getOnEvent("onRollOver")},set:function(t){this.setOnEvent("onRollOver",t)}},onRollOut:{get:function(){return this.getOnEvent("onRollOut")},set:function(t){this.setOnEvent("onRollOut",t)}},onData:{get:function(){return this.getOnEvent("onData")},set:function(t){this.setOnEvent("onData",t)}},onMouseDown:{get:function(){return this.getOnEvent("onMouseDown")},set:function(t){this.setOnEvent("onMouseDown",t)}},onMouseUp:{get:function(){return this.getOnEvent("onMouseUp")},set:function(t){this.setOnEvent("onMouseUp",t)}},onMouseMove:{get:function(){return this.getOnEvent("onMouseMove")},set:function(t){this.setOnEvent("onMouseMove",t)}},onDragOut:{get:function(){return this.getOnEvent("onDragOut")},set:function(t){this.setOnEvent("onDragOut",t)}},onDragOver:{get:function(){return this.getOnEvent("onDragOver")},set:function(t){this.setOnEvent("onDragOver",t)}},onKeyDown:{get:function(){return this.getOnEvent("onKeyDown")},set:function(t){this.setOnEvent("onKeyDown",t)}},onKeyUp:{get:function(){return this.getOnEvent("onKeyUp")},set:function(t){this.setOnEvent("onKeyUp",t)}},onLoad:{get:function(){return this.getOnEvent("onLoad")},set:function(t){this.setOnEvent("onLoad",t)}},onUnLoad:{get:function(){return this.getOnEvent("onUnLoad")},set:function(t){this.setOnEvent("onUnLoad",t)}}}),wt.prototype.getOnEvent=function(t){return this.variables[t]},wt.prototype.setOnEvent=function(t,e){this.variables[t]=e},wt.prototype.addEventListener=function(t,e,i,o,r){var a=this.events;t in a||(a[t]=[]);var n=a[t];n[n.length]=e},wt.prototype.dispatchEvent=function(t,e){var i=t.type;if(this.hasEventListener(i)){var o=this.events[i],r=new Bt;r.type=i,r.target=this;var a=[r];this.setActionQueue(o,e,a)}},wt.prototype.hasEventListener=function(t){return t in this.events},wt.prototype.removeEventListener=function(t,e,i){if(this.hasEventListener(t))for(var o=this.events[t],r=o.length,a=0;a<r;a++)if(o[a]===e){o.slice(a,0);break}},wt.prototype.willTrigger=function(t){return this.hasEventListener(t)},wt.prototype.setActionQueue=function(t,e,i){var o=e.actions;o[o.length]={as:t,mc:this,args:i}};var _t=function(){wt.call(this),this.initialize()};_t.prototype=Object.create(wt.prototype),_t.prototype.constructor=_t,Object.defineProperties(_t.prototype,{accessibilityProperties:{value:new function(){}},alpha:{get:function(){return this.getAlpha()/100},set:function(t){this.setAlpha(100*t)}},_alpha:{get:function(){return this.getAlpha()},set:function(t){this.setAlpha(t)}},name:{get:function(){return this.getName()},set:function(t){this.setName(t)}},_name:{get:function(){return this.getName()},set:function(t){this.setName(t)}},blendMode:{get:function(){return this.getBlendMode()},set:function(t){this.setBlendMode(t)}},filters:{get:function(){return this.getFilters()},set:function(t){this.setFilters(t)}},_visible:{get:function(){return this.getVisible()},set:function(t){this.setVisible(t)}},visible:{get:function(){return this.getVisible()},set:function(t){this.setVisible(t)}},_rotation:{get:function(){return this.getRotation()},set:function(t){this.setRotation(t)}},rotation:{get:function(){return this.getRotation()},set:function(t){this.setRotation(t)}},_height:{get:function(){return this.getHeight()},set:function(t){this.setHeight(t)}},height:{get:function(){return this.getHeight()},set:function(t){this.setHeight(t)}},_width:{get:function(){return this.getWidth()},set:function(t){this.setWidth(t)}},width:{get:function(){return this.getWidth()},set:function(t){this.setWidth(t)}},_x:{get:function(){return this.getX()},set:function(t){this.setX(t)}},x:{get:function(){return this.getX()},set:function(t){this.setX(t)}},_y:{get:function(){return this.getY()},set:function(t){this.setY(t)}},y:{get:function(){return this.getY()},set:function(t){this.setY(t)}},_xscale:{get:function(){return this.getXScale()},set:function(t){this.setXScale(t)}},scaleX:{get:function(){return this.getXScale()},set:function(t){this.setXScale(t)}},_yscale:{get:function(){return this.getYScale()},set:function(t){this.setYScale(t)}},scaleY:{get:function(){return this.getYScale()},set:function(t){this.setYScale(t)}},_xmouse:{get:function(){return this.getXMouse()},set:function(){}},mouseX:{get:function(){return this.getXMouse()},set:function(){}},_ymouse:{get:function(){return this.getYMouse()},set:function(){}},mouseY:{get:function(){return this.getYMouse()},set:function(){}},mask:{get:function(){return this.getMask()},set:function(t){this.setMask(t)}},enabled:{get:function(){return this.getEnabled()},set:function(t){this.setEnabled(t)}},_parent:{get:function(){return this.getParent()},set:function(t){this.setParent(t)}},parent:{get:function(){return this.getParent()},set:function(t){this.setParent(t)}}}),_t.prototype.initialize=function(){this.instanceId=D++,this.characterId=0,this.tagType=0,this.ratio=0,this.isMask=!1,this.clipDepth=0,this.isClipDepth=!1,this.stageId=null,this.loadStageId=null,this.variables={},this.buttonStatus="up",this.removeFlag=!1,this.parentId=null,this.__visible=!0,this.__name=null,this._url=null,this._highquality=1,this._focusrect=1,this._soundbuftime=null,this._totalframes=1,this._level=0,this._depth=null,this._framesloaded=0,this._target="",this._lockroot=void 0,this._enabled=!0,this._blendMode=null,this._filters=null,this._filterCacheKey=null,this._parentPlace=null,this._mask=null,this._matrix=null,this._colorTransform=null,this._extend=!1,this.avm2=null},_t.prototype.flash={filters:{DropShadowFilter:mt,BlurFilter:bt,GlowFilter:St,BevelFilter:At,GradientGlowFilter:It,ConvolutionFilter:Ct,ColorMatrixFilter:xt,GradientBevelFilter:kt,BitmapFilter:yt}},_t.prototype.toString=function(){var t="_level0";return t+=this.getTarget().split("/").join(".")},_t.prototype.multiplicationMatrix=function(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]},_t.prototype.multiplicationColor=function(t,e){return[t[0]*e[0],t[1]*e[1],t[2]*e[2],t[3]*e[3],t[0]*e[4]+t[4],t[1]*e[5]+t[5],t[2]*e[6]+t[6],t[3]*e[7]+t[7]]},_t.prototype.boundsMatrix=function(t,e,i){var a=m.MAX_VALUE,n=-a,s=-a,c=a,l=a;i&&(c=i.xMin,n=i.xMax,l=i.yMin,s=i.yMax);var h=t.xMax*e[0]+t.yMax*e[2]+e[4],p=t.xMax*e[0]+t.yMin*e[2]+e[4],g=t.xMin*e[0]+t.yMax*e[2]+e[4],u=t.xMin*e[0]+t.yMin*e[2]+e[4],f=t.xMax*e[1]+t.yMax*e[3]+e[5],d=t.xMax*e[1]+t.yMin*e[3]+e[5],v=t.xMin*e[1]+t.yMax*e[3]+e[5],y=t.xMin*e[1]+t.yMin*e[3]+e[5];return n=r(r(r(r(n,h),p),g),u),c=o(o(o(o(c,h),p),g),u),s=r(r(r(r(s,f),d),v),y),{xMin:c,xMax:n,yMin:l=o(o(o(o(l,f),d),v),y),yMax:s}},_t.prototype.generateColorTransform=function(t,e){return{R:0|r(0,o(t.R*e[0]+e[4],255)),G:0|r(0,o(t.G*e[1]+e[5],255)),B:0|r(0,o(t.B*e[2]+e[6],255)),A:r(0,o(255*t.A*e[3]+e[7],255))/255}},_t.prototype.cloneArray=function(t){for(var e=[],i=t.length,o=0;o<i;o++)e[o]=t[o];return e},_t.prototype.getBlendName=function(t){var e=null;switch(t){case 1:case"normal":e="normal";break;case 2:case"layer":e="layer";break;case 3:case"multiply":e="multiply";break;case 4:case"screen":e="screen";break;case 5:case"lighten":e="lighten";break;case 6:case"darken":e="darken";break;case 7:case"difference":e="difference";break;case 8:case"add":e="add";break;case 9:case"subtract":e="subtract";break;case 10:case"invert":e="invert";break;case 11:case"alpha":e="alpha";break;case 12:case"erase":e="erase";break;case 13:case"overlay":e="overlay";break;case 14:case"hardlight":e="hardlight"}return e},_t.prototype.setStage=function(t){(this.stageId=t.getId(),this instanceof Nt)&&(this.getSprite("up").setStage(t),this.getSprite("down").setStage(t),this.getSprite("hit").setStage(t),this.getSprite("over").setStage(t));t.setInstance(this)},_t.prototype.getStage=function(){var t=this.getLoadStage();return t||(t=this.getParentStage()),t},_t.prototype.getParentStage=function(){var t=this.stageId;if(null!==t)return t in P?P[t]:O[t]},_t.prototype.getLoadStage=function(){var t=this.loadStageId;if(null!==t)return t in P?P[t]:O[t]},_t.prototype.setLoadStage=function(t){this.loadStageId=null,null!==t&&(t.setInstance(this),this.loadStageId=t.getId())},_t.prototype.getCharacterId=function(){return this.characterId},_t.prototype.setCharacterId=function(t){this.characterId=t},_t.prototype.getTagType=function(){return this.tagType},_t.prototype.setTagType=function(t){this.tagType=t},_t.prototype.getRatio=function(){return this.ratio},_t.prototype.setRatio=function(t){this.ratio=t},_t.prototype.getParent=function(){var t,e=this.getLoadStage(),i=this.parentId;return e&&(t=e.getInstance(i)),t||(t=(e=this.getParentStage()).getInstance(i)),t},_t.prototype.setParent=function(t){t instanceof Ot&&t.setInstance(this),this.parentId=t.instanceId},_t.prototype.getParentSprite=function(){return this.getStage().getInstance(this._sprite)},_t.prototype.setParentSprite=function(t){this._sprite=t.instanceId},_t.prototype.getButtonStatus=function(){return this.buttonStatus},_t.prototype.setButtonStatus=function(t){this.buttonStatus=t},_t.prototype.getMask=function(){return this._mask},_t.prototype.setMask=function(t){var e=this._mask;e&&(e.isMask=!1),t.isMask=!0,this._mask=t},_t.prototype.getEnabled=function(){return this._enabled},_t.prototype.setEnabled=function(t){this._enabled=t},_t.prototype.getButtonMode=function(){return this._buttonMode},_t.prototype.setButtonMode=function(t){this._buttonMode=t},_t.prototype.getTarget=function(){return this._target},_t.prototype.setTarget=function(t){this._target=t},_t.prototype.splitPath=function(t){var e,i=this,o=t,r="";if("string"==typeof t&&(-1!==t.indexOf("::")?(i=this,o=t):-1!==t.indexOf(":")?(r=(e=t.split(":"))[0],o=e[1]):-1!==t.indexOf(".")&&(o=(e=t.split(".")).pop(),r+=e.join(".")),""!==r)){var a=this.getDisplayObject(r);a&&(i=a)}return{scope:i,target:o}},_t.prototype.getProperty=function(t,e){var i=this,o=t;if(!1!==e){var r=i.splitPath(t);i=r.scope,o=r.target}if(!i.removeFlag){var a;switch("string"==typeof o?o.toLowerCase():o){case 0:case"_x":a=i.getX();break;case 1:case"_y":a=i.getY();break;case 2:case"_xscale":a=i.getXScale();break;case 3:case"_yscale":a=i.getYScale();break;case 4:case"_currentframe":i instanceof jt&&(a=i.getCurrentFrame());break;case 5:case"_totalframes":i instanceof jt&&(a=i.getTotalFrames());break;case 6:case"_alpha":a=i.getAlpha();break;case 7:case"_visible":a=i.getVisible();break;case 8:case"_width":a=i.getWidth();break;case 9:case"_height":a=i.getHeight();break;case 10:case"_rotation":a=i.getRotation();break;case 11:case"_target":a=i.getTarget();break;case 12:case"_framesloaded":a=i._framesloaded;break;case 13:case"_name":a=i.getName();break;case 14:case"_droptarget":i instanceof jt&&(a=i.getDropTarget());break;case 15:case"_url":a=i._url;break;case 16:case"_highquality":a=i._highquality;break;case 17:case"_focusrect":a=i._focusrect;break;case 18:case"_soundbuftime":a=i._soundbuftime;break;case 19:case"_quality":a=i._quality;break;case 20:case"_xmouse":a=i.getXMouse();break;case 21:case"_ymouse":a=i.getYMouse();break;case"text":case"htmltext":if(i instanceof Ht){var n=i.getVariable("variable");if(n)a=i.getParent().getProperty(n);else a=i.getVariable("text")}else a=i.getVariable(o);break;case"$version":a="swf2js 8,0,0";break;case"enabled":a=i.getEnabled();break;case"blendmode":a=i.getBlendMode();break;case"sharedobject":a=new zt;break;case"key":a=Qt;break;case"mouse":a=i.getDisplayObject("_root").getStage().mouse;break;default:void 0===(a=i.getVariable(o,e))&&o!==t&&(a=i.getGlobalVariable(t))}return a}},_t.prototype.setProperty=function(t,e,i){var o=this,r=t;if(!1!==i){var a=o.splitPath(t);o=a.scope,r=a.target}switch("string"==typeof r?r.toLowerCase():r){case 0:case"_x":o.setX(e);break;case 1:case"_y":o.setY(e);break;case 2:case"_xscale":o.setXScale(e);break;case 3:case"_yscale":o.setYScale(e);break;case 4:case"_currentframe":case 5:case"_totalframes":case 15:case"_url":case 20:case"_xmouse":case 21:case"_ymouse":case 11:case"_target":case 12:case"_framesloaded":case 14:case"_droptarget":break;case 6:case"_alpha":o.setAlpha(e);break;case 7:case"_visible":o.setVisible(e);break;case 8:case"_width":o.setWidth(e);break;case 9:case"_height":o.setHeight(e);break;case 10:case"_rotation":o.setRotation(e);break;case 13:case"_name":o.setName(e);break;case 16:case"_highquality":o._highquality=e;break;case 17:case"_focusrect":o._focusrect=e;break;case 18:case"_soundbuftime":o._soundbuftime=e;break;case 19:case"_quality":o._quality=e;break;case"text":case"htmltext":if(o instanceof Ht){var n=o.getVariable("variable");if(n)o.getParent().setProperty(n,e);else o.setVariable("text",e);var s=o.input;s&&(s.value=e)}else o.setVariable(r,e);break;case"blendmode":o.setBlendMode(e);break;case"enabled":o.setEnabled(e);break;case"filters":o.setFilters(e);break;default:o.setVariable(r,e)}},_t.prototype.getDepth=function(){var t=this._depth;return(null!==t?t:this.getLevel())-16384},_t.prototype.setDepth=function(t,e,i){var o=this.getParent(),r=this._depth,a=null!==r?r:this.getLevel(),n=o.getTotalFrames()+1;i?(this._depth=e,i._depth=t):this._depth=t;for(var s=o.container,c=this.instanceId,l=1;l<n;l++){l in s||(s[l]=[]);var h=s[l];i?(a in h&&h[a]===c&&(h[t]=i.instanceId),e in h&&h[e]===i.instanceId&&(h[e]=c)):a in h&&!(a in h&&h[a]===c)||(delete h[a],h[t]=c),s[l]=h}this.setController(!1,!1,!1,!1),i&&i.setController(!1,!1,!1,!1)},_t.prototype.getX=function(){var t=this.getMatrix();return t?t[4]/20:void 0},_t.prototype.setX=function(t){if(!A(t=+t)){var e=this.getMatrix(),i=this.cloneArray(e);i[4]=20*t,this.setMatrix(i)}},_t.prototype.getY=function(){var t=this.getMatrix();return t?t[5]/20:void 0},_t.prototype.setY=function(t){if(!A(t=+t)){var e=this.getMatrix(),i=this.cloneArray(e);i[5]=20*t,this.setMatrix(i)}},_t.prototype.getXScale=function(){var t=this.getMatrix(),e=100*h(t[0]*t[0]+t[1]*t[1]);return 0>t[0]&&(e*=-1),e},_t.prototype.setXScale=function(t){if(!A(t=+t)){var e=this.getMatrix(),i=this.cloneArray(e),o=1;0>i[0]&&(o=-1);var r=l(i[1],i[0]);t/=100,i[0]=t*p(r)*o,i[1]=t*g(r)*o,this.setMatrix(i)}},_t.prototype.getYScale=function(){var t=this.getMatrix(),e=100*h(t[2]*t[2]+t[3]*t[3]);return 0>t[3]&&(e*=-1),e},_t.prototype.setYScale=function(t){if(!A(t=+t)){var e=this.getMatrix(),i=this.cloneArray(e),o=1;0>i[3]&&(o=-1);var r=l(-i[2],i[3]);t/=100,i[2]=-t*g(r)*o,i[3]=t*p(r)*o,this.setMatrix(i)}},_t.prototype.getAlpha=function(){var t=this.getColorTransform();return 100*(t[3]+t[7]/255)},_t.prototype.setAlpha=function(t){if(!A(t=+t)){var e=this.getColorTransform(),i=this.cloneArray(e);i[3]=t/100,i[7]=0,this.setColorTransform(i)}},_t.prototype.getVisible=function(){return this.getStage().getVersion()>4?this.__visible:this.__visible?1:0},_t.prototype.setVisible=function(t){"boolean"==typeof t?this.__visible=t:A(t=+t)||(this.__visible=!!t)},_t.prototype.getLevel=function(){return this._level},_t.prototype.setLevel=function(t){this._level=t},_t.prototype.getName=function(){return this.__name},_t.prototype.setName=function(t){this.__name=t},_t.prototype.getRotation=function(){var t=this.getMatrix(),e=180*l(t[1],t[0])/b;switch(e){case-90.00000000000001:e=-90;break;case 90.00000000000001:e=90}return e},_t.prototype.setRotation=function(t){if(!A(t=+t)){var e=this.getMatrix(),i=this.cloneArray(e),o=l(i[1],i[0]),r=l(-i[2],i[3]),a=h(i[0]*i[0]+i[1]*i[1]),n=h(i[2]*i[2]+i[3]*i[3]);r+=(t*=b/180)-o,o=t,i[0]=a*p(o),i[1]=a*g(o),i[2]=-n*g(r),i[3]=n*p(r),this.setMatrix(i)}},_t.prototype.getWidth=function(){var t=this.getMatrix(),e=this.getBounds(t);return f(e.xMax-e.xMin)},_t.prototype.setWidth=function(t){if(!A(t=+t)){var e=this.getOriginMatrix(),i=this.getBounds(e),o=f(i.xMax-i.xMin),r=t*e[0]/o;A(r)&&(r=0),e=this.getMatrix();var a=this.cloneArray(e);a[0]=r,this.setMatrix(a)}},_t.prototype.getHeight=function(){var t=this.getMatrix(),e=this.getBounds(t);return f(e.yMax-e.yMin)},_t.prototype.setHeight=function(t){if(!A(t=+t)){var e=this.getOriginMatrix(),i=this.getBounds(e),o=f(i.yMax-i.yMin),r=t*e[3]/o;A(r)&&(r=0),e=this.getMatrix();var a=this.cloneArray(e);a[3]=r,this.setMatrix(a)}},_t.prototype.getXMouse=function(){if(!K)return null;var t=this.getDisplayObject("_root").getStage(),i=e.getElementById(t.getName()).getBoundingClientRect(),o=e.body.scrollLeft+i.left,r=0;G?r=K.changedTouches[0].pageX:r=K.pageX;for(var a=this,n=this.getMatrix();;){var s=a.getParent();if(!s)break;n=this.multiplicationMatrix(s.getMatrix(),n),a=s}return r-=o,r/=t.getScale(),r-=n[4]/20},_t.prototype.getYMouse=function(){if(!K)return null;var t=this.getDisplayObject("_root").getStage(),i=e.getElementById(t.getName()).getBoundingClientRect(),o=e.body.scrollTop+i.top,r=0;G?r=K.changedTouches[0].pageY:r=K.pageY;for(var a=this,n=this.getMatrix();;){var s=a.getParent();if(!s)break;n=this.multiplicationMatrix(s.getMatrix(),n),a=s}return r-=o,r/=t.getScale(),r-=n[5]/20},_t.prototype.getVariable=function(e,i){if(void 0===e)return e;var o=this.variables;if(o){if(e in o)return o[e];var r,a=this.getStage(),n=a.getVersion();if(n<7)for(var s in o)if(o.hasOwnProperty(s)&&s.toLowerCase()===e.toLowerCase())return o[s];if(n>4){var c=o.registerClass;if(c&&"object"==typeof c&&e in c)return c[e];if(this instanceof jt&&(r=this.getDisplayObject(e,i)))return r;var l=this.getCharacterId(),h=a.symbols[l];if(h){for(var p=h.split("."),g=p.pop(),u=p.length,f=a.avm2,d=0;d<u;d++)f=f[p[d]];if(r=f[g][e])return r}if(r=a.getGlobal().getVariable(e))return r;if(this instanceof jt&&"flash"===e)return this.flash;if(e in t)return t[e]}}},_t.prototype.setVariable=function(t,e){var i=this.variables;if("string"!=typeof t&&(t+=""),this.getStage().getVersion()<7)for(var o in i)if(i.hasOwnProperty(o)&&o.toLowerCase()===t.toLowerCase())return this.variables[o]=e,0;this.variables[t]=e},_t.prototype.getGlobalVariable=function(t){var e=this.getStage(),i=e.getVersion();if(!(i<5)){var o,r=null;if(-1!==t.indexOf(".")&&(r=t.split(".")),r)for(var a=e.getGlobal().variables,n=r.length,s=0;s<n;s++){var c=r[s];if(i<7){for(var l in a)if(a.hasOwnProperty(l)&&l.toLowerCase()===c.toLowerCase()){o=a[l];break}}else o=a[c];if(!o)break;a=o}return o}},_t.prototype.getDisplayObject=function(t,e){var i,o,r,a,n=this,s=n;if(this._lockroot)s=(r=this.getStage()).getParent();else for(;a=s.getParent();)s=a;if("string"!=typeof t&&(t+=""),"_root"===t)return s;if("this"===t)return this;if(r=s.getStage(),"_global"===t)return r.getGlobal();if(a=n.getParent(),"_parent"===t)return null!==a?a:void 0;var c=1,l=[t];if(!1!==e)if(-1!==t.indexOf("/"))c=(l=t.split("/")).length,""===l[0]&&(n=s);else if(-1!==t.indexOf("."))c=(l=t.split(".")).length,"_root"===l[0]&&(n=s);else if("_level"===t.substr(0,6)){var h=t.substr(6);if(0===(h=+h))return s;if(a||(a=r.getParent()),h in(i=a.getTags())){var p=i[h];if((o=r.getInstance(p))instanceof jt)return o}return}for(var g=r.getVersion(),u=0;u<c;u++){var f=l[u];if(""!==f)if("_root"!==f)if("this"!==f)if("_parent"!==f){if(".."!==f){if(void 0===(i=n.getTags()))return;var d=!1;if(i.length>0)for(var v in i)if(i.hasOwnProperty(v)){var y=i[v];if((o=n.getStage().getInstance(y))&&!o.removeFlag){var b=o.getName();if(b)if(g<7){if(b.toLowerCase()===f.toLowerCase()){n=o,d=!0;break}}else if(b===f){n=o,d=!0;break}}}if(!d)return}else if(!(n=n.getParent()))return}else{if(!(a=n.getParent()))return;n=a}else n=this;else n=s}return n},_t.prototype.preRender=function(t,e,i,o,r){this.isLoad=!0;var a,s,c,l,p,g,u,d,v="",y=t,b=e,m=!1,S=!1;if(this.getMask()&&this.renderMask(t,o),r&&!o.clipMc){var A=this.getFilters();null!==A&&A.length&&(m=!0);var I=this.getBlendMode();null!==I&&"normal"!==I&&(S=!0)}if(m||S){var C;s=this.multiplicationMatrix(o.getMatrix(),e);var x=1;this instanceof Xt||this instanceof Et?(C=this.getBounds(),c=h(s[0]*s[0]+s[1]*s[1]),l=h(s[2]*s[2]+s[3]*s[3])):(x=20,C=this.getBounds(e),c=o.getScale()*z,l=o.getScale()*z),p=C.xMin,g=C.yMin,u=C.xMax,d=C.yMax;var k=f(n((u-p)*c)),T=f(n((d-g)*l)),M=ht.getCanvas();M.width=k,M.height=T,(a=M.getContext("2d"))._offsetX=0,a._offsetY=0;var F=[1,0,0,1,-p*x,-g*x],B=[e[0],e[1],e[2],e[3],e[4],e[5]];this instanceof Xt&&(B[4]=0,B[5]=0),y=a,b=this.multiplicationMatrix(F,B)}return r&&(v+=this.renderGraphics(y,b,i,o)),{preCtx:y,preMatrix:b,isFilter:m,isBlend:S,rMatrix:s,cacheKey:v,xMin:p*c,yMin:g*l}},_t.prototype.postRender=function(t,e,i,o,r){var a=r.preCtx,n=r.isFilter,s=r.cacheKey;n&&""!==s&&(a=this.renderFilter(a,e,i,o,s));var c=r.xMin,l=r.yMin;this instanceof Xt&&(c+=r.rMatrix[4],l+=r.rMatrix[5]),a&&(c-=a._offsetX,l-=a._offsetY),this.renderBlend(t,a,c,l,n)},_t.prototype.renderGraphics=function(t,e,i,o){var r=this.graphics,a="";return r&&r.isDraw&&(a=r.render(t,e,i,o)),a},_t.prototype.renderMask=function(t,e){var i=this.getMask();if(i){t.save(),t.beginPath(),e.clipMc=!0;for(var o=i,r=[1,0,0,1,0,0],a=this.multiplicationMatrix;;){var n=o.getParent();if(!n.getParent())break;r=a(n.getMatrix(),r),o=n}i.render(t,r,[1,1,1,1,0,0,0,0],e,!0),t.clip(),e.clipMc=!1}},_t.prototype.getFilterKey=function(t){for(var e=[],i=t.length,o=0;o<i;o++){var r=t[o];for(var a in r)r.hasOwnProperty(a)&&(e[e.length]=r[a])}return e.join("_")},_t.prototype.renderFilter=function(t,e,i,o,r){var a=this.getFilters();if(o.clipMc||!a||!a.length)return t;r+="_"+this.getFilterKey(a);var n,s="Filter_"+this.instanceId;if(this._filterCacheKey===r&&(n=ht.getCache(s)),!n){for(var c=a.length,l=0;l<c;l++){n=a[l].render(t,e,i,o)}this._filterCacheKey=r,ht.setCache(s,n)}return ht.destroy(t),n},_t.prototype.renderBlend=function(t,e,i,o,r){var a=this.getBlendMode(),n="source-over",s=e.canvas,c=s.width,l=s.height;switch(e.setTransform(1,0,0,1,0,0),a){case"multiply":n="multiply";break;case"screen":n="screen";break;case"lighten":n="lighten";break;case"darken":n="darken";break;case"difference":n="difference";break;case"add":n="lighter";break;case"subtract":e.globalCompositeOperation="difference",e.fillStyle="rgb(255,255,255)",e.fillRect(0,0,c,l),e.globalCompositeOperation="darken",e.fillStyle="rgb(255,255,255)",e.fillRect(0,0,c,l),n="color-burn";break;case"invert":e.globalCompositeOperation="difference",e.fillStyle="rgb(255,255,255)",e.fillRect(0,0,c,l),e.globalCompositeOperation="lighter",e.fillStyle="rgb(255,255,255)",e.fillRect(0,0,c,l),n="difference";break;case"alpha":n="source-over";break;case"erase":n="destination-out";break;case"overlay":n="overlay";break;case"hardlight":n="hard-light"}t.globalAlpha=1,t.globalCompositeOperation=n,t.setTransform(1,0,0,1,0,0),t.drawImage(s,i,o,s.width,s.height),t.globalCompositeOperation="source-over",r||ht.destroy(e)},_t.prototype.getOriginMatrix=function(){return this.getController().getMatrix()},_t.prototype.getMatrix=function(){return this._matrix||this.getOriginMatrix()},_t.prototype.setMatrix=function(t){this._matrix=t,this.setController(!0,!1,!1,!1)},_t.prototype.getOriginColorTransform=function(){return this.getController().getColorTransform()},_t.prototype.getColorTransform=function(){return this._colorTransform||this.getOriginColorTransform()},_t.prototype.setColorTransform=function(t){this._colorTransform=t,this.setController(!1,!0,!1,!1)},_t.prototype.getOriginBlendMode=function(){return this.getController().getBlendMode()},_t.prototype.getBlendMode=function(){return this._blendMode||this.getOriginBlendMode()},_t.prototype.setBlendMode=function(t){var e=this.getBlendName(t);null!==e&&(this._blendMode=e,this.setController(!1,!1,!1,!0))},_t.prototype.getOriginFilters=function(){return this.getController().getFilters()},_t.prototype.getFilters=function(){return this._filters||this.getOriginFilters()},_t.prototype.setFilters=function(t){this._filterCacheKey=null,this._filters=t,this.setController(!1,!1,!0,!1)},_t.prototype.setController=function(t,e,i,o){if(!t){var r=this._matrix;null===r&&(r=this.getMatrix(),this._matrix=this.cloneArray(r))}if(!e){var a=this._colorTransform;null===a&&(a=this.getColorTransform(),this._colorTransform=this.cloneArray(a))}if(!i){var n=this._filters;null===n&&(null===(n=this.getFilters())&&(n=[]),this._filters=n)}if(!o){var s=this._blendMode;null===s&&(s=this.getBlendMode(),this._blendMode=s)}},_t.prototype.getController=function(){var t=0,e=this.getLevel(),i=this.getParentStage();if(!i)return new gt;var o=this.getParentSprite();if(o||(o=this.getParent()),!o)return new gt;o instanceof jt&&(t=o.getCurrentFrame());var r=i.getPlaceObject(o.instanceId,e,t);return r||(i=this.getLoadStage())&&(r=i.getPlaceObject(o.instanceId,e,t)),r||new gt},_t.prototype.reset=function(){if(this.active=!1,this.isMask=!1,this._matrix=null,this._colorTransform=null,this._filters=null,this._blendMode=null,this._depth=null,this.setVisible(!0),this.setEnabled(!0),this.setButtonStatus("up"),this instanceof Ht){var t=this.input;if(this.inputActive){this.inputActive=!1,t.onchange=null;var i=this.getStage(),o=e.getElementById(i.getName());if(o){var r=e.getElementById(this.getTagName());if(r)try{o.removeChild(r)}catch(t){}}}this.variables.text=this.initialText}},_t.prototype.trace=function(){for(var e=["[trace]"],i=arguments.length,o=0;o<i;o++)e[e.length]=arguments[o];F.log.apply(t,e)};var Yt=function(){this._mouseEnabled=!0,_t.call(this)};(Yt.prototype=Object.create(_t.prototype)).constructor=Yt,Object.defineProperties(_t.prototype,{mouseEnabled:{get:function(){return this.getMouseEnabled()},set:function(t){this.setMouseEnabled(t)}}}),Yt.prototype.getMouseEnabled=function(){return this._mouseEnabled},Yt.prototype.setMouseEnabled=function(t){this._mouseEnabled=t};var Pt=function(){this.charCount=0};Pt.prototype.findText=function(t,e,i){},Pt.prototype.getSelected=function(t,e){},Pt.prototype.getSelectedText=function(t){},Pt.prototype.getText=function(t,e,i){},Pt.prototype.getTextRunInfo=function(t,e){},Pt.prototype.hitTestTextNearPos=function(t,e,i){},Pt.prototype.setSelectColor=function(t){},Pt.prototype.setSelected=function(t,e,i){};var Ot=function(){if(Yt.call(this),this._mouseChildren=!0,this._tabChildren=!0,this._textSnapshot=new Pt,this._numChildren=0,this.soundId=null,this.soundInfo=null,this.container=[],this instanceof jt)for(var t=this.getTotalFrames()+1,e=1;e<t;)this.container[e++]=[];this.instances=[],this.isSwap=!1};Ot.prototype=Object.create(Yt.prototype),Ot.prototype.constructor=Ot,Object.defineProperties(Ot.prototype,{mouseChildren:{get:function(){return this.getMouseChildren()},set:function(t){this.setMouseChildren(t)}},textSnapshot:{get:function(){return this.getTextSnapshot()},set:function(){}},numChildren:{get:function(){return this.getNumChildren()},set:function(){}},tabChildren:{get:function(){return this.getTabChildren()},set:function(t){this.setTabChildren(t)}}}),Ot.prototype.getMouseChildren=function(){return this._mouseChildren},Ot.prototype.setMouseChildren=function(t){this._mouseChildren=t},Ot.prototype.getTextSnapshot=function(){return this._textSnapshot},Ot.prototype.getNumChildren=function(){return this._numChildren},Ot.prototype.getTabChildren=function(){return this._tabChildren},Ot.prototype.setTabChildren=function(t){this._tabChildren=t},Ot.prototype.getContainer=function(){return this.container},Ot.prototype.getInstances=function(){return this.instances},Ot.prototype.setInstance=function(t){var e=this.instances,i=t.instanceId;i in e||(e[i]=1)},Ot.prototype.deleteInstance=function(t){delete this.instances[t.instanceId]},Ot.prototype.addChild=function(t,e){if(t instanceof _t){void 0===e&&(e=this._numChildren);var i=this.getStage();t.setParent(this),t.setStage(i),t.setLevel(e);var o=this.getContainer(),r=1,a=new gt,n=this.instanceId;if(this instanceof jt)for(var s=this.getTotalFrames()+1;r<s;r++)r in o||(o[r]=[]),i.setPlaceObject(a,n,e,r),o[r][e]=t.instanceId;else i.setPlaceObject(a,n,e,r),o[e]=t.instanceId;this._numChildren++}return t},Ot.prototype.addChildAt=function(t,e){return this.addChild(t,e)},Ot.prototype.getChildAt=function(t){var e=this.getContainer(),i=e;(16384>t&&(t+=16384),this instanceof jt)&&(i=e[this.getCurrentFrame()]);return i[t]},Ot.prototype.getChildByName=function(t){var e,i=this.getContainer(),o=i;this instanceof jt&&(o=i[this.getCurrentFrame()]);for(var r in o)if(o.hasOwnProperty(r)){var a=o[r];if(a.getName()===t){e=a;break}}return e},Ot.prototype.getChildIndex=function(t){var e;return t instanceof _t&&(e=t.getLevel()-16384),e},Ot.prototype.removeChild=function(t){var e,i=this.getContainer();if(this instanceof jt){for(var o=this.getTotalFrames()+1,r=1;r<o;r++)if(r in i){var a=i[r];for(e in a){if(a.hasOwnProperty(e))if(a[e]===t.instanceId){delete i[r][e];break}}}}else for(e in i)if(i.hasOwnProperty(e)&&i[e].instanceId===t.instanceId){delete i[e];break}return t&&(this.deleteInstance(t),this._numChildren--),t},Ot.prototype.removeChildAt=function(t){var e,i=this.getContainer(),o=i;if(16384>t&&(t+=16384),this instanceof jt)for(var r=this.getTotalFrames(),a=1;a<r;a++)a in i&&t in(o=i[a])&&(e=o[t],delete i[a][t]);else e=o[t],delete o[t];return e&&this._numChildren--,e},Ot.prototype.addTag=function(t,e){this.container[t]=e.instanceId,this._numChildren++},Ot.prototype.startSound=function(){var t=this.soundId;if(t){var i=this.getStage().sounds[t];if(i){var o=e.createElement("audio");o.onload=function(){this.load(),this.preload="auto",this.autoplay=!1,this.loop=!1},o.src=i.base64,nt(o,this.soundInfo)}}},Ot.prototype.reset=function(){var t=this.container;if(t.length){var e=this.getStage();for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];e.getInstance(o).reset()}}this.isMask=!1,this._depth=null,this._matrix=null,this._colorTransform=null,this._filters=null,this._blendMode=null,this.mouseEnabled=!0},Ot.prototype.setHitRange=function(t,e,i,r){var a=o(this.getVisible(),i);if(this.getEnabled()&&a){var n=e.buttonHits,s=this.variables,c=this.events;if(void 0!==c.press||void 0!==c.release||void 0!==c.releaseOutside||void 0!==c.rollOver||void 0!==c.rollOut||void 0!==c.dragOver||void 0!==c.dragOut||void 0!==s.onPress||void 0!==s.onRelease||void 0!==s.onRollOver||void 0!==s.onReleaseOutside||void 0!==s.onRollOut||void 0!==s.onDragOver||void 0!==s.onDragOut){var l=this.multiplicationMatrix(t,this.getMatrix()),h=this.getBounds(l);n[n.length]={xMax:h.xMax,xMin:h.xMin,yMax:h.yMax,yMin:h.yMin,parent:this,matrix:this.cloneArray(t)}}}},Ot.prototype.createMovieClip=function(t,e){var i=new jt;return i=this.addChild(i,e),t&&i.setName(t),i},Ot.prototype.createSprite=function(t,e){var i=new Dt;return i=this.addChild(i,e),t&&i.setName(t),i},Ot.prototype.createButton=function(t,e){var i=new Nt;return i=this.addChild(i,e),t&&i.setName(t),i},Ot.prototype.createText=function(t,e,i,o){var r=new Ht(t,o,e,i);return(r=this.addChild(r,o)).setInitParams(),t&&r.setName(t),r.size=12,r},Ot.prototype.createShape=function(t){var e=new Xt;return this.addChild(e,t),e};var Dt=function(){Ot.call(this),this.touchPointID=0,this._buttonMode=!1,this._useHandCursor=!1,this._dropTarget=null,this._hitArea=null,this._graphics=new Tt,this._soundTransform=new Mt};Dt.prototype=Object.create(Ot.prototype),Dt.prototype.constructor=Dt,Object.defineProperties(Dt.prototype,{graphics:{get:function(){return this.getGraphics()},set:function(){}},hitArea:{get:function(){return this.getHitArea()},set:function(t){this.setHitArea(t)}},buttonMode:{get:function(){return this.getButtonMode()},set:function(t){this.setButtonMode(t)}},soundTransform:{get:function(){return this._soundTransform},set:function(){}},useHandCursor:{get:function(){return this.getUseHandCursor()},set:function(t){this.setUseHandCursor(t)}},dropTarget:{get:function(){return this.getDropTarget()},set:function(){this.setDropTarget()}}}),Dt.prototype.getGraphics=function(){return this._graphics},Dt.prototype.getHitArea=function(){return this._hitArea},Dt.prototype.setHitArea=function(t){this._hitArea=t},Dt.prototype.getUseHandCursor=function(){return this._useHandCursor},Dt.prototype.setUseHandCursor=function(t){this._useHandCursor=t},Dt.prototype.startTouchDrag=function(t,e,i){this.startDrag(e)},Dt.prototype.stopTouchDrag=function(t){this.stopDrag()},Dt.prototype.startDrag=function(){var t=arguments,e=t[0],i=t[1],o=t[2],r=t[3],a=t[4],n=this.getDisplayObject("_root").getStage(),s=0,c=0;e||(s=this.getXMouse(),c=this.getYMouse()),n.dragMc=this,n.dragRules={startX:s,startY:c,left:i,top:o,right:r,bottom:a},this.setDropTarget()},Dt.prototype.stopDrag=function(){var t=this.getDisplayObject("_root").getStage();t.dragMc=null,t.dragRules=null,this.setDropTarget()},Dt.prototype.executeDrag=function(){var t=this.getDisplayObject("_root").getStage().dragRules,e=t.startX,i=t.startY,o=t.left,r=t.top,a=t.right,n=t.bottom,s=this.getX(),c=this.getY(),l=this.getXMouse(),h=this.getYMouse(),p=s+(l-=e),g=c+(h-=i);null==o?(this.setX(p),this.setY(g)):(o=+o,r=+r,n=+n,(a=+a)<p?this.setX(a):p<o?this.setX(o):this.setX(p),n<g?this.setY(n):g<r?this.setY(r):this.setY(g))},Dt.prototype.getDropTarget=function(){return this._droptarget},Dt.prototype.setDropTarget=function(){this._droptarget=null;var t=this.getDisplayObject("_root"),e=t.getStage(),i=this.getParent();i||(i=e.getParent());var o=t.getXMouse(),r=t.getYMouse(),a=i.getTags();for(var n in a)if(a.hasOwnProperty(n)){var s=a[n];if(s!==this.instanceId){var c=e.getInstance(s);if(c instanceof jt)if(c.hitTest(o,r)){this._droptarget=c;break}}}},Dt.prototype.getTags=function(){return this.getContainer()},Dt.prototype.render=function(t,e,i,r,a){if(this.removeFlag)return"";if(this.isLoad=!0,r.doneTags.unshift(this),this instanceof jt&&!this.soundStopFlag){var n=this.getSounds();if(void 0!==n)for(var s=n.length,c=0;c<s;c++)if(c in n){var l=n[c];this.startSound(l)}}var h=(0,this.multiplicationMatrix)(e,this.getMatrix()),p=(0,this.multiplicationColor)(i,this.getColorTransform()),g=o(this.getVisible(),a),u=this.preRender(t,h,p,r,a),f=u.cacheKey,d=u.preCtx,v=u.preMatrix,y=[],b=this.getTags(),m=b.length,S=this.getMask();if(m){var A=this.getStage();for(var I in b)if(b.hasOwnProperty(I)){var C=b[I],x=A.getInstance(C);if(x){for(var k=y.length,T=0;T<k;T++){if(I>y[T]){y.splice(T,1),t.restore();break}}if(x.isClipDepth&&(t.save(),t.beginPath(),y[y.length]=x.clipDepth,x instanceof jt&&(r.isClipDepth=!0)),g)switch(!0){case x instanceof Ht:case x instanceof Ot:x.setHitRange(h,r,a,k);break;case x instanceof Nt:x.clipDepth||x.setHitRange(h,r,a,k)}x.isMask||(x.isClipDepth&&(0===v[0]&&(v[0]=1e-14),0===v[3]&&(v[3]=1e-14)),f+=x.render(d,v,p,r,g),r.isClipDepth&&(d.clip(),r.isClipDepth=!1))}}}return(y.length||S)&&t.restore(),(u.isFilter||u.isBlend)&&(u.cacheKey=f,this.postRender(t,h,p,r,u)),f},Dt.prototype.initFrame=function(){},Dt.prototype.putFrame=function(t,e){this.active=!0,this.dispatchEvent(e,t)},Dt.prototype.addActions=function(t){var e=this.getStage(),i=this.getTags();if(i.length)for(var o in i)if(i.hasOwnProperty(o)){var r=i[o],a=e.getInstance(r);a&&a.addActions(t)}},Dt.prototype.renderHitTest=function(t,e,i,o,r){var a=this.getStage(),n=this.getTags(),s=n.length,c=!1,l=this.multiplicationMatrix(e,this.getMatrix());if(s)for(var h in n)if(n.hasOwnProperty(h)){var p=n[h];if(c=a.getInstance(p).renderHitTest(t,l,i,o,r))return c}var g=this.graphics;return g.isDraw?g.renderHitTest(t,l,i,o,r):c},Dt.prototype.getRect=function(t){t||(t=this);var e=t.getBounds(t.getOriginMatrix()),i=this.graphics.maxWidth/20/2;return{xMin:e.xMin+i,xMax:e.xMax-i,yMin:e.yMin+i,yMax:e.yMax-i}},Dt.prototype.getBounds=function(t){if(t instanceof jt)return t.getBounds(t.getOriginMatrix());var e=this.getTags(),i=0,a=0,n=0,s=0,c=this.graphics,l=c.isDraw;if(l){var h=c.maxWidth/2,p=this.boundsMatrix(c.bounds,t),g=t?20:1;n=(p.xMin-h)/g,i=(p.xMax+h)/g,s=(p.yMin-h)/g,a=(p.yMax+h)/g}var u=e.length,f=this.getStage();if(u){if(!l){var d=m.MAX_VALUE;i=-d,a=-d,n=d,s=d}var v=this.multiplicationMatrix;for(var y in e)if(e.hasOwnProperty(y)){var b=e[y],S=f.getInstance(b);if(S&&!S.isClipDepth){var A=t?v(t,S.getMatrix()):S.getMatrix(),I=S.getBounds(A);I&&(n=o(n,I.xMin),i=r(i,I.xMax),s=o(s,I.yMin),a=r(a,I.yMax))}}}return{xMin:n,xMax:i,yMin:s,yMax:a}},Dt.prototype.hitCheck=function(t,e,i,o,r){var a;if(!this.getEnabled()||!this.getVisible()||!this.getMouseEnabled())return!1;var n=!1,s=this.getTags(),c=s.length,l=this.multiplicationMatrix(e,this.getMatrix());if(c){var h=this.getStage();for(var p in s.reverse(),s)if(s.hasOwnProperty(p)){var g=s[p],u=h.getInstance(g);if(n=u instanceof Xt||u instanceof Et||u instanceof Ht?u.renderHitTest(t,l,i,o,r):u.hitCheck(t,l,i,o,r)){if(a=n,"object"!=typeof n){var f=this.events;void 0===f.press&&void 0===f.release&&void 0===f.releaseOutside&&void 0===f.rollOver&&void 0===f.rollOut&&void 0===f.dragOver&&void 0===f.dragOut||(i.isHit=n,a={parent:this})}return s.reverse(),a}}s.reverse()}var d=this.graphics;return d.isDraw&&(n=d.renderHitTest(t,l,i,o,r))&&(a={parent:this}),a};var Xt=function(){_t.call(this),this.data=null,this._graphics=new Tt;var t=m.MAX_VALUE;this.setBounds({xMin:t,xMax:-t,yMin:t,yMax:-t})};Xt.prototype=Object.create(_t.prototype),Xt.prototype.constructor=Xt,Object.defineProperties(Xt.prototype,{graphics:{get:function(){return this.getGraphics()},set:function(){}}}),Xt.prototype.addActions=function(){},Xt.prototype.initFrame=function(){},Xt.prototype.putFrame=function(t,e){this.active=!0,this.dispatchEvent(e,t)},Xt.prototype.getGraphics=function(){return this._graphics},Xt.prototype.getData=function(){return this.data},Xt.prototype.setData=function(t){this.data=t},Xt.prototype.getBounds=function(t){var e,i,a=this.graphics,n=a.isDraw;if(t){for(var s in e=this.boundsMatrix(this.bounds,t),n&&(i=this.boundsMatrix(a.getBounds(),t),e.xMin=o(i.xMin,e.xMin),e.xMax=r(i.xMax,e.xMax),e.yMin=o(i.yMin,e.yMin),e.yMax=r(i.yMax,e.yMax)),e)e.hasOwnProperty(s)&&(e[s]/=20);return e}return e=this.bounds,n&&(i=a.getBounds(),e.xMin=o(i.xMin,e.xMin),e.xMax=r(i.xMax,e.xMax),e.yMin=o(i.yMin,e.yMin),e.yMax=r(i.yMax,e.yMax)),this.bounds},Xt.prototype.setBounds=function(t){this.bounds=t},Xt.prototype.isMorphing=function(){var t=this.getTagType();return 46===t||84===t},Xt.prototype.render=function(t,e,i,r,a){r.doneTags.unshift(this);var c=(0,this.multiplicationColor)(i,this.getColorTransform()),l=o(this.getVisible(),a),p=c[3]+c[7]/255,g=r.clipMc||r.isClipDepth;if(!(g||p&&l))return"";var b=this.multiplicationMatrix,m=b(e,this.getMatrix()),S=this.preRender(t,m,c,r,l),A=S.cacheKey,I=null,C=b(r.getMatrix(),S.preMatrix),x=this.isClipDepth||g;if(x)0===C[0]&&(C[0]=1e-14),0===C[3]&&(C[3]=1e-14),t.setTransform(C[0],C[1],C[2],C[3],C[4],C[5]),this.executeRender(t,o(C[0],C[3]),c,x,r);else{var k=h(C[0]*C[0]+C[1]*C[1]),T=h(C[2]*C[2]+C[3]*C[3]);k=s(d,n(u(k)/v-y)),T=s(d,n(u(T)/v-y));var M,F=this.getBounds(),B=F.xMax,U=F.xMin,w=F.yMax,_=F.yMin,Y=f(n((B-U)*k)),P=f(n((w-_)*T));if(Y<=0||P<=0)return A;var O=this.getStage(),D=this.getCharacterId()+"_"+O.getId();if(this.isMorphing()&&(D+="_"+this.getRatio()),A=ht.generateKey("Shape",D,[k,T],c),!(I=ht.getCache(A))&&r.getWidth()>Y&&r.getHeight()>P&&ht.size>Y*P){(M=ht.getCanvas()).width=Y,M.height=P;var X=[k,0,0,T,-U*k,-_*T];(I=M.getContext("2d")).setTransform(X[0],X[1],X[2],X[3],X[4],X[5]),I=this.executeRender(I,o(k,T),c,x,r),ht.setCache(A,I)}var L=S.preCtx;if(I){M=I.canvas;var E=b(C,[1/k,0,0,1/T,U,_]);L.setTransform(E[0],E[1],E[2],E[3],E[4],E[5]),H&&!j?(L.fillStyle=r.context.createPattern(I.canvas,"no-repeat"),L.fillRect(0,0,Y,P)):L.drawImage(M,0,0,Y,P)}else L.setTransform(C[0],C[1],C[2],C[3],C[4],C[5]),this.executeRender(L,o(C[0],C[3]),c,x,r)}return A+="_"+C[4]+"_"+C[5],(S.isFilter||S.isBlend)&&(S.cacheKey=A,this.postRender(t,e,c,r,S)),A},Xt.prototype.renderHitTest=function(t,e,i,a,n){var s=this.multiplicationMatrix,c=s(e,this.getMatrix()),l=this.graphics;if(l.isDraw)return l.renderHitTest(t,c,i,a,n);if(!this.getData())return!1;var h=s(i.getMatrix(),c);t.setTransform(h[0],h[1],h[2],h[3],h[4],h[5]);for(var p=o(h[0],h[3]),g=this.getData(),u=g.length,f=!1,d=0;d<u;d++){var v=g[d],y=v.obj,b=void 0!==y.Width;if(t.beginPath(),(0,v.cmd)(t),b&&(t.lineWidth=r(y.Width,1/p),t.lineCap="round",t.lineJoin="round"),f=t.isPointInPath(a,n))return f;if("isPointInStroke"in t&&(f=t.isPointInStroke(a,n)))return f}return f},Xt.prototype.executeRender=function(t,e,i,a,n){var s=this.getData();if(!s)return t;for(var c,l,h,p=n.clipMc||n.isClipDepth,g=s.length,u=0;u<g;u++){var f=s[u],d=f.obj,v=d.HasFillFlag?d.FillType:d,y=f.cmd,b=void 0!==d.Width;if(a){if(b)continue;y(t)}else{t.beginPath(),y(t);var m=v.fillStyleType;switch(m){case 0:c=v.Color,l="rgba("+(c=this.generateColorTransform(c,i)).R+","+c.G+","+c.B+","+c.A+")",b?(t.strokeStyle=l,t.lineWidth=r(d.Width,1/e),t.lineCap="round",t.lineJoin="round",t.stroke()):(t.fillStyle=l,t.fill());break;case 16:case 18:case 19:var S=v.gradientMatrix,A=v.fillStyleType;if(16!==A)t.save(),t.transform(S[0],S[1],S[2],S[3],S[4],S[5]),l=t.createRadialGradient(0,0,0,0,0,16384);else{var I=this.linearGradientXY(S);l=t.createLinearGradient(I[0],I[1],I[2],I[3])}for(var C=v.gradient.GradientRecords,x=C.length,k=0;k<x;k++){var T=C[k];c=T.Color;var M="rgba("+(c=this.generateColorTransform(c,i)).R+","+c.G+","+c.B+","+c.A+")";l.addColorStop(T.Ratio,M)}b?(t.strokeStyle=l,t.lineWidth=r(d.Width,1/e),t.lineCap="round",t.lineJoin="round",t.stroke()):(t.fillStyle=l,t.fill()),16!==A&&t.restore();break;case 64:case 65:case 66:case 67:var F,B,w=this.getStage(),_=v.bitmapId,Y=v.bitmapMatrix,P=64===m||66===m?"repeat":"no-repeat",O=ht.generateKey("Bitmap",_+"_"+w.getId()+"_"+P,void 0,i),D=ht.getCache(O);if(void 0===D){if(!(D=w.getCharacter(_)))break;if(1!==i[0]||1!==i[1]||1!==i[2]||i[4]||i[5]||i[6]){var X=D.canvas;if(F=X.width,B=X.height,F>0&&B>0){(h=ht.getCanvas()).width=F,h.height=B;var L=h.getContext("2d");L.drawImage(D.canvas,0,0,F,B),D=this.generateImageTransform.call(this,L,i),ht.setCache(O,D)}}else t.globalAlpha=r(0,o(255*i[3]+i[7],255))/255}D&&(t.save(),F=(h=D.canvas).width,B=h.height,F>0&&B>0&&(65===m||67===m?(t.clip(),t.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]),t.drawImage(h,0,0,F,B)):(t.fillStyle=n.context.createPattern(h,P),t.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]),t.fill())),t.restore())}}}if(a&&!p&&(t.clip(),R&&j)){h||(h=t.canvas);var E=h.width,H=h.height,N=U.canvas;h=t.canvas,N.width=E,N.height=H,U.drawImage(h,0,0),t.save(),t.setTransform(1,0,0,1,0,0),t.beginPath(),t.clearRect(0,0,E+1,H+1),t.drawImage(N,0,0),t.restore(),U.setTransform(1,0,0,1,0,0),U.clearRect(0,0,E+1,H+1)}return t.strokeStyle="rgba(0,0,0,1)",t.fillStyle="rgba(0,0,0,1)",t.globalAlpha=1,t},Xt.prototype.generateImageTransform=function(t,e){var i=t.canvas,a=i.width,n=i.height,s=t.getImageData(0,0,a,n),c=s.data,l=0,h=e[0],p=e[1],g=e[2],u=e[3],f=e[4],d=e[5],v=e[6],y=e[7],b=a*n;if(b>0)for(;b--;){var m=c[l++],S=c[l++],A=c[l++],I=c[l++];c[l-4]=0|r(0,o(m*h+f,255)),c[l-3]=0|r(0,o(S*p+d,255)),c[l-2]=0|r(0,o(A*g+v,255)),c[l-1]=r(0,o(I*u+y,255))}return t.putImageData(s,0,0),t},Xt.prototype.linearGradientXY=function(t){var e=-16384*t[0]-16384*t[2]+t[4],i=16384*t[0]-16384*t[2]+t[4],o=-16384*t[0]+16384*t[2]+t[4],r=-16384*t[1]-16384*t[3]+t[5],a=16384*t[1]-16384*t[3]+t[5],n=o-e,s=-16384*t[1]+16384*t[3]+t[5]-r,c=h(n*n+s*s),l=(i-e)*(n/=c)+(a-r)*(s/=c);return[e+l*n,r+l*s,i,a]};var Lt=function(){this.color=null,this.matrix=null};Lt.prototype.getColor=function(){return this.color},Lt.prototype.setColor=function(t){this.color=t},Lt.prototype.getMatrix=function(){return this.matrix},Lt.prototype.setMatrix=function(t){this.matrix=t},Lt.prototype.getData=function(){return this.data},Lt.prototype.setData=function(t){this.data=t};var Et=function(){_t.call(this),this.data=null,this.records=[]};Et.prototype=Object.create(_t.prototype),Et.prototype.constructor=Et,Et.prototype.initFrame=function(){},Et.prototype.addActions=function(){},Et.prototype.getBounds=function(t){if(t){var e=this.boundsMatrix(this.bounds,t);for(var i in e)e.hasOwnProperty(i)&&(e[i]/=20);return e}return this.bounds},Et.prototype.setBounds=function(t){this.bounds=t},Et.prototype.getRecords=function(){return this.records},Et.prototype.addRecord=function(t){var e=this.getRecords();e[e.length]=t},Et.prototype.render=function(t,e,i,r,a){var c=(0,this.multiplicationColor)(i,this.getColorTransform()),l=o(this.getVisible(),a),p=c[3]+c[7]/255,g=r.clipMc||r.isClipDepth;if(!(g||p&&l))return 0;var b=this.multiplicationMatrix,m=b(e,this.getMatrix()),S=this.preRender(t,m,c,r,a),A=b(r.getMatrix(),S.preMatrix),I=h(A[0]*A[0]+A[1]*A[1]),C=h(A[2]*A[2]+A[3]*A[3]);I=s(d,n(u(I)/v-y)),C=s(d,n(u(C)/v-y));var x=this.getBounds(),k=x.xMax,T=x.xMin,M=x.yMax,F=x.yMin,B=f(n((k-T)*I)),U=f(n((M-F)*C)),w=this.isClipDepth||g;if(B>0&&U>0){var _,Y=this.getCharacterId()+"_"+this.getStage().getId(),P=ht.generateKey("Text",Y,[I,C],c),O=ht.getCache(P);if(!O&&!w&&r.getWidth()>B&&r.getHeight()>U&&ht.size>B*U){(_=ht.getCanvas()).width=B,_.height=U;var D=[I,0,0,C,-T*I,-F*C];(O=_.getContext("2d")).setTransform(D[0],D[1],D[2],D[3],D[4],D[5]),O=this.executeRender(O,D,c,!1,!1),ht.setCache(P,O)}if(O){_=O.canvas;var X=b(A,[1/I,0,0,1/C,T,F]);t.setTransform(X[0],X[1],X[2],X[3],X[4],X[5]),H&&!j?(t.fillStyle=r.context.createPattern(O.canvas,"no-repeat"),t.fillRect(0,0,B,U)):t.drawImage(_,0,0,B,U)}else t.setTransform(A[0],A[1],A[2],A[3],A[4],A[5]),this.executeRender(t,A,c,w,g);return P+="_"+A[4]+"_"+A[5],(S.isFilter||S.isBlend)&&(S.cacheKey=P,this.postRender(t,e,c,r,S)),P}return null},Et.prototype.executeRender=function(t,e,i,o,r){var a=this.getRecords(),n=a.length;if(!n)return t;for(var s=this.multiplicationMatrix,c=this.generateColorTransform,l=0;l<n;l++){var h=a[l],p=h.getData(),g=p.length;if(g){var u=s(e,h.getMatrix());t.setTransform(u[0],u[1],u[2],u[3],u[4],u[5]);var f=h.getColor();f=c(f,i),t.fillStyle="rgba("+f.R+","+f.G+","+f.B+","+f.A+")";for(var d=0;d<g;d++){var v=p[d].cmd;o?v(t):(t.beginPath(),v(t),t.fill())}}}return o&&!r&&t.clip(),t.globalAlpha=1,t},Et.prototype.renderHitTest=function(t,e,i,o,r){var a=this.getRecords(),n=a.length;if(!n)return!1;for(var s=!1,c=this.multiplicationMatrix,l=c(e,this.getMatrix()),h=c(i.getMatrix(),l),p=0;p<n;p++){var g=a[p],u=g.getData(),f=u.length;if(f){var d=c(h,g.getMatrix());t.setTransform(d[0],d[1],d[2],d[3],d[4],d[5]);for(var v=0;v<f;v++){var y=u[v].cmd;if(t.beginPath(),y(t),s=t.isPointInPath(o,r))return s}}}return s};var Rt=function(){this.align="left",this.font="'HiraKakuProN-W3', 'sans-serif'",this.size=8,this.color={R:0,G:0,B:0,A:1},this.bold=0,this.italic=0,this.underline=0,this.bullet=0,this.kerning=0,this.blockIndent=0,this.indent=0,this.leading=80,this.leftMargin=0,this.rightMargin=0,this.letterSpacing=0,this.tabStops=[],this.url=null,this.target=null},Ht=function(t,e,i,o){Yt.call(this),t&&this.setName(t),e&&this.setLevel(e),i||(i=0),i*=20,o||(o=0),o*=20,this.fontId=0,this.bounds={xMin:0,xMax:i,yMin:0,yMax:o},this.input=null,this.inputActive=!1,this.span=null};Ht.prototype=Object.create(Yt.prototype),Ht.prototype.constructor=Ht,Object.defineProperties(Ht.prototype,{text:{get:function(){return this.variables.text},set:function(t){this.variables.text=t}},htmlText:{get:function(){return this.variables.text},set:function(t){this.variables.text=t}},size:{get:function(){return this.variables.size},set:function(t){this.variables.size=t}},font:{get:function(){return this.variables.font},set:function(t){this.variables.font=t}},type:{get:function(){return this.variables.type},set:function(t){this.variables.type=t,"input"===t&&this.setInputElement()}},multiline:{get:function(){return this.variables.multiline},set:function(t){this.variables.multiline=t,t&&(this.wordWrap=t),"input"===this.type&&this.setInputElement()}},wordWrap:{get:function(){return this.variables.wordWrap},set:function(t){this.variables.wordWrap=t,"input"===this.type&&this.setInputElement()}},border:{get:function(){return this.variables.border},set:function(t){this.variables.border=t}},borderColor:{get:function(){return this.variables.borderColor},set:function(t){"string"==typeof t&&(t=this.colorStringToInt(t)),t=this.intToRGBA(t),this.variables.borderColor=t}},background:{get:function(){return this.variables.background},set:function(t){this.variables.background=t}},backgroundColor:{get:function(){return this.variables.backgroundColor},set:function(t){"string"==typeof t&&(t=this.colorStringToInt(t)),t=this.intToRGBA(t),this.variables.backgroundColor=t}},textColor:{get:function(){return this.variables.textColor},set:function(t){"string"==typeof t&&(t=this.colorStringToInt(t)),t=this.intToRGBA(t),this.variables.textColor=t}},align:{get:function(){return this.variables.align},set:function(t){this.variables.align=t}},autoSize:{get:function(){return this.variables.autoSize},set:function(t){this.variables.autoSize=t}},onChanged:{get:function(){return this.variables.onChanged},set:function(t){this.variables.onChanged=t}}}),Ht.prototype.intToRGBA=function(t,e){return{R:(16711680&t)>>16,G:(65280&t)>>8,B:255&t,A:(e=e||100)/100}},Ht.prototype.colorStringToInt=function(t){var e=ht.getCanvas().getContext("2d");e.fillStyle=t;var i="0x"+e.fillStyle.substr(1);return ht.destroy(e),i},Ht.prototype.setInitParams=function(){var t={antiAliasType:null,autoSize:"none",background:0,backgroundColor:{R:255,G:255,B:255,A:1},border:0,borderColor:{R:0,G:0,B:0,A:1},condenseWhite:0,html:0,password:0,embedFonts:0,gridFitType:"none",maxChars:null,mouseWheelEnabled:0,multiline:0,selectable:0,sharpness:0,textColor:0,thickness:0,type:"dynamic",wordWrap:0,text:""};for(var e in t)t.hasOwnProperty(e)&&this.setProperty(e,t[e]);this.setTextFormat(new Rt)},Ht.prototype.getTagName=function(){return"__swf2js_input_element_"+this.instanceId},Ht.prototype.setTextFormat=function(t){for(var e in t)t.hasOwnProperty(e)&&this.setProperty(e,t[e])},Ht.prototype.getBounds=function(t){if(t){var e=this.boundsMatrix(this.bounds,t);for(var i in e)e.hasOwnProperty(i)&&(e[i]/=20);return e}return this.bounds},Ht.prototype.setBounds=function(t){this.bounds=t},Ht.prototype.setInputElement=function(){var t=this.variables,i=this.getDisplayObject("_root").getParentStage(),o=e.createElement("textarea"),r=t.multiline,a=t.align,n=this.initialText;if(n||(n=t.text),o.onkeypress=null,r||(o.onkeypress=function(t){if(13===t.keyCode)return!1}),o.style.position="absolute",o.style.webkitBorderRadius="0px",o.style.padding="1px",o.style.margin="0px",o.style.webkitAppearance="none",o.style.resize="none",o.style.border="none",o.style.overflow="hidden",o.style.backgroundColor="transparent",o.style.zIndex=2147483647,o.style.textAlign=a,o.value=n,"string"!=typeof n){for(var s="",c=n.length,l=0;l<c;l++){s+=n[l].innerText,l+1!==c&&(s+="\n")}o.value=s}o.id=this.getTagName();o.onblur=function(t,i,o){return function(){i.setProperty("text",o.value),i.inputActive=!1;var r=e.getElementById(t.getName());if(r){var a=e.getElementById(i.getTagName());if(a)try{r.removeChild(a)}catch(t){}}}}(i,this,o),this.input=o},Ht.prototype.setHitRange=function(t,e,i,r){var a=this.variables.type,n=o(this.getVisible(),i);if("input"===a&&n){var s=e.buttonHits,c=this.multiplicationMatrix(t,this.getMatrix()),l=this.getBounds(c);s[s.length]={xMax:l.xMax,xMin:l.xMin,yMax:l.yMax,yMin:l.yMin,parent:this}}},Ht.prototype.render=function(t,i,a,s,c){s.doneTags.unshift(this);var l=(0,this.multiplicationColor)(a,this.getColorTransform()),h=o(this.getVisible(),c),p=s.clipMc||s.isClipDepth,g=l[3]+l[7]/255;if(!(p||g&&h))return 0;var u=this.multiplicationMatrix,d=u(i,this.getMatrix()),v=this.preRender(t,d,l,s,c),y=v.preCtx,b=v.preMatrix,m=u(s.getMatrix(),b);y.setTransform(m[0],m[1],m[2],m[3],m[4],m[5]);var S=["TextField"],A=this.variables,I=A.text,C=A.variable;C&&(void 0===(I=this.getParent().getProperty(C))&&(I=A.text));if("number"==typeof I&&(I+=""),A.html&&"string"==typeof I){-1!==I.indexOf("<sbr />")&&(I=I.replace(new RegExp("<sbr />","gi"),"\n")),-1!==I.indexOf("<b>")&&(I=(I=I.replace(new RegExp("<b>","gi"),"")).replace(new RegExp("</b>","gi"),""));var x=e.createElement("span");x.innerHTML=I;var k=x.getElementsByTagName("p"),T=k.length;if(T){for(var M=[],F=0;F<T;F++)M[F]=k[F];I=M}else I=x.innerText}y.textBaseline="top",void 0===I&&(I="");var B,U,w,_=this.getBounds(),Y=_.xMax,P=_.xMin,O=_.yMax,D=_.yMin,X=f(n(Y-P)),L=f(n(O-D)),E=s.getScale(),R=A.autoSize,H=A.wordWrap,N="string"==typeof I?I.split("\n"):I,j=N.length,G=0,Z=0,V=!1,W="string"==typeof R?R.toLowerCase():R;switch(W){default:case"none":case!1:case 0:G=X,Z=L;break;case!0:case 1:case"left":case"center":case"right":V=!0}var z=this.getStage().getCharacter(this.fontId);if(V)if(A.embedFonts){var K=z.CodeTable,q=z.FontAdvanceTable,J=this.fontScale;for(G=0,Z=z.FontAscent*J+A.leading,B=0;B<j;B++)if("string"!=typeof(U=N[B])){var Q=U.firstChild;G=this.getDomWidth(Q,K,q)}else for(var $=U.length,tt=0;tt<$;tt++){var et=K.indexOf(U[tt].charCodeAt(0));-1!==et&&(G+=q[et]*J)}}else{var it=20*A.size+A.leading;if(Z=_.yMin+80,H){for(G=X,B=0;B<j;B++)if("string"==typeof(U=N[B])){w=y.measureText(U);var ot=n(20*w.width);ot>X&&(Z+=n(n(ot/X)*it))}}else for(B=0;B<j;B++)"string"==typeof(U=N[B])&&(w=y.measureText(U),G=r(G,n(20*w.width)),Z+=it);G+=80}var rt=40;switch(W){case"center":rt=n((r(G,X)-o(G,X))/2);break;case"right":rt=n(r(G,X)-o(G,X))}if(L=Z,(X=G)>0&&L>0){var at,nt=this.isClipDepth||p,st=P,ct=D;if(this._matrix){st=-P,ct=-D;var lt=u(b,[1,0,0,1,P,D]);m=u(s.getMatrix(),lt),y.setTransform(m[0],m[1],m[2],m[3],m[4],m[5])}A.border&&!nt&&(y.beginPath(),y.rect(st-rt,ct,X,L),at=this.generateColorTransform(A.borderColor,l),S[S.length]=at,y.strokeStyle="rgba("+at.R+","+at.G+","+at.B+","+at.A+")",y.lineWidth=o(20,1/o(m[0],m[3])),y.globalAlpha=1,y.fillStyle="rgba(0,0,0,0)",A.background&&(at=this.generateColorTransform(A.backgroundColor,l),S[S.length]=at,y.fillStyle="rgba("+at.R+","+at.G+","+at.B+","+at.A+")"),y.fill(),y.stroke());var pt=A.textColor,gt=pt;"number"==typeof pt&&(gt=this.intToRGBA(pt,100));var ut="rgba("+(at=this.generateColorTransform(gt,l)).R+","+at.G+","+at.B+","+at.A+")";S[S.length]=ut,y.fillStyle=ut;var ft="";A.italic&&(ft+="italic "),A.bold&&(ft+="bold ");var dt=ft+A.size+"px "+A.font;if(S[S.length]=dt,y.font=dt,null!==this.input){var vt=this.input,yt=n(A.size*E*o(b[0],b[3]));vt.style.font=ft+yt+"px "+A.font,vt.style.color="rgba("+at.R+","+at.G+","+at.B+","+at.A+")";var bt=A.onChanged;if(bt&&!vt.onchange){vt.onchange=function(t,e,i,o){return function(){i.active&&(i.setProperty("text",o.value),e.apply(i,arguments),t.executeAction())}}(s,bt,this,vt)}}I&&!nt&&(y.save(),y.beginPath(),y.rect(st-rt,ct,X,L-40),y.clip(),!1===this.inputActive&&(A.embedFonts?this.renderOutLine(y,z,N,m,st-rt,X,ut):this.renderText(y,N,m,ft,ut)),y.restore(),y.globalAlpha=1),S[S.length]=I;var mt=ht.generateKey(S.join("_"),this.getCharacterId(),m,l);return v.cacheKey=mt,(v.isFilter||v.isBlend)&&this.postRender(t,i,l,s,v),mt}return null},Ht.prototype.renderOutLine=function(t,e,i,o,r,a,s){for(var c,l,h=this.variables,p=this.fontScale,g=(e.FontAscent+e.FontDescent)*p,u=h.rightMargin*p,f=h.leftMargin*p,d=h.indent*p,v=h.align,y="",b=e.CodeTable,m=e.GlyphShapeTable,S=e.FontAdvanceTable,A=e.FontAscent*p,I=A,C=h.wordWrap,x=h.multiline,k=this.getBounds(),T=n(k.xMax-k.xMin)-f-u,M=i.length,F=this.multiplicationMatrix,B=0;B<M;B++){var U,w=r,_=0,Y=0,P=i[B];if("string"!=typeof P){if(!(U=P.firstChild))continue;_=this.getDomWidth(U,b,S),y=P.innerText,v=h.align,P.align&&(v=P.align)}else for(Y=(y=P).length,c=0;c<Y;c++)-1!==(l=b.indexOf(y[c].charCodeAt(0)))&&(_+=S[l]*p);var O=w+="right"===v?a-u-_-40:"center"===v?d+f+40+(a-d-f-u-_)/2:d+f+40,D=0;if("string"!=typeof P){var X={XOffset:w,YOffset:A,cacheXOffset:O,cacheYOffset:I,wordWidth:D,addXOffset:0,size:U.size,areaWidth:T,matrix:o};this.renderDomOutLine(t,U,X,s,b,S,m)}else for(c=0;c<Y;c++)if(-1!==(l=b.indexOf(y[c].charCodeAt(0)))){var L=S[l]*p;C&&x&&D+L>T&&(w=O,A+=I,D=0);var E=F(o,[p,0,0,p,w,A]);t.setTransform(E[0],E[1],E[2],E[3],E[4],E[5]),this.renderGlyph(m[l],t),w+=L,D+=L}A+=g}},Ht.prototype.renderDomOutLine=function(t,e,i,o,r,a,n){var s=this.variables,c=s.wordWrap,l=s.multiline,h=this.multiplicationMatrix,p=this.getStage().fonts[e.face],g=r,u=a,f=n,d=o;p&&(g=p.CodeTable,u=p.FontAdvanceTable,f=p.GlyphShapeTable),e.color&&(d=e.color),e.size&&(i.size=e.size);for(var v=e.childNodes,y=v.length,b=0;b<y;b++){var m=v[b];if(m instanceof HTMLFontElement)this.renderDomOutLine(t,m,i,d,g,u,f);else{var S,A=i.size/1024,I=m.nodeValue;if(!I)continue;for(var C=I.length,x=0;x<C;x++){var k=I[x],T=g.indexOf(k.charCodeAt(0));if(-1===T){if(-1===(T=r.indexOf(k.charCodeAt(0))))continue;d=o,i.addXOffset=a[T]*A,S=n}else i.addXOffset=u[T]*A,S=f;c&&l&&i.wordWidth+i.addXOffset>i.areaWidth&&(i.XOffset=i.cacheXOffset,i.YOffset+=i.cacheYOffset,i.wordWidth=0);var M=[A,0,0,A,i.XOffset,i.YOffset],F=h(i.matrix,M);t.setTransform(F[0],F[1],F[2],F[3],F[4],F[5]),t.fillStyle=d,this.renderGlyph(S[T],t),i.XOffset+=i.addXOffset,i.wordWidth+=i.addXOffset}}}},Ht.prototype.getDomWidth=function(t,e,i){var o=this.fontScale,r=0,a=this.getStage().fonts[t.face],n=e,s=i;a&&(n=a.CodeTable,s=a.FontAdvanceTable);for(var c=t.childNodes,l=c.length,h=0;h<l;h++){var p=c[h];if(p instanceof HTMLFontElement)r+=this.getDomWidth(p,n,s);else{var g=p.nodeValue;if(!g)continue;for(var u=g.length,f=0;f<u;f++){var d=g[f],v=n.indexOf(d.charCodeAt(0));if(-1===v){if(-1===(v=e.indexOf(d.charCodeAt(0))))continue;r+=i[v]*o}else r+=s[v]*o}}}return r},Ht.prototype.renderGlyph=function(t,e){t.data||(t.data=ct.convert(t));for(var i=t.data,o=i.length,r=0;r<o;r++){var a=i[r].cmd;e.beginPath(),a(e),e.fill()}},Ht.prototype.renderText=function(t,e,i,o,a,s){var c=this.variables,l=c.wordWrap,p=c.multiline,g=c.leading/20,u=c.rightMargin/20,f=c.leftMargin/20,d=c.indent/20,v=c.align,y=this.getBounds(),b=y.xMax/20,m=y.xMin/20,S=n(b-m),A=[20*i[0],20*i[1],20*i[2],20*i[3],i[4],i[5]],I=h(A[0]*A[0]+A[1]*A[1]),C=h(A[2]*A[2]+A[3]*A[3]),x=r(I,C);t.setTransform(x,A[1],A[2],x,A[4],A[5]);var k=m,T=y.yMin/20+2;"right"===v?(t.textAlign="end",k+=S-u-2):"center"===v?(t.textAlign="center",k+=f+d+(S-f-d-u)/2):k+=2+f+d;var M=(y=this.getBounds(A)).xMax-y.xMin-(f-u)*I;M/=x;for(var F=c.size,B=e.length,U=0;U<B;U++){var w="",_=e[U];if(""!==(w="string"!=typeof _?_.innerText:_)){var Y=t.measureText(w).width;if("string"==typeof _)if(l||p)if(Y>M)for(var P=w.length,O="",D=2*x,X=0;X<P;X++){var L=w[X],E=t.measureText(L);D+=E.width,O+=L;var R=w[X+1];R&&(D+=(E=t.measureText(R)).width),D>M||X+1===P?(t.fillText(O,k,T,n(D)),D=2*x,O="",T+=g+F):R&&(D-=E.width)}else t.fillText(w,k,T,Y),T+=g+F;else t.fillText(w,k,T,Y),T+=g+F;else{var H=_.firstChild,N={startDx:k,dx:k,cloneDy:T,dy:T,color:a,fontType:o,fillStyle:a,size:F,scale:x,originSize:F,txtTotalWidth:Y,areaWidth:M,joinWidth:0,joinTxt:"",offset:0,offsetArray:[]};if(0===N.offsetArray.length&&this.offsetDomText(t,H,N),N.dx=k,N.dy=T,N.cloneDy=T,N.size=F,N.joinWidth=0,N.joinTxt="",N.offset=0,N.offsetArray.length>0){var j=N.offsetArray[0];j&&(N.dy+=j,N.cloneDy=N.dy)}this.renderDomText(t,H,N),T=N.dy}}else T+=g+F}},Ht.prototype.offsetDomText=function(t,e,i){var o=this.variables,a=o.wordWrap,n=o.multiline,s=o.leading/20;if(e.face&&(i.face=e.face),e.size){var c=0|e.size,l=i.originSize-c;if(l)if(i.dy+=l,l>0)i.dy-=4;else{var h=i.offsetArray,p=i.offset,g=h[p];h[p]=g?r(g,~l):~l,i.dy+=6}i.size=c}for(var u=e.childNodes,f=u.length,d=0;d<f;d++){var v=u[d];if(v instanceof HTMLFontElement)this.offsetDomText(t,v,i);else{var y=v.nodeValue;if(a&&n)if(i.txtTotalWidth>i.areaWidth)for(var b=y.length,m=0;m<b;m++){var S=t.measureText(y[m]);i.joinWidth+=S.width,i.joinTxt+=y[m];var A=i.joinWidth>i.areaWidth;(A||m+1===b)&&(i.dx+S.width>i.areaWidth&&(i.dx=i.startDx,i.dy+=s+i.size,i.cloneDy=i.dy,i.joinWidth=2*i.scale,A=!1,i.offset++),i.joinTxt="",A&&(i.dx=i.startDx,i.joinWidth=22*i.scale,i.dy+=s+i.size,i.cloneDy=i.dy,i.offset++))}else i.dy+=s+i.size,i.cloneDy=i.dy,i.offset++;else i.dy+=s+i.size,i.cloneDy=i.dy,i.offset++;var I=t.measureText(y);i.dx+=I.width,i.size=i.originSize,i.dy=i.cloneDy}}},Ht.prototype.renderDomText=function(t,e,i){var o,r=this.variables,a=r.wordWrap,s=r.multiline,c=r.leading/20;if(e.face&&(i.face=e.face),e.color&&(i.color=e.color),e.size){var l=0|e.size,h=i.originSize-l;h&&(i.dy+=h,h>0?i.dy-=4:i.dy+=8),i.size=l}for(var p=e.childNodes,g=p.length,u=0;u<g;u++){var f=p[u];if(f instanceof HTMLFontElement)this.renderDomText(t,f,i);else{t.fillStyle=i.color,t.font=i.fontType+i.size+"px "+i.face;for(var d=f.nodeValue.split("\n"),v=d.length,y=0;y<v;y++){i.dx=i.startDx;var b=d[y];if(a&&s)if(i.txtTotalWidth>i.areaWidth)for(var m=b.length,S=0;S<m;S++){var A=t.measureText(b[S]);i.joinWidth+=A.width,i.joinTxt+=b[S];var I=i.joinWidth>i.areaWidth;(I||S+1===m)&&(i.dx+A.width>i.areaWidth&&(I=0,i.joinWidth=i.size,i.dx=i.startDx,i.offset++,i.dy+=c+i.size,i.offsetArray.length>0&&(o=i.offsetArray[i.offset])&&(i.dy+=o),i.cloneDy=i.dy),t.fillText(i.joinTxt,i.dx,i.dy,n(i.joinWidth)),i.joinTxt="",I&&(i.dx=i.startDx,i.joinWidth=i.size,i.offset++,i.dy+=c+i.size,i.offsetArray.length>0&&(o=i.offsetArray[i.offset])&&(i.dy+=o),i.cloneDy=i.dy))}else t.fillText(b,i.dx,i.dy,n(i.txtTotalWidth)),i.offset++,i.dy+=c+i.size,i.offsetArray.length>0&&(o=i.offsetArray[i.offset])&&(i.dy+=o),i.cloneDy=i.dy;else t.fillText(b,i.dx,i.dy,n(i.txtTotalWidth)),i.offset++,i.dy+=c+i.size,i.offsetArray.length>0&&(o=i.offsetArray[i.offset])&&(i.dy+=o),i.cloneDy=i.dy;var C=t.measureText(b);i.dx+=C.width,i.color=i.fillStyle,i.size=i.originSize,i.dy=i.cloneDy}}}},Ht.prototype.putFrame=function(t,e){this.active=!0,!1===this.inputActive&&this.dispatchEvent(e,t)},Ht.prototype.renderHitTest=function(t,e,i,o,r){var a=this.getBounds(),s=a.xMax,c=a.xMin,l=a.yMax,h=a.yMin,p=n(s-c),g=n(l-h),u=this.multiplicationMatrix,f=u(e,this.getMatrix()),d=u(i.getMatrix(),f);if(t.setTransform(d[0],d[1],d[2],d[3],d[4],d[5]),this._matrix){var v=u(f,[1,0,0,1,c=-c,h=-h]),y=u(i.getMatrix(),v);t.setTransform(y[0],y[1],y[2],y[3],y[4],y[5])}return t.beginPath(),t.rect(c,h,p,g),t.isPointInPath(o,r)},Ht.prototype.initFrame=function(){},Ht.prototype.addActions=function(){},Ht.prototype.getTags=function(){};var Nt=function(){Yt.call(this),this.actions=[],this._downState=new Dt,this._hitState=new Dt,this._overState=new Dt,this._upState=new Dt};Nt.prototype=Object.create(Yt.prototype),Nt.prototype.constructor=Nt,Object.defineProperties(Nt.prototype,{downState:{get:function(){return this.getSprite("down")},set:function(t){this.setSprite("down",t)}},hitState:{get:function(){return this.getSprite("hit")},set:function(t){this.setSprite("hit",t)}},overState:{get:function(){return this.getSprite("over")},set:function(t){this.setSprite("over",t)}},upState:{get:function(){return this.getSprite("up")},set:function(t){this.setSprite("up",t)}}}),Nt.prototype.getActions=function(){return this.actions},Nt.prototype.setActions=function(t){this.actions=t},Nt.prototype.setButtonStatus=function(t){this.getButtonStatus()!==t&&this.buttonReset(t),this.buttonStatus=t},Nt.prototype.getSprite=function(t){return t||(t=this.buttonStatus),this["_"+(t+="State")]},Nt.prototype.setSprite=function(t,e){var i=this.getStage(),o=0;switch(t){case"down":o=1;break;case"hit":o=2;break;case"over":o=3;break;case"up":o=4}i.setPlaceObject(new gt,this.instanceId,o,0),e.setParent(this),e.setLevel(o),e.setStage(i);var r=e.getContainer();for(var a in r)if(r.hasOwnProperty(a)){var n=r[a];i.getInstance(n).setParentSprite(e)}this["_"+(t+="State")]=e},Nt.prototype.getBounds=function(t,e){var i=0,a=0,n=0,s=0,c=this.getSprite(e).getContainer();if(c.length){var l=this.getStage(),h=m.MAX_VALUE;i=-h,a=-h,n=h,s=h;var p=this.multiplicationMatrix;for(var g in c)if(c.hasOwnProperty(g)){var u=c[g],f=l.getInstance(u);if(f&&!f.isClipDepth){var d=t?p(t,f.getMatrix()):f.getMatrix(),v=f.getBounds(d,e);v&&(n=o(n,v.xMin),i=r(i,v.xMax),s=o(s,v.yMin),a=r(a,v.yMax))}}}return{xMin:n,xMax:i,yMin:s,yMax:a}},Nt.prototype.buttonReset=function(t){var e=this.getSprite().getContainer(),i=this.getSprite(t).getContainer(),o=this.getStage();for(var r in e)if(e.hasOwnProperty(r)){var a=e[r];if(!(r in i&&a===i[r])){var n=o.getInstance(a);n&&n.reset()}}},Nt.prototype.setHitRange=function(t,e,i,r){var a=o(this.getVisible(),i);if(this.getEnabled()&&a){var n=e.buttonHits;if(G){var s=this.getActions(),c=s.length;if(c)for(var l=0;l<c;l++){var h=s[l];13===h.CondKeyPress&&(n[n.length]={button:this,xMin:0,xMax:e.getWidth(),yMin:0,yMax:e.getHeight(),CondKeyPress:h.CondKeyPress,parent:this.getParent()})}}var p="hit",g=this.getSprite(p),u=g.getContainer();if(u.length||(p="up",u=(g=this.getSprite(p)).getContainer()),u.length){var f=this.multiplicationMatrix(t,this.getMatrix()),d=this.getBounds(f,p);d&&(n[n.length]={button:this,xMin:d.xMin,xMax:d.xMax,yMin:d.yMin,yMax:d.yMax,CondKeyPress:0,parent:this.getParent(),matrix:this.cloneArray(t)})}}},Nt.prototype.render=function(t,e,i,r,a){var n=this.multiplicationColor,s=n(i,this.getColorTransform()),c=this.multiplicationMatrix,l=c(e,this.getMatrix()),h=o(this.getVisible(),a),p=this.preRender(t,l,s,r,h),g=this.getSprite(),u=c(p.preMatrix,g.getMatrix()),f=n(s,g.getColorTransform());h=o(g.getVisible(),a);var d=p.cacheKey;return d+=g.render(p.preCtx,u,f,r,h),(p.isFilter||p.isBlend)&&(p.cacheKey=d,this.postRender(t,e,i,r,p)),d},Nt.prototype.renderHitTest=function(t,e,i,o,r){var a=this.getSprite("hit"),n=a.getContainer(),s=n.length;if(!s)return!1;var c=this.multiplicationMatrix,l=c(e,this.getMatrix()),h=c(l,a.getMatrix());if(s){var p=this.getStage();for(var g in n)if(n.hasOwnProperty(g)){var u=n[g],f=p.getInstance(u);if(f){var d=f.renderHitTest(t,h,i,o,r);if(d)return d}}}return!1},Nt.prototype.hitCheck=function(t,e,i,o,r){var a=this.getSprite("hit"),n=a.getContainer(),s=n.length;if(!s)return!1;var c=this.multiplicationMatrix,l=c(e,this.getMatrix()),h=c(l,a.getMatrix()),p=!1,g=!1;if(s){var u=this.getStage();for(var f in n.reverse(),n)if(n.hasOwnProperty(f)){var d=n[f],v=u.getInstance(d);if(g=v instanceof Xt||v instanceof Et||v instanceof Ht?v.renderHitTest(t,h,i,o,r):v.hitCheck(t,h,i,o,r)){if(p=g,"object"!=typeof g){var y=this.events;void 0===y.press&&void 0===y.release&&void 0===y.releaseOutside&&void 0===y.rollOver&&void 0===y.rollOut&&void 0===y.dragOver&&void 0===y.dragOut||(i.isHit=g,p={parent:this.getParent(),button:this})}return n.reverse(),p}}n.reverse()}return!1},Nt.prototype.addActions=function(t){var e=this.getSprite().getContainer();if(e.length){var i=this.getStage();for(var o in e)if(e.hasOwnProperty(o)){var r=e[o],a=i.getInstance(r);a&&a.addActions(t)}}},Nt.prototype.getTags=function(){},Nt.prototype.initFrame=function(){};var jt=function(){Dt.call(this),this._currentframe=1,this.removeTags=[],this.actions=[],this.labels=[],this.stopFlag=!1,this.isAction=!0,this.isClipDepth=!1,this.clipDepth=0,this.sounds=[],this.soundStopFlag=!1};jt.prototype=Object.create(Dt.prototype),jt.prototype.constructor=jt,jt.prototype.dispatchOnEvent=function(t,e){var i=this.variables[t];i&&this.setActionQueue(i,e)},jt.prototype.createEmptyMovieClip=function(t,e){var i=this.getStage();if(void 0!==t){var o=this.getDisplayObject(t);o||(o=new jt),e+=16384,o.setName(t),o.setLevel(e),o.setParent(this),o.setStage(i);for(var r=this.getContainer(),a=this.getTotalFrames()+1,n=new gt,s=this.instanceId,c=1;c<a;c++)c in r||(r[c]=[]),r[c][e]=o.instanceId,i.setPlaceObject(n,s,e,c);return o}},jt.prototype.createTextField=function(t,e,i,o,r,a){16384>e&&(e+=16384);var n=new Ht(t,e,r,a);n.setX(i),n.setY(o),n.setParent(this),n.setStage(this.getStage()),n.setInitParams();var s=this.getContainer();for(var c in s)s.hasOwnProperty(c)&&(s[c][e]=n.instanceId);return n},jt.prototype.setBackgroundColor=function(t,e,i){this.getStage().setBackgroundColor(t,e,i)},jt.prototype.play=function(){this.stopFlag=!1},jt.prototype.stop=function(){this.stopFlag=!0},jt.prototype.gotoAndPlay=function(t){A(t)?"string"==typeof t&&(t=this.getLabel(t)):t=+t,"number"==typeof t&&t>0&&(this.setNextFrame(t),this.play())},jt.prototype.gotoAndStop=function(t){"string"==typeof t&&(t=this.getLabel(t)),"number"==typeof(t|=0)&&t>this.getTotalFrames()&&(t=this.getTotalFrames(),this.isAction=!1),t>0&&(this.setNextFrame(t),this.stop())},jt.prototype.stopAllSounds=function(){var t=this.getStage(),e=t.loadSounds,i=e.length,o=function(){this.removeEventListener("pause",o),this.currentTime=0,this.loop=!1};if(i>0)for(;i--;)if(i in e){var r=e[i];r.addEventListener("pause",o),r.pause()}t.loadSounds=[]},jt.prototype.loadMovie=function(t,e,i){var o=this,r=o.getStage(),a=null;if(e||(e=o.getName(),a=o),!a){if("string"==typeof e)"_level"===e.substr(0,6)&&(e=+e.substr(6));if("number"==typeof e){var n=r.getParent();n||(n=r.getParent());var s=n.getTags();a=s[e]}else a=o.getDisplayObject(e)}if(a){o.unloadMovie(a);var c=new XMLHttpRequest,l=t,h=null;if(2===i){var p=t.split("?");void 0!==p[1]&&(h=p[1]),l=p[0],c.open("POST",l,!0),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}else c.open("GET",l,!0);Z?c.responseType="arraybuffer":c.overrideMimeType("text/plain; charset=x-user-defined"),c.onreadystatechange=function(){var i=c.readyState,n=c.status;if(4===i)switch(n){case 200:case 304:var s=o.getDisplayObject("_root").getStage(),h=Z?c.response:c.responseText,p=new oe;O[p.getId()]=p,a._url=t,a.reset(),p.setParent(a),a.setLoadStage(p),p.parse(h,l),p.stop(),(0===e||"number"!=typeof e&&!a.getParent())&&(r.stop(),p.setId(r.getId()),p.setName(r.getName()),p.backgroundColor=r.backgroundColor,p.initCanvas(),p.loadStatus=2,p.loadEvent(),delete O[p.getId()],P[r.getId()]=p,r=null);var g=a.variables.onData;"function"==typeof g&&p.executeEventAction(g,a),Ut.type="data",a.dispatchEvent(Ut,s),a.addActions(s)}},c.send(h)}},jt.prototype.unloadMovie=function(t){var e=null;if(t instanceof jt)e=t;else if(!(e=this.getDisplayObject(t)))return 0;e.reset(),e.setLoadStage(null),e.setStage(this.getStage()),e.container=[],e.actions=[],e.instances=[],e.labels=[],e.sounds=[],e.removeTags=[],e._totalframes=1,e._url=null,e._lockroot=void 0;var i=e.getStage();delete O[i.getId()]},jt.prototype.getURL=function(t,i,o){if("string"==typeof t){var r=t.substr(0,9);if("FSCommand"===r){r=t.split(":").pop();var a=arguments[1];void 0===a&&(a="");var n=this.getStage();return n.abc.flash.system.fscommand.apply(n,[r,a])}}if(i&&"string"==typeof i)switch(i.toLowerCase()){case"_self":case"_blank":case"_parent":case"_top":break;case"post":case"get":i="_self",o="GET";break;default:return o||(o="GET"),this.loadMovie(t,i,o),0}if("POST"===o){var s=e.createElement("form");s.action=t,s.method=o,i&&(s.target=i);var c=t.split("?");if(c.length>1)for(var l=c[1].split("&"),h=l.length,p=encodeURI,g=0;g<h;g++){var u=l[g].split("="),f=e.createElement("input");f.type="hidden",f.name=u[0],f.value=p(u[1]||""),s.appendChild(f)}e.body.appendChild(s),s.submit()}else{new T("location.href = '"+t+"';")()}},jt.prototype.loadVariables=function(t,e,i){var o=this,r=o;if(e&&(r=o.getDisplayObject(e)),r){var a=new XMLHttpRequest,n=null;if("POST"===i){var s=t.split("?");void 0!==s[1]&&(n=s[1]),a.open(i,s[0],!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}else a.open("GET",t,!0);a.onreadystatechange=function(){if(4===a.readyState)switch(a.status){case 200:case 304:for(var t=decodeURIComponent(a.responseText).split("&"),e=t.length,i=0;i<e;i++){var n=t[i].split("=");r.setVariable(n[0],n[1])}var s=o.getDisplayObject().getStage(),c=o.getStage(),l=r.variables.onData;"function"==typeof l&&c.executeEventAction(l,r),Ut.type="data",r.dispatchEvent(Ut,s)}},a.send(n)}},jt.prototype.hitTest=function(){var t=arguments[0],e=0,i=0,o=!1;if(!(t instanceof jt||(e=arguments[0],i=arguments[1],o=arguments[2],e&&i)))return!1;var r=this.getHitBounds(),a=r.xMax,n=r.xMin,s=r.yMax,c=r.yMin;if(t instanceof jt){var l=t.getHitBounds(),h=l.xMax,p=l.xMin,g=l.yMax,u=l.yMin;return h>n&&g>c&&a>p&&s>u}if(e>=n&&e<=a&&i>=c&&i<=s){if(o){for(var f=[1,0,0,1,0,0],d=this,v=this.multiplicationMatrix;;){var y=d.getParent();if(!y.getParent())break;f=v(y.getMatrix(),f),d=y}var b=this.getDisplayObject("_root").getStage(),m=b.hitContext,S=b.getScale();return e*=S,i*=S,i*=z,e*=z,this.renderHitTest(m,f,b,e,i)}return!0}return!1},jt.prototype.getHitBounds=function(){for(var t=this,e=this.getMatrix(),i=this.multiplicationMatrix;;){var o=t.getParent();if(!o.getParent())break;e=i(o.getMatrix(),e),t=o}return this.getBounds(e)},jt.prototype.getInstanceAtDepth=function(t){var e=this.getParent();return e||(e=this.getDisplayObject("_root")),e.getTags()[t+=16384]},jt.prototype.swapDepths=function(){var t=arguments[0],e=0,i=this.getParent();if(i){var o=i.getTags();if(t instanceof jt){if(i===t.getParent()){e=this.getDepth()+16384;var r=t.getDepth()+16384;this.setDepth(e,r,t)}}else if(e=arguments[0],A(e)&&(e=i.getNextHighestDepth()),16384>e&&(e+=16384),e in o){var a=o[e];if(a!==this.instanceId){var n=this.getStage().getInstance(a);this.swapDepths(n)}}else this.setDepth(e,null,null)}},jt.prototype.attachMovie=function(t,e,i,o){var r=null;A(i)&&(i=this.getNextHighestDepth()),i<16384&&(i+=16384);var a=this.getDisplayObject(e);a&&a.removeMovieClip();var n=this.getStage(),s=n.exportAssets;if(t in s){var c=s[t],l=n.getCharacter(c);if(l){(r=new jt).setStage(n),r.setParent(this),r.setCharacterId(c),r.setLevel(i),r.setName(e),r.setTarget(this.getTarget()+"/"+e);var h=n.initActions[c];"function"==typeof h&&(r.active=!0,h.apply(r),r.reset());var p=n.registerClass[c];p&&(r.variables.registerClass=new p),new ut(n,null).build(l,r);for(var g=new gt,u=this.instanceId,f=this.getTotalFrames()+1,d=this.getContainer(),v=1;v<f;v++)v in d||(d[v]=[]),d[v][i]=r.instanceId,n.setPlaceObject(g,u,i,v);if(o)for(var y in o)o.hasOwnProperty(y)&&r.setProperty(y,o[y]);var b=this.getDisplayObject("_root").getStage();r.addActions(b)}}return r},jt.prototype.getNextHighestDepth=function(){var t=0,e=this.getContainer();for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];t=r(t,o.length)}return 16384>t&&(t=0),t},jt.prototype.getBytesLoaded=function(){var t=this.getStage(),e=t.bitio;return e?e.byte_offset:t.fileSize},jt.prototype.getBytesTotal=function(){return this.getStage().fileSize},jt.prototype.updateAfterEvent=function(){this.getDisplayObject("_root").getStage().touchRender()},jt.prototype.duplicateMovieClip=function(){var t,e,i,o=this.getDisplayObject("_root").getStage(),r=arguments[0],a=arguments[1],n=arguments[2],s=this.getDisplayObject(a);if(!s&&o.getVersion()>4&&(r=arguments[0],n=arguments[1],A(n)&&((t=this.getParent())||(t=o.getParent()),n=t.getNextHighestDepth()),e=arguments[2],s=this),16384>n&&(n+=16384),void 0!==s&&0!==s.getCharacterId()){o=s.getStage(),(t=s.getParent())||(t=o.getParent());var c=o.getCharacter(s.characterId),l=new ut(o);if(c instanceof Array)(i=new jt).setStage(o),i.setParent(t),i.setLevel(n),i.setTotalFrames(s.getTotalFrames()),i.setCharacterId(s.characterId),l.build(c,i);else{var h={CharacterId:s.characterId,Ratio:0,Depth:n};i=l.buildObject(h,t)}i.setName(r),s._matrix&&(i._blendMode=s._blendMode,i._filters=s._filters,i._matrix=this.cloneArray(s._matrix),i._colorTransform=this.cloneArray(s._colorTransform));for(var p=t.getTotalFrames()+1,g=t.getContainer(),u=t.instanceId,f=o.placeObjects[u],d=s.getLevel(),v=1;v<p;v++)if(v in g||(g[v]=[]),g[v][n]=i.instanceId,v in f){var y=f[v][d];y&&(v in f||(f[v]=[]),f[v][n]=y.clone())}if(e)for(var b in e)e.hasOwnProperty(b)&&i.setProperty(b,e[b]);i.addActions(o)}return i},jt.prototype.removeMovieClip=function(t){var e=this;if("string"==typeof t){var i=this.getDisplayObject(t);i&&(e=i)}var o=e.getDepth()+16384,r=e.getLevel();if(e instanceof jt&&o>=16384){e.reset(),e.removeFlag=!0;for(var a=e.getParent(),n=a.getContainer(),s=e.instanceId,c=a.getTotalFrames()+1;--c;)if(c in n){var l=n[c];o in l&&l[o]===s&&delete n[c][o],o!==r&&16384>r&&(r in l||(l[r]=s))}}},jt.prototype.initFrame=function(){this.active=!0;var t=this.getStage(),e=this.getTags();if(e.length){for(var i in e.reverse(),e)if(e.hasOwnProperty(i)){var o=e[i],r=t.getInstance(o);r&&r.initFrame()}e.reverse()}var a=t.initActions[this.getCharacterId()];"function"==typeof a&&a.apply(this)},jt.prototype.putFrame=function(t,e){var i,o=this.getStage();if(!this.stopFlag&&this.active){var r=this.getCurrentFrame(),a=this.getTotalFrames();a>1&&(this.isLoad&&(i=this.getTags(),r++),r>a&&(r=1,this.resetCheck()),this.setCurrentFrame(r),this.remove(t),this.isAction=!0,this.soundStopFlag=!1)}if(this.removeFlag)return 0;if(this.active=!0,void 0!==i){this.isSwap&&this.resetSwap();var n=this.getTags();if(n.length&&n.toString()!==i.toString())for(var s in n)if(n.hasOwnProperty(s)){var c=n[s];if(!(s in i&&c===i[s])){var l=o.getInstance(c);l&&l instanceof jt&&t.newTags.unshift(l)}}}if(this.isLoad){if(e.type="enterFrame",this.dispatchEvent(e,t),this.dispatchOnEvent("onEnterFrame",t),this.addTouchEvent(t),this.isAction){this.isAction=!1;var h=this.getActions(this.getCurrentFrame());h&&this.setActionQueue(h,t)}}else{var p=o.initActions[this.getCharacterId()];"function"==typeof p&&p.apply(this)}},jt.prototype.nextFrame=function(){var t=this.getCurrentFrame();t++,this.setNextFrame(t),this.stop()},jt.prototype.prevFrame=function(){var t=this.getCurrentFrame();t--,this.setNextFrame(t),this.stop()},jt.prototype.getCurrentFrame=function(){return this._currentframe},jt.prototype.setCurrentFrame=function(t){this._currentframe=t},jt.prototype.setNextFrame=function(t){if(t>0&&this.getCurrentFrame()!==t){this.isAction=!0,t>this.getTotalFrames()&&(t=this.getTotalFrames(),this.isAction=!1);var e,i,a,n,s,c=r(t,this.getCurrentFrame())+1,l=o(t,this.getCurrentFrame()),h=this.getStage(),p=this.getTags(),g=[],u=this.getTags(t),f=r(p.length,u.length);if(f)for(a=0;a<f;a++)if((a in p||a in u)&&(i=p[a],s=u[a],i||s))if(e=h.getInstance(i),n=h.getInstance(s),i&&s){if(i===s){g[i]=!0;continue}e.reset(),n.reset(),g[i]=!0,g[s]=!0}else e?(e.reset(),g[i]=!0):n&&(n.reset(),g[s]=!0);if(g.length)for(var d=l;d<c;d++){var v=this.getTags(d);if(v.length)for(a in v)v.hasOwnProperty(a)&&((i=v[a])in g||(g[i]=!0,(e=h.getInstance(i)).reset()))}this.setCurrentFrame(t),this.soundStopFlag=!1;var y=this.getDisplayObject("_root").getStage();this.addActions(y)}},jt.prototype.getTotalFrames=function(){return this._totalframes},jt.prototype.setTotalFrames=function(t){this._totalframes=t,this._framesloaded=t},jt.prototype.addLabel=function(t,e){"string"!=typeof e&&(e+=""),this.labels[e.toLowerCase()]=0|t},jt.prototype.getLabel=function(t){return"string"!=typeof t&&(t+=""),this.labels[t.toLowerCase()]},jt.prototype.addSound=function(t,e){t in this.sounds||(this.sounds[t]=[]),this.sounds[t].push(e)},jt.prototype.getSounds=function(){return this.sounds[this.getCurrentFrame()]},jt.prototype.startSound=function(t){var e=this.getStage(),i=t.SoundId,o=e.getCharacter(i);if(!o)return 0;var r=o.SoundInfo;nt(t.Audio,r),this.soundStopFlag=!0},jt.prototype.getTags=function(t){var e=t||this.getCurrentFrame();return this.container[e]||[]},jt.prototype.setRemoveTag=function(t,e){var i=this.removeTags;i[t]=[];for(var o=e.length,r=0;r<o;r++){var a=e[r];i[t][a.Depth]=1}},jt.prototype.getRemoveTags=function(t){return this.removeTags[t]},jt.prototype.remove=function(t){var e=this.getRemoveTags(this.getCurrentFrame());if(e){var i=this.getStage(),o=this.getCurrentFrame()-1,r=this.getTags(o);for(var a in r)if(r.hasOwnProperty(a)){var n=r[a],s=i.getInstance(n);if(s)if(s instanceof jt){if(!(s.getDepth()+16384 in e))continue;Ut.type="unload",this.dispatchEvent(Ut,t),s.reset()}else{if(!(a in e))continue;s.reset()}}}},jt.prototype.resetCheck=function(){var t=this.getInstances(),e=this.getStage();for(var i in t)if(t.hasOwnProperty(i)){var o=e.getInstance(i);o&&(o.getRatio()||o.removeFlag)&&o.reset()}},jt.prototype.resetSwap=function(){for(var t=this.getStage(),e=this.getTags(),i=this.getTotalFrames()+1,o=1;o<i;o++){var r=this.getTags(o),a=r.length;if(a){var n=[];for(var s in r)if(r.hasOwnProperty(s)){var c=r[s|=0],l=t.getInstance(c);l?l.active||l.getLevel()!==s&&(l.getLevel()in e||(l._depth=null,n[l.getLevel()]=c),delete r[s]):delete r[s]}if(a=n.length)for(var h in n)n.hasOwnProperty(h)&&(r[h]=n[h])}}this.isSwap=!1},jt.prototype.reset=function(){var t=this.getStage(),e=this.getInstances();for(var i in e)if(e.hasOwnProperty(i)){var o=t.getInstance(i);o instanceof jt&&o.getDepth()>=0?(o.removeMovieClip(),o.getDepth()<0&&(o.removeFlag=!1)):o.reset()}var r=this.getParent();r&&this.getLevel()!==this.getDepth()+16384&&(r.isSwap=!0),this.play(),this.setCurrentFrame(1),this.clear(),this.initParams(),this.variables={}},jt.prototype.initParams=function(){this.active=!1,this.removeFlag=!1,this.isLoad=!1,this.isMask=!1,this.isAction=!0,this.soundStopFlag=!1,this._droptarget=null,this._depth=null,this._mask=null,this._matrix=null,this._colorTransform=null,this._filters=null,this._blendMode=null,this.buttonStatus="up",this.mouseEnabled=!0,this.setVisible(!0),this.setEnabled(!0)},jt.prototype.addTouchEvent=function(t){var e=this.events,i=t.moveEventHits,o=t.downEventHits,r=t.upEventHits,a=t.keyDownEventHits;for(var n in e)if(e.hasOwnProperty(n)){var s=e[n];switch(n){case"mouseDown":o[o.length]={as:s,mc:this};break;case"mouseMove":i[i.length]={as:s,mc:this};break;case"mouseUp":r[r.length]={as:s,mc:this};break;case"keyDown":G?o[o.length]={as:s,mc:this}:a[a.length]={as:s,mc:this};break;case"keyUp":r[r.length]={as:s,mc:this}}}var c=this.variables;c.onMouseDown&&(o[o.length]={mc:this}),c.onMouseMove&&(i[i.length]={mc:this}),c.onMouseUp&&(r[r.length]={mc:this})},jt.prototype.createActionScript=function(t){return e=this,(o=new vt([],(i=t).constantPool,i.register,i.initAction)).cache=i.cache,o.scope=e,function(){return o.reset(),o.variables.this=this,o.execute(e)};var e,i,o},jt.prototype.createActionScript2=function(t,e){return i=this,o=t,r=e,function(){var t=new vt([],o.constantPool,o.register,o.initAction);return t.parentId=o.id,t.cache=o.cache,t.scope=i,t.parent=r||null,t.register.length&&t.initVariable(arguments),t.variables.this=this,t.execute(i)};var i,o,r},jt.prototype.addFrameScript=function(){for(var t=arguments,e=t.length,i=0;i<e;i++){var o=t[i++],r=t[i];if("string"==typeof o?o=this.getLabel(o):o+=1,(o|=0)>0&&this.getTotalFrames()>=o){var a=this.actions;if(o in a||(a[o]=[]),null===r)a[o]=[];else{var n=a[o].length;a[o][n]=r}}}},jt.prototype.addActions=function(t){this.active=!0;var e=this.getStage();if(this.isAction){if(this.isAction=!1,!this.isLoad){this.buildAVM2();var i=e.registerClass[this.getCharacterId()];"function"==typeof i&&(this.variables.registerClass=new i),Ut.type="initialize",this.dispatchEvent(Ut,t),Ut.type="construct",this.dispatchEvent(Ut,t),Ut.type="load",this.dispatchEvent(Ut,t);var o=this.variables.onLoad;"function"==typeof o&&this.setActionQueue(o,t),this.addTouchEvent(t)}var r=this.getActions(this.getCurrentFrame());r&&this.setActionQueue(r,t)}var a=this.getTags();if(a.length)for(var n in a)if(a.hasOwnProperty(n)){var s=a[n],c=e.getInstance(s);c&&c.addActions(t)}},jt.prototype.getActions=function(t){return this.actions[t]},jt.prototype.setActions=function(t,e){var i=this.actions;t in i||(i[t]=[]);var o=i[t].length;i[t][o]=this.createActionScript(e)},jt.prototype.overWriteAction=function(t,e){"string"==typeof t&&(t=this.getLabel(t)),(t|=0)>0&&this.getTotalFrames()>=t&&(this.actions[t]=[e])},jt.prototype.addAction=function(t,e){if("string"==typeof t&&(t=this.getLabel(t)),(t|=0)>0&&this.getTotalFrames()>=t){var i=this.actions;t in i||(i[t]=[]);var o=i[t].length;i[t][o]=e}},jt.prototype.executeActions=function(t){var e=this.getActions(t);if(void 0!==e)for(var i=e.length,o=0;o<i;o++)e[o].apply(this)},jt.prototype.ASSetPropFlags=function(){},jt.prototype.beginFill=function(t,e){this.getGraphics().beginFill(t,e)},jt.prototype.lineStyle=function(t,e,i,o,r,a,n,s){this.getGraphics().lineStyle(t,e,i,o,r,a,n,s)},jt.prototype.moveTo=function(t,e){this.getGraphics().moveTo(t,e)},jt.prototype.lineTo=function(t,e){this.getGraphics().lineTo(t,e)},jt.prototype.curveTo=function(t,e,i,o){this.getGraphics().curveTo(t,e,i,o)},jt.prototype.clear=function(){this.getGraphics().clear()},jt.prototype.endFill=function(){this.getGraphics().endFill()},jt.prototype.buildAVM2=function(){var t=this.getStage(),e=t.symbols[this.getCharacterId()];if(e){for(var i=e.split("."),o=i.pop(),r=i.length,a=t.avm2,n=t.abc,s=0;s<r;s++)a=a[i[s]],n=n[i[s]];var c=new(0,n[o])(this);a[o]=c,this.avm2=c;var l=c[o];"function"==typeof l&&(this.actions=[],l.apply(this))}};var Gt=function(){this.events={onLoadStart:void 0,onLoadProgress:void 0,onLoadComplete:void 0,onLoadInit:void 0,onLoadError:void 0}};Gt.prototype.loadClip=function(t,e){if(!t||!e)return!1;var i=this,o=i.events,r=new XMLHttpRequest;r.open("GET",t,!0),Z?r.responseType="arraybuffer":r.overrideMimeType("text/plain; charset=x-user-defined");var a=o.onLoadProgress;a||(a=i.onLoadProgress),"function"==typeof a&&(r.onprogress=function(t){a.apply(i,[e,t.loaded,t.total])});var n=o.onLoadComplete;return n||(n=i.onLoadComplete),"function"==typeof n&&(r.onloadend=function(t){var o=t.currentTarget.status;200===o&&n.apply(i,[e,o])}),r.onreadystatechange=function(){var a,n,s;if(4===r.readyState){var c=r.status,l=o.onLoadStart;switch(l||(l=i.onLoadStart),"function"==typeof l&&(r.onloadstart=function(){l.apply(i,[e])}),c){case 200:case 304:var h=e.getDisplayObject("_root").getStage(),p=Z?r.response:r.responseText,g=new oe;O[g.getId()]=g,e._url=t,e.reset(),e.setLoadStage(g),g.setParent(e),g.parse(p,t),g.stop();var u=o.onLoadInit;if(u||(u=i.onLoadInit),"function"==typeof u){var f=(a=u,n=i,s=e,function(){return a.apply(n,[s])});e.events.load=[f]}e.addActions(h);break;default:var d=o.onLoadError;d||(d=i.onLoadError),"function"==typeof d&&d.apply(i,[e,"error",c])}}},r.send(null),!0},Gt.prototype.addListener=function(t){if(t&&"object"==typeof t)for(var e=["onLoadStart","onLoadProgress","onLoadComplete","onLoadInit","onLoadError"],i=t.variables,o=0;o<5;o++){var r=e[o];"function"==typeof t[r]?this.events[r]=t[r]:i&&"function"==typeof i[r]&&(this.events[r]=i[r])}return!0},Gt.prototype.removeListener=function(t){if(t&&"object"==typeof t)for(var e=["onLoadStart","onLoadProgress","onLoadComplete","onLoadInit","onLoadError"],i=0;i<5;i++){var o=e[i],r=t.variables;("function"==typeof t[o]||r&&"function"==typeof r[o])&&(this.events[o]=void 0)}return!0},Gt.prototype.getProgress=function(t){return{bytesLoaded:0,bytesTotal:0}};var Zt=function(){this.xmlHttpRequest=new XMLHttpRequest,this.variables={},this.target=this,this.events={onData:void 0,onLoad:void 0}};Object.defineProperties(Zt.prototype,{onData:{get:function(){return this.getProperty("onData")},set:function(t){this.setProperty("onData",t)}},onLoad:{get:function(){return this.getProperty("onLoad")},set:function(t){this.setProperty("onLoad",t)}}}),Zt.prototype.getProperty=function(t){return this.variables[t]},Zt.prototype.setProperty=function(t,e){this.variables[String(t)]=e},Zt.prototype.load=function(t){var e=this,i=e.xmlHttpRequest;i.open("GET",t,!0),i.onreadystatechange=function(){if(4===i.readyState){var t=decodeURIComponent(i.responseText);e.decode(t);var o,r=e.onData;switch("function"==typeof r&&r.apply(t,[t]),i.status){case 200:case 304:return"function"==typeof(o=e.onLoad)&&o.apply(t,[!0]),!0;default:return"function"==typeof(o=e.onLoad)&&o.apply(t,[!1]),!1}}},i.send(null)},Zt.prototype.send=function(t,e,i){var o=this.xmlHttpRequest,r=i?i.toUpperCase():"GET";return o.open(r,t,!0),"POST"===r&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e instanceof Zt&&(this.target=e),o.send(this.toString()),!0},Zt.prototype.sendAndLoad=function(t,e,i){return this.send(t,e,i),this.load(t)},Zt.prototype.addRequestHeader=function(t,e){var i=this.xmlHttpRequest;if(t instanceof Array)for(var o=t.length,r=0;r<o;)i.setRequestHeader(t[r++],e[r++]);else i.setRequestHeader(t,e)},Zt.prototype.decode=function(t){for(var e=this.variables,i=t.split("&"),o=i.length,r=0;r<o;r++){var a=i[r].split("=");a.length<1||(e[String(a[0])]=a[1])}},Zt.prototype.getBytesLoaded=function(){return 1},Zt.prototype.getBytesTotal=function(){return 1},Zt.prototype.toString=function(){var t=this.variables,e=[];for(var i in t)t.hasOwnProperty(i)&&(e[e.length]=i+"="+t[i]);return e.join("&")};var Vt=function(){this.ignoreWhite=!1,this.loaded=!1,this.status=0,this.variables={}};Object.defineProperties(Vt.prototype,{onData:{get:function(){return this.getProperty("onData")},set:function(t){this.setProperty("onData",t)}},onLoad:{get:function(){return this.getProperty("onLoad")},set:function(t){this.setProperty("onLoad",t)}}}),Vt.prototype.getProperty=function(t){return this.variables[t]},Vt.prototype.setProperty=function(t,e){this.variables[String(t)]=e},Vt.prototype.load=function(t){var e=this;t=""+t;var i=new XMLHttpRequest;i.open("GET",t,!0),i.onreadystatechange=function(){if(4===i.readyState){var t,o=i.responseXML,r=e.onData;switch("function"==typeof r&&r.apply(o,[o]),i.status){case 200:case 304:return"function"==typeof(t=e.onLoad)&&t.apply(o,[!0]),!0;default:return"function"==typeof(t=e.onLoad)&&t.apply(o,[!1]),!1}}},i.send(null)},Vt.prototype.send=function(t,e,i){var o=i?i.toUpperCase():"GET";e&&F.log(e);var r=new XMLHttpRequest;return r.open(o,t,!0),r.send(null),!0},Vt.prototype.sendAndLoad=function(t,e){return this.send(t),this.load(e)};var Wt=function(){this.variables={},this.sounds=[],this.volume=100,this.pan=0,this.transform={ll:100,lr:100,rl:100,rr:100},this.isStreamin=!1,this.movieClip=null};Object.defineProperties(Wt.prototype,{onLoad:{get:function(){return this.getProperty("onLoad")},set:function(t){this.setProperty("onLoad",t)}},onSoundComplete:{get:function(){return this.getProperty("onSoundComplete")},set:function(t){this.setProperty("onSoundComplete",t)}}}),Wt.prototype.getProperty=function(t){return this.variables[t]},Wt.prototype.setProperty=function(t,e){this.variables[String(t)]=e},Wt.prototype.start=function(t,e){var i,o=this.sounds,r=function(t,e){return function(){t.currentTime=e}},a=function(t,e){return function(){var i=e.volume;t.loopCount--,t.loopCount>0&&(t.volume=i/100,t.currentTime=0,t.play());var o=e.onSoundComplete;o&&o.apply(e,[!0])}};for(var n in o)o.hasOwnProperty(n)&&((i=o[n]).load(),t&&i.addEventListener("canplay",r(i,t)),"number"==typeof e&&e>0&&(i.loopCount=e,i.addEventListener("ended",a(i,this))),i.play())},Wt.prototype.stop=function(t){var e,i=this.sounds;if(t)(e=i[t])&&e.pause();else for(var o in i)i.hasOwnProperty(o)&&(e=i[o]).pause()},Wt.prototype.loadSound=function(t,i){this.isStreamin=i;var o=this.sounds,r=e.createElement("audio");r.src=t,o[0]=r;var a=function(t,e){return function(){t.load(),t.preload="auto",t.autoplay=!1,t.loop=!1;var i=e.onLoad;"function"==typeof i&&i.apply(e,[!0])}}(r,this);r.addEventListener("canplaythrough",a);var n,s=(n=this,function(){var t=n.onLoad;"function"==typeof t&&t.apply(n,[!1])});r.addEventListener("error",s)},Wt.prototype.attachSound=function(t){var i=this.sounds;if(!(t in i)){var o=this.movieClip.getStage(),r=o.exportAssets;if(t in r){var a=r[t],n=o.sounds[a];if(n){var s=e.createElement("audio");s.onload=function(){this.load(),this.preload="auto",this.autoplay=!1,this.loop=!1},s.src=n.base64,i[t]=s}}}},Wt.prototype.getVolume=function(){return this.volume},Wt.prototype.setVolume=function(t){var e=this.sounds;for(var i in this.volume=t,e){if(e.hasOwnProperty(i))e[i].volume=t/100}},Wt.prototype.getPan=function(){return this.pan},Wt.prototype.setPan=function(t){this.pan=t},Wt.prototype.setTransform=function(t){var e=this.transform;for(var i in t)if(t.hasOwnProperty(i))switch(i){case"ll":case"lr":case"rl":case"rr":e[i]=t[i]}},Wt.prototype.getTransform=function(){return this.transform},Wt.prototype.getBytesLoaded=function(){return 1},Wt.prototype.getBytesTotal=function(){return 1};var zt=function(){this.data=null,this.name=null};zt.prototype.getLocal=function(e){this.name=e;var i=t.localStorage.getItem(e);return i=i?JSON.parse(i):{},this.data=i,this},zt.prototype.flush=function(){return t.localStorage.setItem(this.name,JSON.stringify(this.data)),!0};var Kt=function(t){this.movieClip=t,this.variables={}};Kt.prototype.getProperty=function(t){return this.variables[t]},Kt.prototype.setProperty=function(t,e){this.variables[String(t)]=e},Kt.prototype.intToRGBA=function(t,e){return{R:(16711680&t)>>16,G:(65280&t)>>8,B:255&t,A:(e=e||100)/100}},Kt.prototype.setRGB=function(t){var e=this.movieClip;if(e instanceof jt){t|=0;var i=this.intToRGBA(t),o=e.getOriginColorTransform();if(o){var r=[i.R,i.G,i.B,255*i.A,0,0,0,0],a=e.cloneArray(r),n=e.multiplicationColor(o,a);e.setColorTransform(n)}}},Kt.prototype.getTransform=function(){var t=this.movieClip;if(t instanceof jt)return t.getColorTransform()},Kt.prototype.setTransform=function(t){var e=this.movieClip;if(e instanceof jt){var i=e.getOriginColorTransform(),o=[t.rb,t.gb,t.bb,t.ab,t.ra,t.ga,t.ba,t.aa],r=e.cloneArray(o),a=e.multiplicationColor(i,r);e.setColorTransform(a)}};var qt=function(){this.events={}};qt.prototype.show=function(){},qt.prototype.hide=function(){},qt.prototype.addListener=function(t){if(t&&"object"==typeof t)for(var e=["onMouseDown","onMouseMove","onMouseUp"],i=t.variables,o=0;o<5;o++){var r=e[o];"function"==typeof t[r]?this.events[r]=t[r]:i&&"function"==typeof i[r]&&(this.events[r]=i[r])}return!0},qt.prototype.removeListener=function(t){if(t&&"object"==typeof t)for(var e=["onMouseDown","onMouseMove","onMouseUp"],i=0;i<5;i++){var o=e[i],r=t.variables;("function"==typeof t[o]||r&&"function"==typeof r[o])&&(this.events[o]=void 0)}return!0};var Jt=function(){this.variables={},this._listeners=[]};Object.defineProperties(Jt.prototype,{onKeyDown:{get:function(){return this.getProperty("onKeyDown")},set:function(t){this.setProperty("onKeyDown",t)}},onKeyUp:{get:function(){return this.getProperty("onKeyUp")},set:function(t){this.setProperty("onKeyUp",t)}}}),Jt.prototype.BACKSPACE=8,Jt.prototype.CAPSLOCK=20,Jt.prototype.CONTROL=17,Jt.prototype.DELETEKEY=46,Jt.prototype.DOWN=40,Jt.prototype.END=35,Jt.prototype.ENTER=13,Jt.prototype.ESCAPE=27,Jt.prototype.HOME=36,Jt.prototype.INSERT=45,Jt.prototype.LEFT=37,Jt.prototype.PGDN=34,Jt.prototype.PGDN=34,Jt.prototype.PGUP=33,Jt.prototype.RIGHT=39,Jt.prototype.SHIFT=16,Jt.prototype.SPACE=32,Jt.prototype.TAB=9,Jt.prototype.UP=38,Jt.prototype.getProperty=function(t){return this.variables[t]},Jt.prototype.setProperty=function(t,e){this.variables[String(t)]=e},Jt.prototype.addListener=function(t){var e=t.onKeyDown;e&&(this.onKeyDown=e);var i=t.onKeyUp;return i&&(this.onKeyUp=i),!0},Jt.prototype.isDown=function(t){return this.getCode()===t},Jt.prototype.getCode=function(){var t=q?q.keyCode:null;if(96<=t&&t<=105)switch(t-96){case 0:t=48;break;case 1:t=49;break;case 2:t=50;break;case 3:t=51;break;case 4:t=52;break;case 5:t=53;break;case 6:t=54;break;case 7:t=55;break;case 8:t=56;break;case 9:t=57}return t};var Qt=new Jt;function $t(t){q=t;var e=Qt.onKeyUp;"function"==typeof e&&e.apply(Qt,[t])}function te(t){q=t;var e,i,o,r,a=Qt.getCode(),n=Qt.onKeyDown;"function"==typeof n&&n.apply(Qt,[t]),i=P.length;for(var s=0;s<i;s++)if(s in P){var c=P[s],l=c.keyDownEventHits,h=l.length;if(h)for(r=0;r<h;r++)o=l[r],c.executeEventAction(o.as,o.mc);var p=c.buttonHits,g=!1;for(e=p.length;e--;)if(e in p){var u=p[e];if(u){var f=u.button;if(f){var d=f.getActions();if(d){var v=d.length;for(r=0;r<v;r++)if(r in d){var y=d[r],b=y.CondKeyPress;switch(b){case 1:b=37;break;case 2:b=39;break;case 3:b=36;break;case 4:b=35;break;case 5:b=45;break;case 6:b=46;break;case 14:b=38;break;case 15:b=40;break;case 16:b=33;break;case 17:b=34;break;case 18:b=9;break;case 19:b=27}if(b===a){c.buttonAction(u.parent,y.ActionScript),c.touchRender(),g=!0;break}}if(g)break}}}}}}var ee=function(){this.variables={}};ee.prototype.getVariable=function(t){return this.variables[t]},ee.prototype.setVariable=function(t,e){this.variables[t]=e},ee.prototype.getProperty=function(t){return this.variables[t]},ee.prototype.setProperty=function(t,e){this.variables[t]=e};var ie=function(t){this.stage=t};ie.prototype={flash:{display:{MovieClip:jt,Sprite:Dt,DisplayObjectContainer:Ot,InteractiveObject:Yt,DisplayObject:_t,Graphics:Tt},events:{EventDispatcher:wt,MouseEvent:Ut},text:{StaticText:Et},media:{Sound:Wt},system:{fscommand:function(){var t=arguments[0],e=arguments[1];switch(void 0===e&&(e=""),t){case"quit":case"fullscreen":case"allowscale":case"showmenu":case"exec":case"trapallkeys":break;default:if(t){var i=this.tagId?this.tagId:this.getName();new T("command","args",i+"_DoFSCommand(command, args);")(t,e)}}return!0}}}};var oe=function(){this.id=Y++,this.name="swf2js_"+this.id,this.intervalId=0,this.frameRate=0,this.fileSize=0,this.stopFlag=!0,this.optionWidth=0,this.optionHeight=0,this.callback=null,this.renderMode=!1,this.tagId=null,this.FlashVars={},this.quality="medium",this.bgcolor=null,this.mouse=new qt,this.context=null,this.canvas=null,this.preContext=null,this.hitContext=null,this.matrix=[1,0,0,1,0,0],this._matrix=[1,0,0,1,0,0],this._colorTransform=[1,1,1,1,0,0,0,0],this.characters=[],this.initActions=[],this.exportAssets=[],this.packages=[],this.registerClass=[],this.buttonHits=[],this.downEventHits=[],this.moveEventHits=[],this.upEventHits=[],this.keyDownEventHits=[],this.keyUpEventHits=[],this.sounds=[],this.loadSounds=[],this.videos=[],this.actions=[],this.instances=[],this.placeObjects=[],this.fonts=[],this.isAction=!0,this._global=new ee,this.touchObj=null,this.touchStatus="up",this.overObj=null,this.touchEndAction=null,this.imgUnLoadCount=0,this.scale=1,this.baseWidth=0,this.baseHeight=0,this.width=0,this.height=0,this.isHit=!1,this.isTouchEvent=!1,this.isLoad=!1,this.jpegTables=null,this.backgroundColor="transparent",this.version=8,this.loadStatus=0,this.isClipDepth=!1,this.clipDepth=0,this.clipMc=!1,this.dragMc=null,this.dragRules=null,this.scaleMode="showAll",this.align="",this.avm2=new ie(this),this.abc=new ie(this),this.symbols=[],this.abcFlag=!1,this.doneTags=[],this.newTags=[];var t=new jt;t.setStage(this),this.setParent(t)};oe.prototype.getId=function(){return this.id},oe.prototype.setId=function(t){this.id=t},oe.prototype.getParent=function(){return this.parent},oe.prototype.setParent=function(t){this.parent=t},oe.prototype.getVersion=function(){return this.version},oe.prototype.setVersion=function(t){this.version=t},oe.prototype.getBackgroundColor=function(){return this.backgroundColor},oe.prototype.setBackgroundColor=function(t,e,i){this.backgroundColor="rgb("+t+","+e+","+i+")"},oe.prototype.getGlobal=function(){return this._global},oe.prototype.play=function(){this.stopFlag=!1;var t;this.intervalId=x((t=this,function(){w(function(){t.isLoad&&!t.stopFlag&&t.nextFrame()},0)}),this.getFrameRate())},oe.prototype.stop=function(){this.stopFlag=!0,k(this.intervalId)},oe.prototype.getName=function(){return this.name},oe.prototype.setName=function(t){this.name=t},oe.prototype.setOptions=function(t){if(void 0!==t){switch(this.optionWidth=t.width||this.optionWidth,this.optionHeight=t.height||this.optionHeight,this.callback=t.callback||this.callback,this.tagId=t.tagId||this.tagId,this.renderMode=t.renderMode||this.renderMode,this.FlashVars=t.FlashVars||this.FlashVars,this.quality=t.quality||this.quality,this.bgcolor=t.bgcolor||this.bgcolor,this.quality){case"low":z=.5*W;break;case"high":z=W}}},oe.prototype.getBaseWidth=function(){return this.baseWidth},oe.prototype.setBaseWidth=function(t){this.baseWidth=t},oe.prototype.getBaseHeight=function(){return this.baseHeight},oe.prototype.setBaseHeight=function(t){this.baseHeight=t},oe.prototype.getWidth=function(){return this.width},oe.prototype.setWidth=function(t){t<0&&(t*=-1),this.width=t},oe.prototype.getHeight=function(){return this.height},oe.prototype.setHeight=function(t){t<0&&(t*=-1),this.height=t},oe.prototype.getScale=function(){return this.scale},oe.prototype.setScale=function(t){this.scale=t},oe.prototype.getMatrix=function(){return this.matrix},oe.prototype.setMatrix=function(t){this.matrix=t},oe.prototype.getCharacter=function(t){return this.characters[t]},oe.prototype.setCharacter=function(t,e){this.characters[t]=e},oe.prototype.getInstance=function(t){return this.instances[t]},oe.prototype.setInstance=function(t){this.instances[t.instanceId]=t},oe.prototype.getPlaceObject=function(t,e,i){var o=this.placeObjects;if(!(t in o))return null;var r=o[t];if(!(i in r))return null;var a=r[i];return e in a?a[e]:null},oe.prototype.setPlaceObject=function(t,e,i,o){var r=this.placeObjects;e in r||(r[e]=[]),o in r[e]||(r[e][o]=[]),r[e][o][i]=t},oe.prototype.copyPlaceObject=function(t,e,i){var o=this.getPlaceObject(t,e,i-1);this.setPlaceObject(o,t,e,i)},oe.prototype.removePlaceObject=function(t){delete this.placeObjects[t]},oe.prototype.getFrameRate=function(){return this.frameRate},oe.prototype.setFrameRate=function(t){this.frameRate=1e3/t|0},oe.prototype.loadEvent=function(){var t=this;switch(t.loadStatus){case 2:t.resize(),t.loadStatus++;break;case 3:if(!t.isLoad||!t.stopFlag||t.imgUnLoadCount>0)break;t.loadStatus++,t.loaded()}4!==t.loadStatus&&I(function(){t.loadEvent()},0)},oe.prototype.parse=function(t,e){this.isLoad=!1;var i=new pt,o=new ut(this,i);if(Z?i.setData(new Uint8Array(t)):i.init(t),this.setSwfHeader(i,o)){var r=this.getParent();r._url=location.href;var a=o.parse(r);r.container=[];for(var n=1,s=r.getTotalFrames()+1;n<s;)r.container[n++]=[];r.instances=[],o.build(a,r);var c=e.split("?")[1];if(c)for(var l=c.split("&"),h=l.length;h--;){var p=l[h].split("=");p.length>1&&r.setVariable(p[0],p[1])}var g=this.FlashVars;for(var u in g)g.hasOwnProperty(u)&&r.setVariable(u,g[u])}this.isLoad=!0},oe.prototype.setSwfHeader=function(t,e){var i=t.data;if(255===i[0]&&216===i[1])return this.parseJPEG(i,e),!1;var o=t.getHeaderSignature(),r=t.getVersion();this.setVersion(r);var a=t.getUI32();switch(this.fileSize=a,o){case"FWS":break;case"CWS":t.deCompress(a,"ZLIB");break;case"ZWS":return M("not support LZMA"),!1}var s=e.rect(),c=t.getUI16()/256;return t.getUI16(),this.setBaseWidth(n((s.xMax-s.xMin)/20)),this.setBaseHeight(n((s.yMax-s.yMin)/20)),this.setFrameRate(c),this.loadStatus++,!0},oe.prototype.parseJPEG=function(t,i){var o=this,r=e.createElement("img");r.addEventListener("load",function(){var t=this.width,e=this.height,i=ht.getCanvas();i.width=t,i.height=e;var r=i.getContext("2d");r.drawImage(this,0,0,t,e),o.setCharacter(1,r);var a=20*t,n=20*e;o.setBaseWidth(t),o.setBaseHeight(e);var s={ShapeRecords:[{FillStyle1:1,StateFillStyle0:0,StateFillStyle1:1,StateLineStyle:0,StateMoveTo:0,StateNewStyles:0,isChange:!0},{AnchorX:a,AnchorY:0,ControlX:0,ControlY:0,isChange:!1,isCurved:!1},{AnchorX:a,AnchorY:n,ControlX:0,ControlY:0,isChange:!1,isCurved:!1},{AnchorX:0,AnchorY:n,ControlX:0,ControlY:0,isChange:!1,isCurved:!1},{AnchorX:0,AnchorY:0,ControlX:0,ControlY:0,isChange:!1,isCurved:!1},0],fillStyles:{fillStyleCount:1,fillStyles:[{bitmapId:1,bitmapMatrix:[20,0,0,20,0,0],fillStyleType:65}]},lineStyles:{lineStyleCount:0,lineStyles:[]}},c={xMin:0,xMax:a,yMin:0,yMax:n},l=ct.convert(s);o.setCharacter(2,{tagType:22,data:l,bounds:c});var h=o.getParent(),p=new Xt;p.setParent(h),p.setStage(o),p.setData(l),p.setTagType(22),p.setCharacterId(2),p.setBounds(c),p.setLevel(1),h.container[1]=[],h.container[1][1]=p.instanceId;var g=new gt;o.setPlaceObject(g,p.instanceId,1,1),o.init()});for(var a=t.length,n=0;n<a;n++)S(t[n]);var s=i.parseJpegData(t);r.src="data:image/jpeg;base64,"+i.base64encode(s)},oe.prototype.resize=function(){var i=e.getElementById(this.getName());if(!i)return 0;var a=this.optionWidth,n=this.optionHeight,s=e.documentElement,c=r(s.clientWidth,t.innerWidth||0),l=r(s.clientHeight,t.innerHeight||0),h=i.parentNode;"BODY"!==h.tagName&&(c=h.offsetWidth,l=h.offsetHeight);var p=a>0?a:c,g=n>0?n:l,u=this.getBaseWidth(),f=this.getBaseHeight(),d=o(p/u,g/f),v=u*d,y=f*d;if(v!==this.getWidth()||y!==this.getHeight()){var b=i.style;b.width=v+"px",b.height=y+"px",b.top=0,b.left=p/2-v/2+"px",v*=W,y*=W,this.setScale(d),this.setWidth(v),this.setHeight(y);var m=this.context.canvas;m.width=v,m.height=y;var S=this.preContext.canvas;S.width=v,S.height=y;var A=this.hitContext.canvas;if(A.width=v,A.height=y,R&&j){var I=U.canvas;I.width=v,I.height=y}var C=this.getParent(),x=d*z/20;this.setMatrix(C.cloneArray([x,0,0,x,0,0]))}},oe.prototype.loaded=function(){var i=this;i.buttonHits=[],i.downEventHits=[],i.moveEventHits=[],i.upEventHits=[],i.keyDownEventHits=[],i.keyUpEventHits=[],i.actions=[],i.deleteNode();var o=e.getElementById(i.getName());if(o){var r=i.getParent();r.initFrame(),r.addActions(i),i.executeAction();var a=i.callback;"function"==typeof a&&a.call(t,r),i.render(),i.renderMain();var n=i.context.canvas;if(G){var s=i.loadSounds,c=s.length;if(c){var l=function(){n.removeEventListener(J,l);for(var t=c;t--;){if(t in s)s[t].load()}};n.addEventListener(J,l)}}n.addEventListener(J,function(t){K=t,i.touchStart(t)}),n.addEventListener(Q,function(t){K=t,i.touchMove(t)}),n.addEventListener($,function(t){K=t,i.touchEnd(t)}),o.appendChild(n),i.play()}},oe.prototype.deleteNode=function(t){var i=e.getElementById(t||this.getName());if(i){var o=i.childNodes,r=o.length;if(r)for(;r--;)i.removeChild(o[r])}},oe.prototype.nextFrame=function(){this.downEventHits=[],this.moveEventHits=[],this.upEventHits=[],this.keyDownEventHits=[],this.keyUpEventHits=[];var t=this.getParent(),e=this.mouse.events,i=e.onMouseDown;i&&(this.downEventHits[this.downEventHits.length]={as:i,mc:t});var o=e.onMouseMove;o&&(this.moveEventHits[this.moveEventHits.length]={as:o,mc:t});var r=e.onMouseUp;r&&(this.upEventHits[this.upEventHits.length]={as:r,mc:t}),this.putFrame(),this.addActions(),this.executeAction(),this.render(),this.renderMain()},oe.prototype.putFrame=function(){this.newTags=[];var t=this.doneTags,e=t.length;if(e){Ut.type="enterFrame";for(var i=0;i<e;){t[i].putFrame(this,Ut),i++}}},oe.prototype.addActions=function(){var t=this.newTags,e=t.length;if(e)for(var i=0;i<e;){t[i].addActions(this),i++}},oe.prototype.render=function(){this.buttonHits=[],this.doneTags=[];var t=this.preContext;t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0);var e=this.getBackgroundColor();if(e&&"transparent"!==e)t.fillStyle=e,t.fillRect(0,0,this.getWidth()+1,this.getHeight()+1);else{var i=t.canvas;t.clearRect(0,0,i.width+1,i.height+1),this.context.clearRect(0,0,i.width+1,i.height+1)}this.getParent().render(t,this._matrix,this._colorTransform,this,!0)},oe.prototype.executeAction=function(){if(this.isAction&&this.actions.length){this.isAction=!1;for(var t=0;t<this.actions.length;){var e=this.actions[t];t++;var i=e.mc,o=e.args||[];if(i.active){var r=e.as;if("function"==typeof r)r.apply(i,o);else{var a=r.length;if(!a)continue;for(var n=0;n<a;)if(n in r){var s=r[n];"function"==typeof s&&s.apply(i,o),n++}}}}}this.actions=[],this.isAction=!0},oe.prototype.buttonAction=function(t,e){this.downEventHits=[],this.moveEventHits=[],this.upEventHits=[],this.keyDownEventHits=[],this.keyUpEventHits=[],e.execute(t),this.executeAction()},oe.prototype.renderMain=function(){var t=this.preContext.canvas,e=t.width,i=t.height;if(e>0&&i>0){var o=this.context;o.setTransform(1,0,0,1,0,0),o.drawImage(t,0,0,e,i)}},oe.prototype.reset=function(){this.instanceId=0;var t=new jt;t.reset(),t.setStage(this),this.parent=t,this.characters=[],this.instances=[],this.buttonHits=[],this.downEventHits=[],this.moveEventHits=[],this.upEventHits=[],this.keyDownEventHits=[],this.keyUpEventHits=[],this.sounds=[],this.loadSounds=[],this.actions=[]},oe.prototype.init=function(){var i,o=this,r=o.tagId;if(o.getId()in P)if(r){if("loading"===e.readyState){var a=function(){t.removeEventListener("DOMContentLoaded",a),o.init()};return t.addEventListener("DOMContentLoaded",a),0}var n=e.getElementById(r);if(!n)return M("Not Found Tag ID:"+r),0;(i=e.getElementById(o.getName()))?o.deleteNode():((i=e.createElement("div")).id=o.getName(),n.appendChild(i))}else e.body.insertAdjacentHTML("beforeend","<div id='"+o.getName()+"'></div>");(i=e.getElementById(o.getName()))&&(o.initStyle(i),o.loading()),o.canvas||o.initCanvas(),o.loadStatus++,o.loadEvent()},oe.prototype.initStyle=function(e){var i;(i=e.style).position="relative",i.top="0",i.backgroundColor="transparent",i.overflow="hidden",i["-webkit-backface-visibility"]="hidden";var o,r,a=e.parentNode,n=this.optionWidth,s=this.optionHeight;"BODY"===a.tagName?(o=n>0?n:t.innerWidth,r=s>0?s:t.innerHeight):(o=n>0?n:a.offsetWidth,r=s>0?s:a.offsetHeight),i.width=o+"px",i.height=r+"px",i["-webkit-user-select"]="none"},oe.prototype.initCanvas=function(){var i,o=this,r=e.createElement("canvas");r.width=1,r.height=1,(i=r.style).zIndex=0,i.position="absolute",i.top=0,i.left=0,i.zoom=100/z+"%",i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",i.MozTransformOrigin="0 0",i.MozTransform="scale("+1/z+")",R&&r.addEventListener("touchcancel",function(){o.touchEnd(K)}),G||(t.addEventListener("keydown",te),t.addEventListener("keyup",$t),t.addEventListener("keyup",function(t){q=t,o.touchEnd(t)})),o.context=r.getContext("2d"),o.canvas=r;var a=e.createElement("canvas");a.width=1,a.height=1,o.preContext=a.getContext("2d");var n=e.createElement("canvas");n.width=1,n.height=1,o.hitContext=n.getContext("2d")},oe.prototype.loading=function(){var t=e.getElementById(this.getName()),i=this.getName()+"_loading",o="<style>";o+="#"+i+" {\n",o+="position: absolute;\n",o+="top: 50%;\n",o+="left: 50%;\n",o+="margin: -24px 0 0 -24px;\n",o+="width: 50px;\n",o+="height: 50px;\n",o+="border-radius: 50px;\n",o+="border: 8px solid #dcdcdc;\n",o+="border-right-color: transparent;\n",o+="box-sizing: border-box;\n",o+="-webkit-animation: "+i+" 0.8s infinite linear;\n",o+="animation: "+i+" 0.8s infinite linear;\n",o+="} \n",o+="@-webkit-keyframes "+i+" {\n",o+="0% {-webkit-transform: rotate(0deg);}\n",o+="100% {-webkit-transform: rotate(360deg);}\n",o+="} \n",o+="@keyframes "+i+" {\n",o+="0% {transform: rotate(0deg);}\n",o+="100% {transform: rotate(360deg);}\n",o+="} \n",o+="</style>",t.innerHTML=o;var r=e.createElement("div");r.id=i,t.appendChild(r)},oe.prototype.reload=function(e,i){return this.stop(),4===this.loadStatus&&this.deleteNode(),this.loadStatus=0,this.isLoad=!1,this.reset(),t.swf2js.load(e,{optionWidth:i.optionWidth||this.optionWidth,optionHeight:i.optionHeight||this.optionHeight,callback:i.callback||this.callback,tagId:i.tagId||this.tagId,renderMode:i.renderMode||this.renderMode,FlashVars:i.FlashVars||this.FlashVars,quality:i.quality||this.quality,bgcolor:i.bgcolor||this.bgcolor,stage:this})},oe.prototype.output=function(t,e,i,o){var r=this;if(!r.isLoad||r.stopFlag)return I(function(){r.output(t,e,i,o)},500),0;r.stop(),e=e||1,i=i||r.getWidth(),o=o||r.getHeight();var a=r.getParent();a.reset(),a.gotoAndStop(e),i===r.getWidth()&&o===r.getHeight()||(r.optionWidth=i,r.optionHeight=o,r.resize()),a.addActions();var n=r.preContext.canvas;n.style.backgroundColor=r.backgroundColor,r.render();var s=new XMLHttpRequest;s.open("POST",t,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.onreadystatechange=function(){if(4===s.readyState)switch(s.status){case 200:case 304:F.log("OUTPUT SUCCESS");break;default:M(s.statusText)}};var c=n.toDataURL();s.send("data="+encodeURIComponent(c))},oe.prototype.hitCheck=function(i){this.isHit=!1;var o=this.buttonHits,r=o.length;if(!r)return 0;var a=e.getElementById(this.getName()).getBoundingClientRect(),n=t.pageXOffset+a.left,s=t.pageYOffset+a.top,c=0,l=0;if(G){var h=i.changedTouches[0];c=h.pageX,l=h.pageY}else c=i.pageX,l=i.pageY;c-=n,l-=s;var p=this.getScale();c/=p,l/=p;var g=this.hitContext,u=g.canvas,f=u.width,d=u.height,v=c*p*z,y=l*p*z;if(this.abcFlag){var b=this.getParent();g.setTransform(1,0,0,1,0,0),g.clearRect(0,0,f,d);var m=b.hitCheck(g,[1,0,0,1,0,0],this,v,y);return"object"==typeof m&&m}for(var S=r;S--;)if(S in o){var A=o[S];if(void 0!==A){var I=!1;if(c>=A.xMin&&c<=A.xMax&&l>=A.yMin&&l<=A.yMax){var C=A.matrix;if(C){var x=A.parent,k=A.button;g.setTransform(1,0,0,1,0,0),g.clearRect(0,0,f,d),I=k?k.renderHitTest(g,C,this,v,y):x.renderHitTest(g,C,this,v,y)}else I=!0}if(I)return i.preventDefault(),this.isHit=!0,A}}return 0},oe.prototype.executeEventAction=function(t,e,i){var o=i||[];if(t){if("function"==typeof t)t.apply(e,o);else{var r=t.length;if(r)for(var a=0;a<r;){var n=t[a];"function"==typeof n&&n.apply(e,o),a++}}this.executeAction()}},oe.prototype.touchStart=function(t){if("up"===this.touchStatus){this.touchStatus="down",this.isHit=!1,this.isTouchEvent=!0,this.touchEndAction=null;var e,i,o=this.downEventHits,r=o.length;if(r){t.preventDefault();for(var a=0;a<r;a++){var n=o[a];e=n.mc,(i=n.as)||(i=e.variables.onMouseDown),this.executeEventAction(i,n.mc)}this.downEventHits=[]}var s=this.hitCheck(t);this.isHit&&((e=s.parent).active&&(e.setButtonStatus("down"),e instanceof Ht?this.appendTextArea(e,s):this.executePress(e,s)),null===this.touchObj&&(this.touchObj=s))}},oe.prototype.executePress=function(t,e){var i,o,r,a,n,s=!1,c=new Bt;i=t.events,G&&((a=i.rollOver)&&(c.type="rollOver",c.target=t,this.executeEventAction(a,t,[c]),s=!0),"function"==typeof(n=t.variables.onRollOver)&&(this.executeEventAction(n,t),s=!0)),(o=(i=t.events).press)&&(c.type="press",c.target=t,this.executeEventAction(o,t,[c]),s=!0),"function"==typeof(r=t.variables.onPress)&&(this.executeEventAction(r,t),s=!0);var l=e.button;if(l){i=l.events,G&&((a=i.rollOver)&&(c.type="rollOver",c.target=l,this.executeEventAction(a,l,[c])),"function"==typeof(n=l.variables.onRollOver)&&this.executeEventAction(n,l)),l.setButtonStatus("down"),G&&this.executeButtonAction(l,t,"CondIdleToOverUp");var h=l.getActions(),p=h.length;if(p)for(var g=this.touchObj,u=0;u<p;u++)if(u in h){var f=h[u];if(f.CondOverDownToOverUp&&null===g)this.touchEndAction=f.ActionScript;else{var d=f.CondKeyPress;13===e.CondKeyPress&&e.CondKeyPress!==d||(G?(13===d||d>=48&&d<=57||f.CondOverUpToOverDown)&&this.buttonAction(t,f.ActionScript):f.CondOverUpToOverDown&&this.buttonAction(t,f.ActionScript))}}(o=i.press)&&(c.type="press",c.target=l,this.executeEventAction(o,l,[c])),"function"==typeof(r=l.variables.onPress)&&this.executeEventAction(r,l),l.getSprite().startSound(),l.addActions(this),this.executeAction(),s=!0}s&&this.touchRender()},oe.prototype.appendTextArea=function(t,i){t.inputActive=!0;var o,r=e.getElementById(t.getTagName());if(!r){r=t.input;var a,s=t.getProperty("variable");if(s)void 0===(a=t.getParent().getProperty(s))&&(a=t.getVariable("text"));void 0!==a&&(r.value=a);var c=t.getVariable("maxChars");if(c&&(r.maxLength=c),t.getVariable("border")){r.style.border="1px solid black";var l=t.getVariable("backgroundColor");r.style.backgroundColor="rgba("+l.R+","+l.G+","+l.B+","+l.A+")"}var h=this.getScale(),p=i.xMin,g=i.yMin,u=i.xMax-p,f=i.yMax-g;r.style.left=n(p*h)-3+"px",r.style.top=n(g*h)-3+"px",r.style.width=n(u*h)+6+"px",r.style.height=n(f*h)+6+"px";var d=e.getElementById(this.getName());if(d){d.appendChild(r),r.focus();I((o=r,function(){o.focus()}),10)}}},oe.prototype.touchMove=function(t){var e,i,o,r,a,n,s,c,l,h,p,g=this.overObj,u=this.moveEventHits,f=u.length,d=new Bt;if(f){t.preventDefault();for(var v=0;v<f;v++){var y=u[v];e=y.mc,(i=y.as)||(i=e.variables.onMouseMove),this.executeEventAction(i,e)}this.moveEventHits=[]}if(!G||G&&this.isTouchEvent){var b=null,m=this.touchObj;(m||"up"===this.touchStatus)&&(b=this.hitCheck(t));var S=!1;if(!G){var A=this.canvas;this.isHit||m?A.style.cursor=b?"pointer":"auto":A.style.cursor="auto"}m?(o=m.button,(e=m.parent).active&&(this.overObj=b,b&&b.parent.instanceId===e.instanceId&&b.button===o?("up"===e.getButtonStatus()&&(e.setButtonStatus("down"),(r=e.events.dragOver)&&(d.type="dragOver",d.target=e,S=!0,this.executeEventAction(r,e,[d])),"function"==typeof(a=e.variables.onDragOver)&&(S=!0,this.executeEventAction(a,e))),o&&"up"===o.getButtonStatus()&&(o.setButtonStatus("down"),o.getSprite().startSound(),(r=o.events.dragOver)&&(d.type="dragOver",d.target=o,S=!0,this.executeEventAction(r,o,[d])),"function"==typeof(a=o.variables.onDragOver)&&(S=!0,this.executeEventAction(a,o)),o.addActions(this),this.executeAction())):("down"===e.getButtonStatus()&&((n=e.events.dragOut)&&(d.type="dragOut",d.target=e,S=!0,this.executeEventAction(n,e,[d])),"function"==typeof(s=e.variables.onDragOut)&&(S=!0,this.executeEventAction(s,e))),e.setButtonStatus("up"),o&&"down"===o.getButtonStatus()&&(o.setButtonStatus("up"),(n=o.events.dragOut)&&(d.type="dragOut",d.target=o,S=!0,this.executeEventAction(n,o,[d])),"function"==typeof(s=o.variables.onDragOut)&&(S=!0,this.executeEventAction(s,o)),o.addActions(this),this.executeAction())))):b?(g&&(o=g.button)&&o!==b.button&&(e=g.parent).active&&(o.setButtonStatus("up"),this.executeButtonAction(o,e,"CondOverUpToIdle")),o=b.button,e=b.parent,!G&&e.active&&(g&&g.parent===e||((c=e.events.rollOver)&&(d.type="rollOver",d.target=e,S=!0,this.executeEventAction(c,e,[d])),"function"==typeof(l=e.variables.onRollOver)&&(S=!0,this.executeEventAction(l,e)))),o&&(o.setButtonStatus("over"),o.getSprite().startSound(),G||g&&g.button===o||(S=!0,this.executeButtonAction(o,e,"CondIdleToOverUp"),(c=o.events.rollOver)&&(d.type="rollOver",d.target=o,S=!0,this.executeEventAction(c,o,[d])),"function"==typeof(l=o.variables.onRollOver)&&this.executeEventAction(l,o)),o.addActions(this),this.executeAction()),this.overObj=b):"up"===this.touchStatus&&(this.overObj=null),!m&&g&&(o=g.button,(e=g.parent).active&&(b&&b.parent===e||(e.setButtonStatus("up"),(h=e.events.rollOut)&&(d.type="rollOut",d.target=e,S=!0,this.executeEventAction(h,e,[d])),"function"==typeof(p=e.variables.onRollOut)&&(S=!0,this.executeEventAction(p,e))),!o||b&&b.button===o||(o.setButtonStatus("up"),this.executeButtonAction(o,e,"CondOverUpToIdle"),(h=o.events.rollOut)&&(d.type="rollOut",d.target=o,S=!0,this.executeEventAction(h,o,[d])),"function"==typeof(p=o.variables.onRollOut)&&(S=!0,this.executeEventAction(p,o)),o.addActions(this),this.executeAction()))),S&&this.touchRender()}var I=this.dragMc;I&&(t.preventDefault(),I.executeDrag(),this.isHit=!0)},oe.prototype.touchEnd=function(t){var e,i,o,r,a,n,s,c=new Bt,l=this.touchObj;l&&(e=l.button)&&e.setButtonStatus("up");var h=this.upEventHits,p=h.length;if(p){t.preventDefault();for(var g=0;g<p;g++){var u=h[g];i=u.mc,(o=u.as)||(o=i.variables.onMouseUp),this.executeEventAction(o,u.mc)}this.upEventHits=[]}var f=this.hitCheck(t);this.dragMc&&(f=l,this.isHit=!0);var d,v,y=!1;if(l){if((i=l.parent).setButtonStatus("up"),e=l.button,this.isHit){var b=this.touchEndAction;if(i.active&&(i===f.parent&&(null!==b&&(this.buttonAction(i,b),y=!0),(r=i.events.release)&&(c.type="release",c.target=i,this.executeEventAction(r,i,[c]),y=!0),"function"==typeof(a=i.variables.onRelease)&&(this.executeEventAction(a,i),y=!0)),e)){e===f.button&&((r=e.events.release)&&(c.type="release",c.target=e,this.executeEventAction(r,e,[c])),"function"==typeof(a=e.variables.onRelease)&&this.executeEventAction(a,e));var m="up";G||f&&f.button===e&&(m="over"),e.setButtonStatus(m),e.getSprite("hit").startSound(),e.addActions(this),this.executeAction(),y=!0}}!i.active||f&&i===f.parent||((n=i.events.releaseOutside)&&(c.type="releaseOutside",c.target=i,this.executeEventAction(n,i,[c]),y=!0),"function"==typeof(s=i.variables.onReleaseOutside)&&(this.executeEventAction(s,i),y=!0)),!e||f&&e===f.button||(y=!0,(n=e.events.releaseOutside)&&(c.type="releaseOutside",c.target=e,this.executeEventAction(n,e,[c]),y=!0),"function"==typeof(s=e.variables.onReleaseOutside)&&this.executeEventAction(s,e),e.setButtonStatus("up"),e.addActions(this),this.executeAction())}if(this.isHit=!1,this.isTouchEvent=!1,this.touchObj=null,this.touchStatus="up",!G){this.hitCheck(t);var S=this.canvas;this.isHit?S.style.cursor="pointer":S.style.cursor="auto"}f&&(i=f.parent,l&&i===l.parent||((d=i.events.rollOver)&&(y=!0,c.type="rollOver",c.target=i,this.executeEventAction(d,i,[c])),"function"==typeof(v=i.variables.onRollOver)&&(y=!0,this.executeEventAction(v,i))),(e=f.button)&&(l&&e===l.button||((d=e.events.rollOver)&&(y=!0,c.type="rollOver",c.target=e,this.executeEventAction(d,e,[c])),"function"==typeof(v=e.variables.onRollOver)&&(y=!0,this.executeEventAction(v,e)))));y&&(t.preventDefault(),this.touchRender()),q=null},oe.prototype.executeButtonAction=function(t,e,i){var o=t.getActions(),r=o.length;if(r)for(var a=0;a<r;a++)if(a in o){var n=o[a];n[i]&&this.buttonAction(e,n.ActionScript)}},oe.prototype.touchRender=function(){this.render(),this.renderMain()};var re=function(){};re.prototype.DropShadowFilter=mt,re.prototype.BlurFilter=bt,re.prototype.GlowFilter=St,re.prototype.BevelFilter=At,re.prototype.GradientGlowFilter=It,re.prototype.ConvolutionFilter=Ct,re.prototype.ColorMatrixFilter=xt,re.prototype.GradientBevelFilter=kt,re.prototype.BitmapFilter=yt,re.prototype.LoadVars=Zt,re.prototype.load=function(t,e){if("develop"===t&&(t=location.search.substr(1).split("&")[0]),t){var i=e&&e.stage instanceof oe?e.stage:new oe;i.setOptions(e),P[i.getId()]=i,i.init();var o=new XMLHttpRequest;o.open("GET",t,!0),Z?o.responseType="arraybuffer":o.overrideMimeType("text/plain; charset=x-user-defined"),o.onreadystatechange=function(){if(4===o.readyState)switch(o.status){case 200:case 304:var e=Z?o.response:o.responseText;i.parse(e,t),ht.reset();break;default:M(o.statusText)}},o.send(null)}else M("please set swf url")},re.prototype.reload=function(t,e){if(!Y)return this.load(t,e);var i=P[0];for(var o in P)if(P.hasOwnProperty(o)){var r=P[o];r.stop(),o&&(r.deleteNode(r.tagId),r=void 0)}Y=1,O=[],(P=[])[0]=i,i.reload(t,e)},re.prototype.createRootMovieClip=function(i,o,r,a){var n=new oe;if(i=i||240,o=o||240,r=r||60,n.setBaseWidth(i),n.setBaseHeight(o),n.setFrameRate(r),n.setOptions(a),P[n.getId()]=n,n.init(),n.isLoad=!0,"loading"===e.readyState){var s=function(){t.removeEventListener("DOMContentLoaded",s,!1),n.resize(),n.loaded()};t.addEventListener("DOMContentLoaded",s,!1)}return n.getParent()},t.swf2js=new re}(window);
